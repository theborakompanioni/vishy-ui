+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}e.fn.emulateTransitionEnd=function(t){var i=!1,a=this;e(this).one(e.support.transition.end,function(){i=!0});var n=function(){i||e(a).trigger(e.support.transition.end)};return setTimeout(n,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){"use strict";var t=function(i,a){this.options=e.extend({},t.DEFAULTS,a),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=e(document).height(),a=this.$window.scrollTop(),n=this.$element.offset(),r=this.options.offset,s=r.top,o=r.bottom;"top"==this.affixed&&(n.top+=a),"object"!=typeof r&&(o=s=r),"function"==typeof s&&(s=r.top(this.$element)),"function"==typeof o&&(o=r.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=n.top?!1:null!=o&&n.top+this.$element.height()>=i-o?"bottom":null!=s&&s>=a?"top":!1;if(this.affixed!==l){this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),d=e.Event(c+".bs.affix");this.$element.trigger(d),d.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:i-o-this.$element.height()}))}}};var i=e.fn.affix;e.fn.affix=function(i){return this.each(function(){var a=e(this),n=a.data("bs.affix"),r="object"==typeof i&&i;n||a.data("bs.affix",n=new t(this,r)),"string"==typeof i&&n[i]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.affix(i)})})}(jQuery),+function(e){"use strict";var t=function(i,a){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var a=i.data("bs.collapse");if(a&&a.transitioning)return;i.collapse("hide"),a||i.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var s=e.camelCase(["scroll",n].join("-"));this.$element.one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350)[n](this.$element[0][s])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[i](0).one(e.support.transition.end,e.proxy(a,this)).emulateTransitionEnd(350):a.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var a=e(this),n=a.data("bs.collapse"),r=e.extend({},t.DEFAULTS,a.data(),"object"==typeof i&&i);!n&&r.toggle&&"show"==i&&(i=!i),n||a.data("bs.collapse",n=new t(this,r)),"string"==typeof i&&n[i]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var i,a=e(this),n=a.attr("data-target")||t.preventDefault()||(i=a.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),r=e(n),s=r.data("bs.collapse"),o=s?"toggle":a.data(),l=a.attr("data-parent"),c=l&&e(l);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(a).addClass("collapsed"),a[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(o)})}(jQuery),function(e){e.module("tbkBackgroundAnimations.config",[]).value("tbkBackgroundAnimations.config",{debug:!0}),e.module("tbkBackgroundAnimations.directives",[]),e.module("tbkBackgroundAnimations.services",[]),e.module("tbkBackgroundAnimations.core",["tbkBackgroundAnimations.config","tbkBackgroundAnimations.directives","tbkBackgroundAnimations.services"]),e.module("tbkBackgroundAnimations.animations",["tbkBackgroundAnimations.core"]),e.module("tbkBackgroundAnimations",["tbkBackgroundAnimations.core","tbkBackgroundAnimations.animations"])}(angular),angular.module("tbkBackgroundAnimations.services").factory("tbkAnimationFrame",["$window",function(e){"use strict";var t=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(),i=function(){return e.cancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.clearTimeout}();return{request:function(i){return t.call(e,i)},cancel:function(t){return i.call(e,t)}}}]),angular.module("tbkBackgroundAnimations.services").factory("tbkColors",["$window",function(e){"use strict";var t=function a(e,t){var i=t||"#000",n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(n,function(e,t,i,a){return t+t+i+i+a+a});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:a(i,"#000")},i=function(e,t,i){return"#"+((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)};return{rgbToHex:i,hexToRgb:t}}]),function(e,t){"use strict";var i=function(e,t){return function(i,a){function n(){f.fillStyle=h.backgroundColor,f.fillRect(0,0,u,p)}function r(){this.x=Math.random()*u,this.y=Math.random()*p,this.vx=-1+2*Math.random(),this.vy=-1+2*Math.random(),this.radius=h.particleSize,this.draw=function(){f.fillStyle=h.particleColor,f.beginPath(),f.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),f.fill()}}function s(){n();for(var e=0,t=g.length;t>e;e++)g[e].draw();o()}function o(){for(var e=h.minDistance,t=0,i=g.length;i>t;t++){var a=g[t];a.x+=a.vx,a.y+=a.vy,a.x+a.radius>u?a.x=a.radius:a.x-a.radius<0&&(a.x=u-a.radius),a.y+a.radius>p?a.y=a.radius:a.y-a.radius<0&&(a.y=p-a.radius);for(var n=t+1;i>n;n++){var r=g[n],s=d(a,r);e>=s&&(c(a,r,s/e),l(a,r,h.accelerate))}}}function l(e,t,i){var a=e.x-t.x,n=e.y-t.y,r=a*i,s=n*i;e.vx-=r,e.vy-=s,t.vx+=r,t.vy+=s}function c(e,t,i){f.beginPath(),f.strokeStyle="rgba("+m+","+(1.2-i)+")",f.moveTo(e.x,e.y),f.lineTo(t.x,t.y),f.stroke(),f.closePath()}function d(e,t){var i=e.x-t.x,a=e.y-t.y;return Math.sqrt(i*i+a*a)}var u=i.width,p=i.height,h=a||{};if(h.backgroundColor||(h.backgroundColor="rgba(0,0,0,1)"),h.particleColor||(h.particleColor="#fff"),h.particleSize||(h.particleSize=3),!h.particleCount){var v=Math.round(u*p/600);h.particleCount=Math.max(50,v)}h.minDistance||(h.minDistance=100),h.accelerate||(h.accelerate=1/3e3),h.strokeColor||(h.strokeColor="#fff");for(var m=t.hexToRgb(h.strokeColor,"#fff").join(","),f=i.getContext("2d"),g=[],b=0,y=h.particleCount;y>b;b++)g.push(new r);var w;return function k(){s(),w=e.request(k)}(),function(){e.cancel(w)}}};e.module("tbkBackgroundAnimations.animations.ParticleGravity",["tbkBackgroundAnimations.animations"]).factory("tbkParticleGravityAnimationService",["tbkAnimationFrame","tbkColors",function(e,t){return i(e,t)}]).directive("tbkParticleGravityAnimation",["tbkParticleGravityAnimationService",function(t){return{scope:{width:"@",height:"@",style:"=?",options:"=?"},template:"<canvas></canvas>",controller:[function(){}],compile:function(i){var a=i.children()[0];return function(i){i.options=i.options||{},i.style=i.style||[],a.width=i.width||a.width,a.height=i.height||a.height;var n=e.element(a);e.forEach(i.style,function(e,t){n.css(t,e)});var r=t(a,i.options);i.$on("$destroy",function(){r()})}}}}])}(angular),function(e,t){"use strict";function i(e){var t=this,i=e||{},n=(i.colorRgbArray||[0,0,0]).join(",");this.draw=function(e,r,s){(!t.options||t.options.alpha<=0)&&(t.options=a(r,s,i)),t.options.pos.y-=t.options.velocity,t.options.alpha-=5e-4,e.beginPath(),e.arc(t.options.pos.x,t.options.pos.y,10*t.options.scale,0,2*Math.PI,!1),e.fillStyle="rgba("+n+","+t.options.alpha+")",e.fill()}}var a=function(e,t,i){var a=i||{},n=a.alphaFactor||.5,r=a.scaleFactor||.5,s=a.velocityFactor||1;return{pos:{x:Math.random()*e,y:t+100*Math.random()},alpha:.1+Math.random()*n,scale:.1+Math.random()*r,velocity:.1+Math.random()*s}},n=function(e,t){return function(a,n){function r(){d.fillStyle=c.backgroundColor,d.fillRect(0,0,o,l)}function s(){r();for(var e=0,t=u.length;t>e;e++)u[e].draw(d,o,l)}var o=a.width,l=a.height,c=n||{};c.bubbleCount||(c.bubbleCount=.5*o),c.bubbleColor||(c.bubbleColor="#000"),c.backgroundColor||(c.backgroundColor="#fff");for(var d=a.getContext("2d"),u=[],p={colorRgbArray:t.hexToRgb(c.bubbleColor,"#000"),alphaFactor:c.alphaFactor||.5,scaleFactor:c.scaleFactor||.5,velocityFactor:c.velocityFactor||1},h=0;h<c.bubbleCount;h++)u.push(new i(p));var v;return function m(){s(),v=e.request(m)}(),function(){e.cancel(v)}}};e.module("tbkBackgroundAnimations.animations.Bubbles",["tbkBackgroundAnimations.animations"]).factory("tbkBubblesAnimationService",["tbkAnimationFrame","tbkColors",function(e,t){return n(e,t)}]).directive("tbkBubblesAnimation",["tbkBubblesAnimationService",function(t){return{scope:{width:"@",height:"@",style:"=?",options:"=?"},template:"<canvas></canvas>",controller:[function(){}],compile:function(i){var a=i.children()[0];return function(i){i.options=i.options||{},i.style=i.style||[],a.width=i.width||a.width,a.height=i.height||a.height;var n=e.element(a);e.forEach(i.style,function(e,t){n.css(t,e)});var r=t(a,i.options);i.$on("$destroy",function(){r()})}}}}])}(angular),angular.module("tbk.draggable",[]).directive("tbkDraggable",["$document",function(e){return function(t,i){function a(e){l=e.pageY-s,o=e.pageX-r,i.css({top:l+"px",left:o+"px"})}function n(){e.off("mousemove",a),e.off("mouseup",n)}var r=0,s=0,o=0,l=0;i.on("mousedown",function(t){t.preventDefault(),r=t.pageX-o,s=t.pageY-l,e.on("mousemove",a),e.on("mouseup",n)})}}]),angular.module("tbk.githubVersion",[]).directive("tbkGithubVersion",function(){var e={scope:{repo:"@tbkGithubVersion"},template:"<span>{{version}}</span>",controller:["$scope","$http",function(e,t){e.version="?",t.get("https://api.github.com/repos/"+e.repo+"/git/refs/tags",{cache:!0}).success(function(t){if(angular.isArray(t)&&t.length>0){var i=t[t.length-1],a=i.ref.search(/(\d(\.)?){3}.*$/);if(a>-1){var n=i.ref.substring(a,i.ref.length);e.version=n}}})}],link:function(e,t){t.addClass("tbk-github-version")}};return e}),function(e){var t=1e3,i=60*t,a=60*i,n=24*a,r=7*n,s=365*n,o=s/12;e.module("tbk.readableTime.config",[]).value("tbkReadableTimeConfig",{debug:!0,time:{second:t,minute:i,hour:a,day:n,week:r,month:o,year:s}}),e.module("tbk.readableTime.directives",[]),e.module("tbk.readableTime.filters",["tbk.readableTime.config"]),e.module("tbk.readableTime",["tbk.readableTime.config","tbk.readableTime.directives","tbk.readableTime.filters"])}(angular),function(e){e.module("tbk.readableTime.directives").directive("tbkReadableTimeCountdown",[function(){var e={scope:{start:"@",interval:"@",minUnit:"@",reverse:"@"},controller:["$scope","$interval",function(e,t){var i=e.reverse?-1:1,a=function(){return(e.start-(new Date).getTime())*i};e.milliseconds=a(),t(function(){e.milliseconds=a()},e.interval||1e3)}],template:"<span>{{ milliseconds | tbkReadableTimeRecursive:minUnit }}</span>"};return e}])}(angular),function(e){e.module("tbk.readableTime.directives").directive("tbkReadableTimeCountup",[function(){var e={scope:{start:"@",interval:"@",minUnit:"@",reverse:"@"},controller:["$scope",function(e){e.reverse=!!e.reverse||!1}],template:'<span tbk-readable-time-countdown data-start="{{start}}"  data-interval="{{interval}}"  data-min-unit="{{minUnit}}"  data-reverse="{{!reverse}}"></span>'};return e}])}(angular),function(e){e.module("tbk.readableTime.filters").filter("tbkReadableTime",["$injector","$filter","tbkReadableTimeConfig",function(e,t,i){var a=i.time,n=function(i,a){var n=a;if(1!==i&&(n+="s"),e.has("translateFilter")){var r="{{num}} "+n;return t("translate")(r,{num:i})}return i+" "+n},r=function(e,t){var i=Math.pow(10,t>=0?t:1);return Math.round(e*i)/i};return function(e,t){var i=t>0?t:0;switch(e=Math.round(e),!1){case e>=a.second:return n(r(e,i),"millisecond");case e>=a.minute:return n(r(e/a.second,i),"second");case e>=a.hour:return n(r(e/a.minute,i),"minute");case e>=a.day:return n(r(e/a.hour,i),"hour");case e>=a.week:return n(r(e/a.day,i),"day");case e>=a.month:return n(r(e/a.week,i),"week");case e>=a.year:return n(r(e/a.month,i),"month");default:return n(r(e/a.year,i),"year")}}}]).filter("tbkReadableTimeRecursive",["$filter","tbkReadableTimeFilter","tbkReadableTimeConfig",function(e,t,i){var a=i.time;return function(i,n){var r={minMilliseconds:a[n]>0?a[n]:0},s=e("tbkReadableTimeRecursive"),o=function(e,i){var a=Math.floor(l/i),o=l-a*i,c=o<=r.minMilliseconds||0===a;return t(l-o,0)+(c?"":" "+s(o,n))},l=Math.round(i);switch(!1){case l>=a.second:return t(l,0);case l>=a.minute:return o(l,a.second);case l>=a.hour:return o(l,a.minute);case l>=a.day:return o(l,a.hour);case l>=a.week:return o(l,a.day);case l>=a.month:return o(l,a.week);case l>=a.year:return o(l,a.month);default:return o(l,a.year)}}}])}(angular),function(e){e.module("angular-vissense.config",[]).value("angularVissenseConfig",{debug:!0}),e.module("angular-vissense.services",[]),e.module("angular-vissense.directives",["angular-vissense.services"]),e.module("angular-vissense.directives.debug",[]),e.module("angular-vissense",["angular-vissense.config","angular-vissense.directives","angular-vissense.services"])}(angular),function(e){e.module("angular-vissense.directives").directive("vissenseMonitor",["VisSense","VisUtils",function(e,t){var i={scope:{monitor:"=?ngModel",config:"@",onStart:"&",onStop:"&",onUpdate:"&",onHidden:"&",onVisible:"&",onFullyvisible:"&",onPercentagechange:"&",onVisibilitychange:"&"},link:function(i,a){var n=t.throttle(function(){i.$digest(),i.$parent.$digest()},1e3);a.addClass("vissense-monitor"),i.monitor=new e(a[0],i.config).monitor({start:function(e){i.onStart({monitor:e})},stop:function(e){i.onStop({monitor:e})},update:function(e){i.onUpdate({monitor:e}),n()},hidden:function(e){i.onHidden({monitor:e})},visible:function(e){i.onVisible({monitor:e})},fullyvisible:function(e){i.onFullyvisible({monitor:e})},percentagechange:function(e,t,a){i.onPercentagechange({monitor:e,newValue:t,oldValue:a})},visibilitychange:function(e){i.onVisibilitychange({monitor:e}),a.removeClass("vissense-monitor-hidden"),a.removeClass("vissense-monitor-fullyvisible"),a.removeClass("vissense-monitor-visible"),a.addClass(e.state().fullyvisible?"vissense-monitor-fullyvisible":e.state().hidden?"vissense-monitor-hidden":"vissense-monitor-visible")}}).startAsync(),i.$on("$destroy",function(){i.monitor.stop()})}};return i}])}(angular),function(e){e.module("angular-vissense.directives.debug").directive("vissenseMetricsInfocard",["VisSense","VisUtils",function(e,t){if(!t.isFunction(e.VisMon.Strategy.MetricsStrategy))throw new Error("Cannot load MetricsStrategy. Is it included?");if(!t.isFunction(e.VisMon.Strategy.MetricsStrategy))throw new Error("Cannot load MetricsStrategy. Is it included?");var i={scope:{elementId:"@vissenseMetricsInfocard",inactiveAfter:"@",hidden:"@"},controller:["$scope","$interval","VisSenseService",function(i,a,n){i.model={inactiveAfter:(parseInt(i.inactiveAfter,10)||3e4)-1};var r=n.fromId(i.elementId,{hidden:i.hidden}),s=[new e.VisMon.Strategy.PollingStrategy({interval:99}),new e.VisMon.Strategy.EventStrategy({debounce:30}),new e.VisMon.Strategy.MetricsStrategy];if(t.isFunction(e.VisMon.Strategy.UserActivityStrategy)){var o=new e.VisMon.Strategy.UserActivityStrategy({inactiveAfter:i.model.inactiveAfter});s.push(o)}var l=r.monitor({strategy:s,visibilitychange:t.debounce(function(e){i.$apply(function(){var t=e.state();i.code=t.code,i.state=t.state})},0)}).start(),c=t.debounce(function(){var e=l.metrics();i.$apply(function(){i.timeHidden=e.getMetric("time.hidden").get(),i.timeVisible=e.getMetric("time.visible").get(),i.timeFullyVisible=e.getMetric("time.fullyvisible").get(),i.timeRelativeVisible=e.getMetric("time.relativeVisible").get(),i.duration=e.getMetric("time.duration").get(),i.percentage={current:e.getMetric("percentage").get(),max:e.getMetric("percentage.max").get(),min:e.getMetric("percentage.min").get()}})},0),d=a(c,100);i.$on("$destroy",function(){l.stop(),a.cancel(d)})}],template:'<style>.vissense-metrics-container {margin: 0px;position: fixed;left: 42px;bottom: 13px;width: 600px;height: 200px;box-shadow: 1px 1px 1px 2px rgba(99, 99, 99, 0.4);z-index: 99999;background-color: rgba(242,242,242,0.9);}.vissense-flexbox {display: box;display: -webkit-box;display: -moz-box;box-orient: horizontal;-webkit-box-orient: horizontal;-moz-box-orient: horizontal;}.vissense-flexbox .box {font-size: 23px;padding: 10px;width: 150px;text-align: center;}.vissense-flexbox .vissense-box small {color: #888;}</style><div class="vissense-metrics-container"><div style="text-align:center"><span>state: <span data-ng-style="{ color : code > 0 ? \'green\' : \'red\'}">{{state}}</span></span> | <span data-vissense-user-activity data-inactive-after="{{model.inactiveAfter}}"></span></div><div class="vissense-flexbox"><div class="box"><div>{{timeVisible / 1000 | number:1}}s</div><small>time visible</small></div><div class="box"><div>{{timeFullyVisible / 1000 | number:1}}s</div><small>time fullyvisible</small></div><div class="box"><div>{{timeHidden * 100 / duration | number:0}}%</div><small>percentage hidden</small></div><div class="box"><div>{{timeVisible * 100 / duration | number:0}}%</div><small>percentage visible</small></div></div><div class="vissense-flexbox"><div class="box"><div>{{timeHidden / 1000 | number:1}}s</div><small>time hidden</small></div><div class="box"><div>{{timeRelativeVisible / 1000 | number:1}}s</div><small>time relative</small></div><div class="box"><div>{{percentage.min * 100 | number:0}}%</div><small>percentage min</small></div><div class="box"><div>{{percentage.max * 100 | number:0}}%</div><small>percentage max</small></div></div></div>'};return i}])}(angular),function(e){e.module("angular-vissense.directives.debug").directive("vissensePercentageTimeTest",["VisSenseService",function(e){var t={scope:{elementId:"@vissensePercentageTimeTest",timeLimit:"@",percentageLimit:"@",interval:"@"},controller:["$scope",function(t){var i=e.fromId(t.elementId);t.passed=!1,i.onPercentageTimeTestPassed(function(){t.$apply(function(){t.passed=!0})},{percentageLimit:t.percentageLimit||.5,timeLimit:t.timeLimit||1e3,interval:t.interval||100})}],template:"<span>{{percentageLimit * 100 | number:0}}/{{timeLimit / 1000 | number:0}} test: <span data-ng-style=\"{ color : passed ? 'green' : 'red'}\">{{passed}}</span></span>"};return t}]).directive("vissenseFiftyOneTest",[function(){var e={scope:{elementId:"@vissenseFiftyOneTest"},template:'<span data-vissense-percentage-time-test="{{elementId}}" data-percentage-limit="0.5" data-time-limit="1000" data-interval="100"></span>'};return e}]).directive("vissenseSixtyOneTest",[function(){var e={scope:{elementId:"@vissenseSixtyOneTest"},template:'<span data-vissense-percentage-time-test="{{elementId}}" data-percentage-limit="0.6" data-time-limit="1000" data-interval="100"></span>'};return e}])}(angular),function(e){e.module("angular-vissense.directives.debug").directive("vissensePercentage",["VisSenseService","VisUtils","$timeout",function(e,t,i){var a={scope:{elementId:"@vissensePercentage"},controller:["$scope",function(a){a.percentage="?",i(function(){var i=e.fromId(a.elementId).monitor({percentagechange:t.debounce(function(){a.$apply(function(){a.percentage=i.state().percentage})},10)}).start();a.$on("$destroy",function(){i.stop()})})}],template:"<span>{{percentage * 100 | number:0}}%</span>"};return a}])}(angular),function(e){e.module("angular-vissense.directives.debug").directive("vissenseState",["VisSenseService","VisUtils","$timeout",function(e,t,i){var a={scope:{elementId:"@vissenseState",fullyvisible:"@",hidden:"@",strategy:"@"},link:function(a){a.state="?",i(function(){var i=e.fromId(a.elementId,{fullyvisible:parseFloat(a.fullyvisible)||1,hidden:parseFloat(a.hidden)||0}).monitor({visibilitychange:t.debounce(function(e){a.$apply(function(){a.state=e.state().state})},10)}).start();a.$on("$destroy",function(){i.stop()})})},template:"<span>{{state}}</span>"};return a}]).directive("vissenseStateDebug",["VisSenseService","VisUtils","$timeout",function(e,t,i){var a={scope:{elementId:"@vissenseStateDebug"},controller:["$scope",function(a){a.state={},i(function(){var i=e.fromId(a.elementId).monitor({update:t.debounce(function(e){a.$apply(function(){a.state=e.state()})},10)}).start();a.$on("$destroy",function(){i.stop()})})}],template:"{{ state | json }}"};return a}])}(angular),function(e){e.module("angular-vissense.directives.debug").directive("vissenseUserActivity",["VisSense","VisUtils",function(e,t){var i={scope:{inactiveAfter:"@",debounce:"@"},controller:["$scope",function(i){if(i.active=!0,i.installed=t.isFunction(e.UserActivity),i.installed){i.options={inactiveAfter:parseInt(i.inactiveAfter,10)||3e4,debounce:parseInt(i.debounce,10)||50,update:t.debounce(function(e){i.active=e.isActive(),i.$digest()},10)};var a=new e.UserActivity(i.options).start();i.$on("$destroy",function(){a.stop()})}}],template:"<span>user active: <span data-ng-style=\"{ color : active ? 'green' : 'red'}\">{{active}}</span><span data-ng-if=\"!installed\"> (not installed)</span></span>"};return i}])}(angular),function(e){e.module("angular-vissense.services").factory("VisSense",["$window",function(e){return e.VisSense}]).factory("VisUtils",["VisSense",function(e){return e.Utils}]).factory("VisSenseService",["VisSense",function(t){var i=function(i,a){var n=e.element("#"+i);return n.length<1||!n[0]?null:new t(n[0],a)};return{fromId:i}}])}(angular),!function(e,t,i){"use strict";var a=e[t],n=i(e,e.document);e[t]=n,e[t].noConflict=function(){return e[t]=a,n}}(this,"VisSense",function(e,t,i){"use strict";function a(e,t){return function(){var a=arguments;return s(function(){e.apply(i,a)},t||0)}}function n(e,t){var i=f;return function(){var a=this,n=arguments;i(),i=s(function(){e.apply(a,n)},t)}}function r(e,t){var a=m(t),n=m(e);return a||n?a&&n?(c(Object.keys(t),function(a){e[a]===i&&(e[a]=t[a])}),e):a?t:e:t}function s(e,t){var i=setTimeout(function(){e()},t||0);return function(){clearTimeout(i)}}function o(e,t){return function(){return(v(e)?e():e)?t():i}}function l(e,t,i){for(var a=-1,n=Object.keys(t),r=n.length,s=v(i);++a<r;){var o=n[a];e[o]=s?i(e[o],t[o],o,e,t):t[o]}return e}function c(e,t,a){for(var n=0,r=e.length;r>n;n++){var s=t.call(a,e[n],n,e);if(s!==i)return s}}function d(e){return e}function u(e){return e!==i}function p(e){return e&&"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===Object.prototype.toString.call(e)||!1}function h(e){return e&&1===e.nodeType||!1}function v(e){return"function"==typeof e||!1}function m(e){var t=typeof e;return"function"===t||e&&"object"===t||!1}function f(){}function g(){return(new Date).getTime()}function b(e){var t,a=!1;return function(){return a||(t=e.apply(i,arguments),a=!0),t}}function y(e,t,i){var a=f,n=!1;return function(){var r=g(),o=arguments,l=function(){n=r,e.apply(i,o)};n&&n+t>r?(a(),a=s(l,t)):(n=r,s(l,0))}}function w(t){var i=t||e;return{height:i.innerHeight,width:i.innerWidth}}function k(t,i){return(i||e).getComputedStyle(t,null)}function x(e,t){return e.getPropertyValue(t)}function T(e,t){t||(t=k(e));var i=x(t,"display");if("none"===i)return!1;var a=x(t,"visibility");if("hidden"===a||"collapse"===a)return!1;var n=e.parentNode;return h(n)?T(n):!0}function C(t,i){if(t===(i||e).document)return!0;if(!t||!t.parentNode)return!1;var a=k(t,i);return T(t,a)}function q(e,t){return!e||e.width<=0||e.height<=0?!1:e.bottom>0&&e.right>0&&e.top<t.height&&e.left<t.width}function S(e,t){var i=e.getBoundingClientRect(),a=w(t);if(!q(i,a)||!C(e))return 0;var n=0,r=0;return i.top>=0?n=Math.min(i.height,a.height-i.top):i.bottom>0&&(n=Math.min(a.height,i.bottom)),i.left>=0?r=Math.min(i.width,a.width-i.left):i.right>0&&(r=Math.min(a.width,i.right)),Math.round(n*r/(i.height*i.width)*1e3)/1e3}function _(t){return!V(t||e).isHidden()}function A(t,i){if(!(this instanceof A))return new A(t,i);if(!h(t))throw new Error("not an element node");this._element=t,this._config=r(i,{fullyvisible:1,hidden:0,referenceWindow:e,percentageHook:S,visibilityHooks:[]});var a=V(this._config.referenceWindow);this._config.visibilityHooks.push(function(){return!a.isHidden()})}function j(e,t){var i=e.state(),a=i.percentage;return t&&a===t.percentage&&t.percentage===t.previous.percentage?t:i.hidden?A.VisState.hidden(a,t):i.fullyvisible?A.VisState.fullyvisible(a,t):A.VisState.visible(a,t)}function E(e,t){var i=r(t,{strategy:[new E.Strategy.PollingStrategy,new E.Strategy.EventStrategy],async:!1});this._visobj=e,this._state={},this._started=!1;var a="*#"+g();this._pubsub=new I({async:i.async,anyTopicName:a}),this._events=[a,"start","stop","update","hidden","visible","fullyvisible","percentagechange","visibilitychange"],this._strategy=new E.Strategy.CompositeStrategy(i.strategy),this._strategy.init(this),this._pubsub.on("update",function(e){var t=e._state.percentage,i=e._state.previous.percentage;t!==i&&e._pubsub.publish("percentagechange",[e,t,i])}),this._pubsub.on("update",function(e){e._state.code!==e._state.previous.code&&e._pubsub.publish("visibilitychange",[e])}),this._pubsub.on("visibilitychange",function(e){e._state.visible&&!e._state.previous.visible&&e._pubsub.publish("visible",[e])}),this._pubsub.on("visibilitychange",function(e){e._state.fullyvisible&&e._pubsub.publish("fullyvisible",[e])}),this._pubsub.on("visibilitychange",function(e){e._state.hidden&&e._pubsub.publish("hidden",[e])}),c(this._events,function(e){v(i[e])&&this.on(e,i[e])},this)}var V=function(t){return function(e,t){var i=function(e,t){return{property:e,event:t}},a="visibilitychange",n=[i("webkitHidden","webkit"+a),i("msHidden","ms"+a),i("mozHidden","moz"+a),i("hidden",a)],r=c(n,function(i){return e[i.property]!==t?{isHidden:function(){return!!e[i.property]||!1},onVisibilityChange:function(t){return e.addEventListener(i.event,t,!1),function(){e.removeEventListener(i.event,t,!1)}}}:void 0});return r||{isHidden:function(){return!1},onVisibilityChange:function(){return f}}}((t||e).document)},I=function(e){function t(e){this._cache={},this._onAnyCache=[],this._config=r(e,{async:!1,anyTopicName:"*"})}var i=function(e,t){c(e,function(e){e(t)})};return t.prototype.on=function(t,i){if(!v(i))return f;var n=function(t){return i.apply(e,t||[])},r=this._config.async?a(n):n,s=function(e,t,i){return function(){var i=t.indexOf(e);return i>-1?(t.splice(i,1),!0):!1}};return t===this._config.anyTopicName?(this._onAnyCache.push(r),s(r,this._onAnyCache,"*")):(this._cache[t]||(this._cache[t]=[]),this._cache[t].push(r),s(r,this._cache[t],t))},t.prototype.publish=function(e,t){var n=(this._cache[e]||[]).concat(e===this._config.anyTopicName?[]:this._onAnyCache),r=!!this._config.async,s=r?a(i):function(e,t){return i(e,t),f};return s(n,t||[])},t}();A.prototype.state=function(){var e=c(this._config.visibilityHooks,function(e){return e(this._element)?void 0:A.VisState.hidden(0)},this);return e||function(e,t){var i=t.percentageHook(e,t.referenceWindow);return i<=t.hidden?A.VisState.hidden(i):i>=t.fullyvisible?A.VisState.fullyvisible(i):A.VisState.visible(i)}(this._element,this._config)},A.prototype.percentage=function(){return this.state().percentage},A.prototype.element=function(){return this._element},A.prototype.referenceWindow=function(){return this._config.referenceWindow},A.prototype.isFullyVisible=function(){return this.state().fullyvisible},A.prototype.isVisible=function(){return this.state().visible},A.prototype.isHidden=function(){return this.state().hidden},A.fn=A.prototype,A.of=function(e,t){return new A(e,t)};var P={HIDDEN:[0,"hidden"],VISIBLE:[1,"visible"],FULLY_VISIBLE:[2,"fullyvisible"]};return A.VisState=function(){function e(e,t,i){return i&&delete i.previous,{code:e[0],state:e[1],percentage:t,previous:i||{},fullyvisible:e[0]===P.FULLY_VISIBLE[0],visible:e[0]===P.VISIBLE[0]||e[0]===P.FULLY_VISIBLE[0],hidden:e[0]===P.HIDDEN[0]}}return{hidden:function(t,i){return e(P.HIDDEN,t,i)},visible:function(t,i){return e(P.VISIBLE,t,i)},fullyvisible:function(t,i){return e(P.FULLY_VISIBLE,t,i)}}}(),E.prototype.visobj=function(){return this._visobj},E.prototype.publish=function(e,t){var i=this._events.indexOf(e)>=0;if(i)throw new Error('Cannot publish internal event "'+e+'" from external scope.');return this._pubsub.publish(e,t)},E.prototype.state=function(){return this._state},E.prototype.start=function(e){if(this._started)return this;var t=r(e,{async:!1});return this._cancelAsyncStart&&this._cancelAsyncStart(),t.async?this.startAsync():(this.update(),this._pubsub.publish("start",[this]),this._strategy.start(this),this._started=!0,this)},E.prototype.startAsync=function(e){this._cancelAsyncStart&&this._cancelAsyncStart();var t=this,i=s(function(){t.start(l(r(e,{}),{async:!1}))});return this._cancelAsyncStart=function(){i(),t._cancelAsyncStart=null},this},E.prototype.stop=function(){this._cancelAsyncStart&&this._cancelAsyncStart(),this._started&&(this._strategy.stop(this),this._pubsub.publish("stop",[this])),this._started=!1},E.prototype.update=function(){this._state=j(this._visobj,this._state),this._pubsub.publish("update",[this])},E.prototype.on=function(e,t){return this._pubsub.on(e,t)},E.Builder=function(){var e=function(e,t){var i=null,a=e.strategy===!1,n=!a&&(e.strategy||t.length>0);if(n){var r=!!e.strategy,s=p(e.strategy),o=r?s?e.strategy:[e.strategy]:[];i=o.concat(t)}else i=a?[]:e.strategy;return i};return function(t){var i={},a=[],n=[],r=!1,s=null;return{set:function(e,t){return i[e]=t,this},strategy:function(e){return a.push(e),this},on:function(e,t){return n.push([e,t]),this},build:function(o){var l=function(){var o=e(i,a);i.strategy=o;var l=t.monitor(i);return c(n,function(e){l.on(e[0],e[1])}),r=!0,s=l},d=r?s:l();return v(o)?o(d):d}}}}(),E.Strategy=function(){},E.Strategy.prototype.init=f,E.Strategy.prototype.start=f,E.Strategy.prototype.stop=f,E.Strategy.CompositeStrategy=function(e){this._strategies=p(e)?e:[e]},E.Strategy.CompositeStrategy.prototype=Object.create(E.Strategy.prototype),E.Strategy.CompositeStrategy.prototype.init=function(e){c(this._strategies,function(t){
v(t.init)&&t.init(e)})},E.Strategy.CompositeStrategy.prototype.start=function(e){c(this._strategies,function(t){v(t.start)&&t.start(e)})},E.Strategy.CompositeStrategy.prototype.stop=function(e){c(this._strategies,function(t){v(t.stop)&&t.stop(e)})},E.Strategy.PollingStrategy=function(e){this._config=r(e,{interval:1e3}),this._started=!1},E.Strategy.PollingStrategy.prototype=Object.create(E.Strategy.prototype),E.Strategy.PollingStrategy.prototype.start=function(e){return this._started||(this._clearInterval=function(t){var i=setInterval(function(){e.update()},t);return function(){clearInterval(i)}}(this._config.interval),this._started=!0),this._started},E.Strategy.PollingStrategy.prototype.stop=function(){return this._started?(this._clearInterval(),this._started=!1,!0):!1},E.Strategy.EventStrategy=function(e){this._config=r(e,{throttle:50}),this._config.debounce>0&&(this._config.throttle=+this._config.debounce),this._started=!1},E.Strategy.EventStrategy.prototype=Object.create(E.Strategy.prototype),E.Strategy.EventStrategy.prototype.start=function(e){return this._started||(this._removeEventListeners=function(t){var i=V(e.visobj().referenceWindow()),a=i.onVisibilityChange(t);return addEventListener("scroll",t,!1),addEventListener("resize",t,!1),addEventListener("touchmove",t,!1),function(){removeEventListener("touchmove",t,!1),removeEventListener("resize",t,!1),removeEventListener("scroll",t,!1),a()}}(y(function(){e.update()},this._config.throttle)),this._started=!0),this._started},E.Strategy.EventStrategy.prototype.stop=function(){return this._started?(this._removeEventListeners(),this._started=!1,!0):!1},A.VisMon=E,A.PubSub=I,A.fn.monitor=function(e){return new E(this,e)},A.Utils={async:a,debounce:n,defaults:r,defer:s,extend:l,forEach:c,fireIf:o,identity:d,isArray:p,isDefined:u,isElement:h,isFunction:v,isObject:m,isPageVisible:_,isVisibleByStyling:C,noop:f,now:g,once:b,throttle:y,percentage:S,VisibilityApi:V(),createVisibilityApi:V,_viewport:w,_isInViewport:q,_isDisplayed:T,_computedStyle:k,_styleProperty:x},A}),!function(e){"use strict";!function(e){Date.now||(Date.now=function(){return(new Date).getTime()}),e.performance||(e.performance=e.performance||{},e.performance.now=e.performance.now||e.performance.mozNow||e.performance.msNow||e.performance.oNow||e.performance.webkitNow||Date.now)}(e);var t=function(){function e(t){return this instanceof e?((+t!==t||0>t)&&(t=0),void(this._$={i:t})):new e(t)}var t=Math.pow(2,32),i=function(e){return+e!==e?1:+e};return e.MAX_VALUE=t,e.prototype.inc=function(e){return this.set(this.get()+i(e)),this.get()},e.prototype.dec=function(e){return this.inc(-1*i(e))},e.prototype.clear=function(){var e=this._$.i;return this._$.i=0,e},e.prototype.get=function(){return this._$.i},e.prototype.set=function(e){return this._$.i=i(e),this._$.i<0?this._$.i=0:this._$.i>t&&(this._$.i-=t),this.get()},e}(),i=function(){function t(e){return this instanceof t?(this._config=e||{},this._config.performance=this._config.performance===!0,void(this._$={ts:0,te:0,r:!1})):new t(e)}var i=function(t){return t?e.performance.now():Date.now()},a=function(e,t){return+e===e?+e:t};return t.prototype._orNow=function(e){return a(e,i(this._config.performance))},t.prototype.startIf=function(e,t){return e&&(this._$.r=!0,this._$.ts=this._orNow(t),this._$.te=null),this},t.prototype.start=function(e){return this.startIf(!this._$.r,e)},t.prototype.restart=function(e){return this.startIf(!0,e)},t.prototype.stop=function(e){return this.stopIf(!0,e)},t.prototype.stopIf=function(e,t){return this._$.r&&e&&(this._$.te=this._orNow(t),this._$.r=!1),this},t.prototype.interim=function(e){return this._$.r?this._orNow(e)-this._$.ts:0},t.prototype.get=function(e){return this._$.te?this._$.te-this._$.ts:this.time(e)},t.prototype.running=function(){return this._$.r},t.prototype.getAndRestartIf=function(e,t){var i=this.get(t);return e&&this.restart(t),i},t.prototype.forceStart=t.prototype.restart,t.prototype.time=t.prototype.interim,t}();e.CountOnMe={counter:t,stopwatch:i}}(window),function(e,t,i,a,n){"use strict";function r(e,t){e>0&&t(e)}function s(){this.metrics={},this.addMetric=function(e,t){this.metrics[e]=t},this.getMetric=function(e){return this.metrics[e]}}function o(e){function t(e){var t=e.state(),i=t.percentage;o.getMetric("percentage").set(i),i<o.getMetric("percentage.min").get()&&o.getMetric("percentage.min").set(i),i>o.getMetric("percentage.max").get()&&o.getMetric("percentage.max").set(i)}function i(e){var t=e.state();r(u.get(),function(e){o.getMetric("time.duration").set(e)}),r(d.running()?d.stop().get():-1,function(e){o.getMetric("time.hidden").inc(e)}),r(l.running()?l.stop().get():-1,function(e){o.getMetric("time.visible").inc(e),o.getMetric("time.relativeVisible").inc(e*t.percentage)}),r(c.running()?c.stop().get():-1,function(e){o.getMetric("time.fullyvisible").inc(e)}),l.startIf(t.visible),c.startIf(t.fullyvisible),d.startIf(t.hidden),u.startIf(!u.running())}var n=!1,o=new s,l=a.stopwatch(),c=a.stopwatch(),d=a.stopwatch(),u=a.stopwatch();o.addMetric("time.visible",new a.counter),o.addMetric("time.fullyvisible",new a.counter),o.addMetric("time.hidden",new a.counter),o.addMetric("time.relativeVisible",new a.counter),o.addMetric("time.duration",new a.counter),o.addMetric("percentage",new a.counter),o.addMetric("percentage.max",new a.counter(0)),o.addMetric("percentage.min",new a.counter(1));var p=this;this.update=function(){i(e),t(e)},this.getMetric=function(e){return o.getMetric(e)},this.running=function(){return n};var h=null;this.start=function(){return n||(h=e.on("update",function(){p.update()}),this.update(),n=!0),this},this.stop=function(){return n&&(this.update(),h(),h=null,n=!1),this}}var l=t.VisMon.Strategy;l.MetricsStrategy=function(){},l.MetricsStrategy.prototype=Object.create(l.prototype),l.MetricsStrategy.prototype.init=function(e){var t=new o(e);e.metrics=function(){return t}},l.MetricsStrategy.prototype.start=function(e){return e.metrics().start(),!0},l.MetricsStrategy.prototype.stop=function(e){return e.metrics().stop(),!0}}.call(this,window,window.VisSense,window.VisSense.Utils,window.CountOnMe),!function(e,t){"use strict";t(e,e.VisSense,e.VisSense.Utils)}(this,function(e,t,i,a){"use strict";var n=function(e,a,n){var r=0,s=null,o=n.timeLimit,l=n.percentageLimit,c=n.interval;return t.VisMon.Builder(e.visobj()).strategy(new t.VisMon.Strategy.PollingStrategy({interval:c})).on("update",function(t){var n=t.state().percentage;if(l>n)s=null;else{var c=i.now();s=s||c,r=c-s}r>=o&&(t.stop(),e.stop(),a(t))}).on("stop",function(){s=null}).build()},r=function(e,r,s){var o=i.defaults(s,{percentageLimit:1,timeLimit:1e3,interval:100,strategy:a}),l=Math.max(o.percentageLimit-.001,0),c=null,d=t.VisMon.Builder(new t(e.element(),{hidden:l,referenceWindow:e.referenceWindow()})).set("strategy",o.strategy).on("visible",function(e){null===c&&(c=n(e,r,o)),c.start()}).on("hidden",function(){null!==c&&c.stop()}).on("stop",function(){null!==c&&c.stop()}).build();return d.start(),function(){d.stop(),c=null}};t.fn.onPercentageTimeTestPassed=function(e,t){r(this,e,t)},t.fn.on50_1TestPassed=function(e,t){var a=i.extend(i.defaults(t,{interval:100}),{percentageLimit:.5,timeLimit:1e3});r(this,e,a)},t.VisMon.Strategy.PercentageTimeTestEventStrategy=function(e,t){var a=function(t,a){var n=i.noop,s=t.on("visible",i.once(function(t){n=r(t.visobj(),function(i){var n={monitorState:i.state(),testConfig:a};t.update(),t.publish(e,[t,n])},a),s()}));return function(){s(),n()}},n=i.noop;return{init:function(e){n=a(e,t)},stop:function(){n()}}}}),!function(e,t){"use strict";t(e,e.VisSense)}(this,function(e,t,i){"use strict";function a(t,i){c(t,function(t){t.call(i||e)})}function n(t){if(!(this instanceof n))return new n(t);this._config=l(t,{inactiveAfter:6e4,throttle:100,events:["resize","scroll","mousemove","mousewheel","keydown","mousedown","touchstart","touchmove"],active:u,inactive:u,update:u,referenceWindow:e}),this._listeners=[],this._cancelUpdate=u,this._state={changed:!0,active:!1,lastActivityTime:p(),started:!1},this._visibilityApi=r.createVisibilityApi(this._config.referenceWindow);var i=this;this._updateState=function(){var e=i._state.active,t=i.getTimeSinceLastActivity();i._visibilityApi.isHidden()||t>=i._config.inactiveAfter?i._state.active=!1:(i._state.active=!0,i._cancelUpdate(),i._cancelUpdate=o(function(){i._updateState()},i._config.inactiveAfter)),i._state.changed=e!==i._state.active,a(i._listeners,i)},this._onUserActivity=function(){i._state.lastActivityTime=p(),i._updateState()},this.onUpdate(this._config.update),this.onActive(this._config.active),this.onInactive(this._config.inactive)}var r=t.Utils,s=r.throttle,o=r.defer,l=r.defaults,c=r.forEach,d=r.isFunction,u=r.noop,p=r.now,h=t.VisMon.Strategy,v=function(e,t){var i=e.indexOf(t);return i>-1?(e.splice(i,1),!0):!1};n.prototype.start=function(){return this._state.started?this:(this._removeEventListeners=function(e,t,i){var a=i.referenceWindow,n=s(t,i.throttle),r=e.onVisibilityChange(n),o=i.events;return c(o,function(e){a.addEventListener(e,n,!1)}),function(){c(o,function(e){a.removeEventListener(e,n,!1)}),r()}}(this._visibilityApi,this._onUserActivity,this._config),this._state.started=!0,this._onUserActivity(),this)},n.prototype.stop=function(){return this._state.started?(this._removeEventListeners(),this._cancelUpdate(),this._state.started=!1,this):this},n.prototype.onUpdate=function(e){if(!d(e))return u;var t=e.bind(i,this);this._listeners.push(t);var a=this;return function(){return v(a._listeners,t)}},n.prototype.onChange=function(e){return this.onUpdate(function(t){t._state.changed&&e(t)})},n.prototype.onActive=function(e){return this.onChange(function(t){t._state.active&&e(t)})},n.prototype.onInactive=function(e){return this.onChange(function(t){t._state.active||e(t)})},n.prototype.isActive=function(){return!this._state.started||this._state.active},n.prototype.getTimeSinceLastActivity=function(){return p()-this._state.lastActivityTime},t.UserActivity=n,h.UserActivityStrategy=function(e){this._userActivity=new n(e);var t=this;this._visibilityHook=function(){return t._userActivity.isActive()}},h.UserActivityStrategy.prototype=Object.create(h.prototype),h.UserActivityStrategy.prototype.init=function(e){this._removeVisibilityHook=function(t){var i=e.visobj()._config.visibilityHooks;return i.push(t._visibilityHook),function(){v(i,t._visibilityHook)}}(this),this._removeOnChangeListener=this._userActivity.onChange(function(){e.update()})},h.UserActivityStrategy.prototype.start=function(){this._userActivity.start()},h.UserActivityStrategy.prototype.stop=function(){this._removeVisibilityHook(),this._removeOnChangeListener(),this._userActivity.stop()}}),function e(t,i,a){function n(s,o){if(!i[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=i[s]={exports:{}};t[s][0].call(d.exports,function(e){var i=t[s][1][e];return n(i?i:e)},d,d.exports,e,t,i,a)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(require,module,exports){!function(exports){"function"!=typeof exports.decycle&&(exports.decycle=function(e){var t=[],i=[];return function a(e,n){var r,s,o;switch(typeof e){case"object":if(!e)return null;for(r=0;r<t.length;r+=1)if(t[r]===e)return{$ref:i[r]};if(t.push(e),i.push(n),"[object Array]"===Object.prototype.toString.apply(e))for(o=[],r=0;r<e.length;r+=1)o[r]=a(e[r],n+"["+r+"]");else{o={};for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&(o[s]=a(e[s],n+"["+JSON.stringify(s)+"]"))}return o;case"number":case"string":case"boolean":return e}}(e,"$")}),"function"!=typeof exports.retrocycle&&(exports.retrocycle=function retrocycle($){var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[i]=eval(path):rez(item));else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,"string"==typeof path&&px.test(path)?value[name]=eval(path):rez(item)))}($),$})}("undefined"!=typeof exports?exports:window.JSON?window.JSON:window.JSON={})},{}],2:[function(e,t,i){var a=e("./json2"),n=e("./cycle");a.decycle=n.decycle,a.retrocycle=n.retrocycle,t.exports=a},{"./cycle":1,"./json2":3}],3:[function(require,module,exports){!function(JSON){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,a,n,r,s,o=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;r>i;i+=1)s[i]=str(i,l)||"null";return n=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]",gap=o,n}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;r>i;i+=1)"string"==typeof rep[i]&&(a=rep[i],n=str(a,l),n&&s.push(quote(a)+(gap?": ":":")+n));else for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(n=str(a,l),n&&s.push(quote(a)+(gap?": ":":")+n));return n=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}",gap=o,n}}"undefined"==typeof exports&&("function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=function(e){return this.valueOf()}),"function"!=typeof Number.prototype.toJSON&&(Number.prototype.toJSON=function(e){return this.valueOf()}),"function"!=typeof Boolean.prototype.toJSON&&(Boolean.prototype.toJSON=function(e){return this.valueOf()}));var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var a;if(gap="",indent="","number"==typeof i)for(a=0;i>a;a+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var i,a,n=e[t];if(n&&"object"==typeof n)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(a=walk(n,i),void 0!==a?n[i]=a:delete n[i]);return reviver.call(e,t,n)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}("undefined"!=typeof exports?exports:window.JSON?window.JSON:window.JSON={})},{}],4:[function(e,t,i){function a(e){return e?n(e):void 0}function n(e){for(var t in a.prototype)e[t]=a.prototype[t];return e}t.exports=a,a.prototype.on=a.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},a.prototype.once=function(e,t){function i(){a.off(e,i),t.apply(this,arguments)}var a=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var a,n=0;n<i.length;n++)if(a=i[n],a===t||a.fn===t){i.splice(n,1);break}return this},a.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i){i=i.slice(0);for(var a=0,n=i.length;n>a;++a)i[a].apply(this,t)}return this},a.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},a.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],5:[function(e,t,i){!function(e,i){"undefined"!=typeof t?t.exports=i():"function"==typeof define&&"object"==typeof define.amd?define(i):this[e]=i()}("domready",function(e){function t(e){for(h=1;e=a.shift();)e()}var i,a=[],n=!1,r=document,s=r.documentElement,o=s.doScroll,l="DOMContentLoaded",c="addEventListener",d="onreadystatechange",u="readyState",p=o?/^loaded|^c/:/^loaded|c/,h=p.test(r[u]);return r[c]&&r[c](l,i=function(){r.removeEventListener(l,i,n),t()},n),o&&r.attachEvent(d,i=function(){/^c/.test(r[u])&&(r.detachEvent(d,i),t())}),e=o?function(t){self!=top?h?t():a.push(t):function(){try{s.doScroll("left")}catch(i){return setTimeout(function(){e(t)},50)}t()}()}:function(e){h?e():a.push(e)}})},{}],6:[function(e,t,i){!function(e,a){"object"==typeof i?t.exports=a():"function"==typeof define&&define.amd?define(a):e.Spinner=a()}(this,function(){function e(e,t){var i,a=document.createElement(e||"div");for(i in t)a[i]=t[i];return a}function t(e){for(var t=1,i=arguments.length;i>t;t++)e.appendChild(arguments[t]);return e}function i(e,t,i,a){var n=["opacity",t,~~(100*e),i,a].join("-"),r=.01+i/a*100,s=Math.max(1-(1-e)/t*(100-r),e),o=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=o&&"-"+o+"-"||"";return u[n]||(p.insertRule("@"+l+"keyframes "+n+"{0%{opacity:"+s+"}"+r+"%{opacity:"+e+"}"+(r+.01)+"%{opacity:1}"+(r+t)%100+"%{opacity:"+e+"}100%{opacity:"+s+"}}",p.cssRules.length),u[n]=1),n}function a(e,t){var i,a,n=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),a=0;a<d.length;a++)if(i=d[a]+t,void 0!==n[i])return i;return void 0!==n[t]?t:void 0}function n(e,t){for(var i in t)e.style[a(e,i)||i]=t[i];return e}function r(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)void 0===e[a]&&(e[a]=i[a])}return e}function s(e,t){return"string"==typeof e?e:e[t%e.length]}function o(e){this.opts=r(e||{},o.defaults,h)}function l(){function i(t,i){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}p.addRule(".spin-vml","behavior:url(#default#VML)"),o.prototype.lines=function(e,a){function r(){return n(i("group",{coordsize:d+" "+d,coordorigin:-c+" "+-c}),{width:d,height:d})}function o(e,o,l){t(p,t(n(r(),{rotation:360/a.lines*e+"deg",left:~~o}),t(n(i("roundrect",{arcsize:a.corners}),{width:c,height:a.width,left:a.radius,top:-a.width>>1,filter:l}),i("fill",{color:s(a.color,e),opacity:a.opacity}),i("stroke",{opacity:0}))))}var l,c=a.length+a.width,d=2*c,u=2*-(a.width+a.length)+"px",p=n(r(),{position:"absolute",top:u,left:u});if(a.shadow)for(l=1;l<=a.lines;l++)o(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=a.lines;l++)o(l);return t(e,p)},o.prototype.opacity=function(e,t,i,a){var n=e.firstChild;a=a.shadow&&a.lines||0,n&&t+a<n.childNodes.length&&(n=n.childNodes[t+a],n=n&&n.firstChild,n=n&&n.firstChild,n&&(n.opacity=i))}}var c,d=["webkit","Moz","ms","O"],u={},p=function(){var i=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};o.defaults={},r(o.prototype,{spin:function(t){this.stop();var i=this,a=i.opts,r=i.el=n(e(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex});if(n(r,{left:a.left,top:a.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),i.lines(r,i.opts),!c){var s,o=0,l=(a.lines-1)*(1-a.direction)/2,d=a.fps,u=d/a.speed,p=(1-a.opacity)/(u*a.trail/100),h=u/a.lines;!function v(){o++;for(var e=0;e<a.lines;e++)s=Math.max(1-(o+(a.lines-e)*h)%u*p,a.opacity),i.opacity(r,e*a.direction+l,s,a);i.timeout=i.el&&setTimeout(v,~~(1e3/d))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(a,r){function o(t,i){return n(e(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*d+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var l,d=0,u=(r.lines-1)*(1-r.direction)/2;d<r.lines;d++)l=n(e(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:c&&i(r.opacity,r.trail,u+d*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&t(l,n(o("#000","0 0 4px #000"),{top:"2px"})),t(a,t(l,o(s(r.color,d),"0 0 1px rgba(0,0,0,.1)")));return a},opacity:function(e,t,i){t<e.childNodes.length&&(e.childNodes[t].style.opacity=i)}});var v=n(e("group"),{behavior:"url(#default#VML)"});return!a(v,"transform")&&v.adj?l():c=a(v,"animation"),o})},{}],7:[function(e,t,i){function a(){}function n(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function r(){if(g.XMLHttpRequest&&("file:"!=g.location.protocol||!g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1}function s(e){return e===Object(e)}function o(e){if(!s(e))return e;var t=[];for(var i in e)null!=e[i]&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join("&")}function l(e){for(var t,i,a={},n=e.split("&"),r=0,s=n.length;s>r;++r)i=n[r],t=i.split("="),a[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return a}function c(e){var t,i,a,n,r=e.split(/\r?\n/),s={};r.pop();for(var o=0,l=r.length;l>o;++o)i=r[o],t=i.indexOf(":"),a=i.slice(0,t).toLowerCase(),n=b(i.slice(t+1)),s[a]=n;return s}function d(e){return e.split(/ *; */).shift()}function u(e){return f(e.split(/ *; */),function(e,t){var i=t.split(/ *= */),a=i.shift(),n=i.shift();return a&&n&&(e[a]=n),e},{})}function p(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method?this.xhr.responseText:null,this.setStatusProperties(this.xhr.status),this.header=this.headers=c(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text):null}function h(e,t){var i=this;m.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new p(i)}catch(a){e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=a}i.callback(e,t)})}function v(e,t){return"function"==typeof t?new h("GET",e).end(t):1==arguments.length?new h("GET",e):new h(e,t)}var m=e("emitter"),f=e("reduce"),g="undefined"==typeof window?this:window,b="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};v.serializeObject=o,v.parseString=l,v.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},v.serialize={"application/x-www-form-urlencoded":o,"application/json":JSON.stringify},v.parse={"application/x-www-form-urlencoded":l,"application/json":JSON.parse},p.prototype.get=function(e){return this.header[e.toLowerCase()]},p.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=d(t);var i=u(t);for(var a in i)this[a]=i[a]},p.prototype.parseBody=function(e){var t=v.parse[this.type];return t&&e&&e.length?t(e):null},p.prototype.setStatusProperties=function(e){var t=e/100|0;this.status=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=4==t||5==t?this.toError():!1,this.accepted=202==e,this.noContent=204==e||1223==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},p.prototype.toError=function(){var e=this.req,t=e.method,i=e.url,a="cannot "+t+" "+i+" ("+this.status+")",n=new Error(a);return n.status=this.status,n.method=t,n.url=i,n},v.Response=p,m(h.prototype),h.prototype.use=function(e){return e(this),this},h.prototype.timeout=function(e){return this._timeout=e,this},h.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},h.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},h.prototype.set=function(e,t){if(s(e)){for(var i in e)this.set(i,e[i]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},h.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},h.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},h.prototype.type=function(e){return this.set("Content-Type",v.types[e]||e),this},h.prototype.accept=function(e){return this.set("Accept",v.types[e]||e),this},h.prototype.auth=function(e,t){var i=btoa(e+":"+t);return this.set("Authorization","Basic "+i),this},h.prototype.query=function(e){return"string"!=typeof e&&(e=o(e)),e&&this._query.push(e),this},h.prototype.field=function(e,t){return this._formData||(this._formData=new FormData),this._formData.append(e,t),this},h.prototype.attach=function(e,t,i){return this._formData||(this._formData=new FormData),this._formData.append(e,t,i),this},h.prototype.send=function(e){var t=s(e),i=this.getHeader("Content-Type");if(t&&s(this._data))for(var a in e)this._data[a]=e[a];else"string"==typeof e?(i||this.type("form"),i=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==i?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return t?(i||this.type("json"),this):this},h.prototype.callback=function(e,t){var i=this._callback;return this.clearTimeout(),2==i.length?i(e,t):e?this.emit("error",e):void i(t)},h.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},h.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},h.prototype.withCredentials=function(){return this._withCredentials=!0,this},h.prototype.end=function(e){var t=this,i=this.xhr=r(),s=this._query.join("&"),o=this._timeout,l=this._formData||this._data;if(this._callback=e||a,i.onreadystatechange=function(){return 4==i.readyState?0==i.status?t.aborted?t.timeoutError():t.crossDomainError():void t.emit("end"):void 0},i.upload&&(i.upload.onprogress=function(e){e.percent=e.loaded/e.total*100,t.emit("progress",e)}),o&&!this._timer&&(this._timer=setTimeout(function(){t.abort()},o)),s&&(s=v.serializeObject(s),this.url+=~this.url.indexOf("?")?"&"+s:"?"+s),i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof l&&!n(l)){var c=v.serialize[this.getHeader("Content-Type")];c&&(l=c(l))}for(var d in this.header)null!=this.header[d]&&i.setRequestHeader(d,this.header[d]);return this.emit("request",this),i.send(l),this},v.Request=h,v.get=function(e,t,i){var a=v("GET",e);return"function"==typeof t&&(i=t,t=null),t&&a.query(t),i&&a.end(i),a},v.head=function(e,t,i){var a=v("HEAD",e);return"function"==typeof t&&(i=t,t=null),t&&a.send(t),i&&a.end(i),a},v.del=function(e,t){var i=v("DELETE",e);return t&&i.end(t),i},v.patch=function(e,t,i){var a=v("PATCH",e);return"function"==typeof t&&(i=t,t=null),t&&a.send(t),i&&a.end(i),a},v.post=function(e,t,i){var a=v("POST",e);return"function"==typeof t&&(i=t,t=null),t&&a.send(t),i&&a.end(i),a},v.put=function(e,t,i){var a=v("PUT",e);return"function"==typeof t&&(i=t,t=null),t&&a.send(t),i&&a.end(i),a},t.exports=v},{emitter:8,reduce:9}],8:[function(e,t,i){arguments[4][4][0].apply(i,arguments)},{dup:4}],9:[function(e,t,i){t.exports=function(e,t,i){for(var a=0,n=e.length,r=3==arguments.length?i:e[a++];n>a;)r=t.call(null,r,e[a],++a,e);return r}},{}],10:[function(e,t,i){var a=e("./index"),n=e("./utils/each");t.exports=function(){var e,t,i=window.Keen||null,r=window._Keen||null;i&&r&&(e=r.clients||{},t=r.ready||[],n(e,function(e,t){n(a.prototype,function(e,t){i.prototype[t]=e}),n(["Query","Request","Dataset","Dataviz"],function(e){i[e]=a[e]?a[e]:function(){}}),e._config&&e.configure.call(e,e._config),e._setGlobalProperties&&n(e._setGlobalProperties,function(t){e.setGlobalProperties.apply(e,t)}),e._addEvent&&n(e._addEvent,function(t){e.addEvent.apply(e,t)});e._on||[];e._on&&(n(e._on,function(t){e.on.apply(e,t)}),e.trigger("ready")),n(["_config","_setGlobalProperties","_addEvent","_on"],function(t){if(e[t]){e[t]=void 0;try{delete e[t]}catch(i){}}})}),n(t,function(e,t){a.once("ready",e)})),window._Keen=void 0;try{delete window._Keen}catch(s){}}},{"./index":19,"./utils/each":31}],11:[function(e,t,i){var a=e("component-emitter");a.prototype.trigger=a.prototype.emit,t.exports=a},{"component-emitter":4}],12:[function(e,t,i){t.exports=function(){return"undefined"==typeof window?"server":"browser"}},{}],13:[function(e,t,i){var a=e("../utils/each"),n=e("JSON2");t.exports=function(e){var t=[];return a(e,function(e,i){"string"!=typeof e&&(e=n.stringify(e)),t.push(i+"="+encodeURIComponent(e))}),"?"+t.join("&")}},{"../utils/each":31,JSON2:2}],14:[function(e,t,i){t.exports=function(){return-60*(new Date).getTimezoneOffset()}},{}],15:[function(e,t,i){t.exports=function(){return"undefined"!=typeof window&&(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0)?2e3:16e3}},{}],16:[function(e,t,i){t.exports=function(){var e="undefined"==typeof window?this:window;if(e.XMLHttpRequest&&("file:"!=e.location.protocol||!e.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}},{}],17:[function(e,t,i){t.exports=function(e,t,i){var a=i||function(){};if(t&&!t.ok){var n=t.body&&t.body.error_code;e=new Error(n?t.body.message:"Unknown error occurred"),e.code=n?t.body.error_code:"UnknownError"}e?a(e,null):a(null,t.body)}},{}],18:[function(e,t,i){function a(){var e=u();return e&&(e.open("GET",this.url,!1),e.send(null)),this}function n(){function e(){window[r]=void 0;try{delete window[r]}catch(e){}n.removeChild(a)}var t=this,i=(new Date).getTime(),a=document.createElement("script"),n=document.getElementsByTagName("head")[0],r="keenJSONPCallback",l=!1;for(r+=i;r in window;)r+="a";window[r]=function(i){l!==!0&&(l=!0,s.call(t,i),e())},a.src=t.url+"&jsonp="+r,n.appendChild(a),a.onreadystatechange=function(){l===!1&&"loaded"===t.readyState&&(l=!0,o.call(t),e())},a.onerror=function(){l===!1&&(l=!0,o.call(t),e())}}function r(){var e=this,t=document.createElement("img"),i=!1;

t.onload=function(){if(i=!0,"naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();s.call(e)},t.onerror=function(){i=!0,o.call(e)},t.src=e.url+"&c=clv1"}function s(e){var t=this.requestType.options.success,i="";if(c.call(this,t),e)try{i=JSON.stringify(e)}catch(a){}else i=t.responseText;this.xhr.responseText=i,this.xhr.status=t.status,this.emit("end")}function o(){var e=this.requestType.options.error;c.call(this,e),this.xhr.responseText=e.responseText,this.xhr.status=e.status,this.emit("end")}function l(){this.aborted=!0,this.clearTimeout(),this.emit("abort")}function c(e){return this.xhr={getAllResponseHeaders:function(){return""},getResponseHeader:function(){return"application/json"},responseText:e.responseText,status:e.status},this}var d=e("superagent"),u=(e("../utils/each"),e("./get-xhr-object"));t.exports=function(e,t){return function(i){var s=i.constructor.prototype.end;if("undefined"!=typeof window)return i.requestType=i.requestType||{},i.requestType.type=e,i.requestType.options=i.requestType.options||{async:!0,success:{responseText:'{ "created": true }',status:201},error:{responseText:'{ "error_code": "ERROR", "message": "Request failed" }',status:404}},t&&("boolean"==typeof t.async&&(i.requestType.options.async=t.async),t.success&&extend(i.requestType.options.success,t.success),t.error&&extend(i.requestType.options.error,t.error)),i.end=function(e){var t,i,o=this,c=this.requestType?this.requestType.type:"xhr";return"GET"===o.method&&"xhr"!==c||!o.requestType.options.async?(t=o._query.join("&"),i=o._timeout,o._callback=e||noop,i&&!o._timer&&(o._timer=setTimeout(function(){l.call(o)},i)),t&&(t=d.serializeObject(t),o.url+=~o.url.indexOf("?")?"&"+t:"?"+t),o.emit("request",o),o.requestType.options.async?"jsonp"===c?n.call(o):"beacon"===c&&r.call(o):a.call(o),o):void s.call(o,e)},i}}},{"../utils/each":31,"./get-xhr-object":16,superagent:7}],19:[function(e,t,i){function a(e){this.configure(e||{}),a.trigger("client",this)}var n=this,r=n.Keen,s=e("./helpers/emitter-shim");a.debug=!1,a.enabled=!0,a.loaded=!0,a.version="3.2.4",s(a),s(a.prototype),a.prototype.configure=function(e){var t=e||{};t.host&&t.host.replace(/.*?:\/\//g,""),t.protocol&&"auto"===t.protocol&&(t.protocol=location.protocol.replace(/:/g,"")),this.config={projectId:t.projectId,writeKey:t.writeKey,readKey:t.readKey,masterKey:t.masterKey,requestType:t.requestType||"jsonp",host:t.host||"api.keen.io/3.0",protocol:t.protocol||"https",globalProperties:null},a.debug&&this.on("error",a.log),this.trigger("ready")},a.prototype.projectId=function(e){return arguments.length?(this.config.projectId=e?String(e):null,this):this.config.projectId},a.prototype.masterKey=function(e){return arguments.length?(this.config.masterKey=e?String(e):null,this):this.config.masterKey},a.prototype.readKey=function(e){return arguments.length?(this.config.readKey=e?String(e):null,this):this.config.readKey},a.prototype.writeKey=function(e){return arguments.length?(this.config.writeKey=e?String(e):null,this):this.config.writeKey},a.prototype.url=function(e){return this.projectId()?this.config.protocol+"://"+this.config.host+"/projects/"+this.projectId()+e:void this.trigger("error","Client is missing projectId property")},a.log=function(e){a.debug&&"object"==typeof console&&console.log("[Keen IO]",e)},a.noConflict=function(){return n.Keen=r,a},a.ready=function(e){a.loaded?e():a.once("ready",e)},t.exports=a},{"./helpers/emitter-shim":11}],20:[function(e,t,i){function a(e,t){return e+=d({api_key:this.writeKey(),data:o.encode(n.stringify(t)),modified:(new Date).getTime()}),e.length<u()?e:!1}var n=e("JSON2"),r=e("superagent"),s=e("../index"),o=e("../utils/base64"),l=e("../utils/each"),c=e("../helpers/get-context"),d=e("../helpers/get-query-string"),u=e("../helpers/get-url-max-length"),p=e("../helpers/get-xhr-object"),h=e("../helpers/superagent-request-types"),v=e("../helpers/superagent-handle-response");t.exports=function(e,t,i,n){function o(e,t){v(e,t,w),w=i=null}function d(e){var t="Event not recorded: "+e;f.trigger("error",t),w&&(w.call(f,t,null),w=i=null)}var u,m,f=this,g=this.url("/events/"+e),b=this.config.requestType,y={},w=i;return u="boolean"==typeof n?n:!0,s.enabled?f.projectId()?f.writeKey()?e&&"string"==typeof e?(f.config.globalProperties&&(y=f.config.globalProperties(e)),l(t,function(e,t){y[t]=e}),p()||"xhr"!==b||(b="jsonp"),"xhr"===b&&u||(m=a.call(f,g,y)),void(m&&"browser"===c()?r.get(m).use(function(e){return e.async=u,e}).use(h(b)).end(o):p()||"server"===c()?r.post(g).set("Content-Type","application/json").set("Authorization",f.writeKey()).send(y).end(o):f.trigger("error","Request not sent: URL length exceeds current browser limit, and XHR (POST) is not supported."))):void d.call(f,"Collection name must be a string"):void d.call(f,"Missing writeKey property"):void d.call(f,"Missing projectId property"):void d.call(f,"Keen.enabled = false")}},{"../helpers/get-context":12,"../helpers/get-query-string":13,"../helpers/get-url-max-length":15,"../helpers/get-xhr-object":16,"../helpers/superagent-handle-response":17,"../helpers/superagent-request-types":18,"../index":19,"../utils/base64":29,"../utils/each":31,JSON2:2,superagent:7}],21:[function(e,t,i){var a=e("../index"),n=e("superagent"),r=e("../utils/each"),s=e("../helpers/get-context"),o=e("../helpers/get-xhr-object"),l=(e("../helpers/superagent-request-types"),e("../helpers/superagent-handle-response"));t.exports=function(e,t){function i(e){var i="Events not recorded: "+e;c.trigger("error",i),p&&(p.call(c,i,null),p=t=null)}var c=this,d=this.url("/events"),u={},p=t;return a.enabled?c.projectId()?c.writeKey()?arguments.length>2?void i.call(c,"Incorrect arguments provided to #addEvents method"):"object"!=typeof e||e instanceof Array?void i.call(c,"Request payload must be an object"):(c.config.globalProperties?r(e,function(e,t){r(e,function(e,i){var a=c.config.globalProperties(t);r(e,function(e,t){a[t]=e}),u[t].push(a)})}):u=e,void(o()||"server"===s()?n.post(d).set("Content-Type","application/json").set("Authorization",c.writeKey()).send(u).end(function(e,i){l(e,i,p),p=t=null}):c.trigger("error","Events not recorded: XHR support is required for batch upload"))):void i.call(c,"Missing writeKey property"):void i.call(c,"Missing projectId property"):void i.call(c,"Keen.enabled = false")}},{"../helpers/get-context":12,"../helpers/get-xhr-object":16,"../helpers/superagent-handle-response":17,"../helpers/superagent-request-types":18,"../index":19,"../utils/each":31,superagent:7}],22:[function(e,t,i){var a=e("superagent"),n=e("../helpers/get-query-string"),r=e("../helpers/superagent-handle-response"),s=e("../helpers/superagent-request-types");t.exports=function(e,t,i,o){var l=this.config.requestType,c=t||{};"beacon"===l&&(l="jsonp"),c.api_key=c.api_key||i,a.get(e+n(c)).use(s(l)).end(function(e,t){r(e,t,o),o=null})}},{"../helpers/get-query-string":13,"../helpers/superagent-handle-response":17,"../helpers/superagent-request-types":18,superagent:7}],23:[function(e,t,i){var a=e("superagent"),n=e("../helpers/superagent-handle-response");t.exports=function(e,t,i,r){a.post(e).set("Content-Type","application/json").set("Authorization",i).send(t||{}).end(function(e,t){n(e,t,r),r=null})}},{"../helpers/superagent-handle-response":17,superagent:7}],24:[function(e,t,i){var a=e("../request");t.exports=function(e,t){var i,n=[],r=t;return e instanceof Array?n=e:n.push(e),i=new a(this,n,r).refresh(),r=t=null,i}},{"../request":28}],25:[function(e,t,i){t.exports=function(e){e&&"function"==typeof e?this.config.globalProperties=e:this.trigger("error","Invalid value for global properties: "+e)}},{}],26:[function(e,t,i){var a=e("./addEvent");t.exports=function(e,t,i,n,r){var s,o,l=e,c=l.currentTarget?l.currentTarget:l.srcElement||l.target,d=n||500,u=!1,p="";return void 0!==c.getAttribute?p=c.getAttribute("target"):c.target&&(p=c.target),"_blank"!=p&&"blank"!=p||l.metaKey||(o=window.open("about:blank"),o.document.location=c.href),"A"===c.nodeName?s=function(){u||l.metaKey||"_blank"===p||"blank"===p||(u=!0,window.location=c.href)}:"FORM"===c.nodeName?s=function(){u||(u=!0,c.submit())}:this.trigger("error","#trackExternalLink method not attached to an <a> or <form> DOM element"),r&&(s=function(){u||(u=!0,r())}),a.call(this,t,i,s),setTimeout(s,d),l.metaKey?void 0:!1}},{"./addEvent":20}],27:[function(e,t,i){function a(){this.configure.apply(this,arguments)}var n=e("./utils/each"),r=(e("./utils/extend"),e("./helpers/get-timezone-offset")),s=(e("./helpers/get-query-string"),e("./helpers/emitter-shim"));s(a.prototype),a.prototype.configure=function(e,t){return this.analysis=e,this.params=this.params||{},this.set(t),void 0===this.params.timezone&&(this.params.timezone=r()),this},a.prototype.set=function(e){var t=this;return n(e,function(e,i){var a=i,r=e;i.match(new RegExp("[A-Z]"))&&(a=i.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})),t.params[a]=r,r instanceof Array&&n(r,function(e,i){e instanceof Array==0&&"object"==typeof e&&n(e,function(e,n){if(n.match(new RegExp("[A-Z]"))){var r=n.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()});delete t.params[a][i][n],t.params[a][i][r]=e}})})}),t},a.prototype.get=function(e){var t=e;return t.match(new RegExp("[A-Z]"))&&(t=t.replace(/([A-Z])/g,function(e){return"_"+e.toLowerCase()})),this.params?this.params[t]||null:void 0},a.prototype.addFilter=function(e,t,i){return this.params.filters=this.params.filters||[],this.params.filters.push({property_name:e,operator:t,property_value:i}),this},t.exports=a},{"./helpers/emitter-shim":11,"./helpers/get-query-string":13,"./helpers/get-timezone-offset":14,"./utils/each":31,"./utils/extend":32}],28:[function(e,t,i){function a(e,t,i){var a=i;this.config={timeout:3e5},this.configure(e,t,a),a=i=null}var n=e("./utils/each"),r=e("./utils/extend"),s=e("./utils/sendQuery"),o=e("./"),l=e("./helpers/emitter-shim");l(a.prototype),a.prototype.configure=function(e,t,i){var a=i;return r(this,{client:e,queries:t,data:{},callback:a}),a=i=null,this},a.prototype.timeout=function(e){return arguments.length?(this.config.timeout=isNaN(parseInt(e))?null:parseInt(e),this):this.config.timeout},a.prototype.refresh=function(){var e=this,t=0,i=[],a=!1,r=function(n,r,s){return n?(e.trigger("error",n),e.callback&&e.callback(n,null),void(a=!0)):(i[s]=r,t++,void(t!=e.queries.length||a||(e.data=1==e.queries.length?i[0]:i,e.trigger("complete",null,e.data),e.callback&&e.callback(null,e.data))))};return n(e.queries,function(t,i){var a,n=function(e,t){r(e,t,i)};if(t instanceof o.Query)a="/queries/"+t.analysis,s.call(e,a,t.params,n);else if("[object String]"===Object.prototype.toString.call(t))a="/saved_queries/"+encodeURIComponent(t)+"/result",s.call(e,a,null,n);else{var l={statusText:"Bad Request",responseText:{message:"Error: Query "+(+i+1)+" of "+e.queries.length+" for project "+e.client.projectId()+" is not a valid request"}};e.trigger("error",l.responseText.message),e.callback&&e.callback(l.responseText.message,null)}}),this},t.exports=a},{"./":19,"./helpers/emitter-shim":11,"./utils/each":31,"./utils/extend":32,"./utils/sendQuery":34}],29:[function(e,t,i){t.exports={map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,i,a,n,r,s,o,l="",c=0,d=this.map;for(e=this.utf8.encode(e);c<e.length;)t=e.charCodeAt(c++),i=e.charCodeAt(c++),a=e.charCodeAt(c++),n=t>>2,r=(3&t)<<4|i>>4,s=isNaN(i)?64:(15&i)<<2|a>>6,o=isNaN(i)||isNaN(a)?64:63&a,l=l+d.charAt(n)+d.charAt(r)+d.charAt(s)+d.charAt(o);return l},decode:function(e){var t,i,a,n,r,s,o,l="",c=0,d=this.map,u=String.fromCharCode;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)t=d.indexOf(e.charAt(c++)),i=d.indexOf(e.charAt(c++)),a=d.indexOf(e.charAt(c++)),n=d.indexOf(e.charAt(c++)),r=t<<2|i>>4,s=(15&i)<<4|a>>2,o=(3&a)<<6|n,l=l+(u(r)+(64!=a?u(s):""))+(64!=n?u(o):"");return this.utf8.decode(l)},utf8:{encode:function(e){for(var t,i="",a=0,n=String.fromCharCode;a<e.length;)t=e.charCodeAt(a++),i+=128>t?n(t):t>127&&2048>t?n(t>>6|192)+n(63&t|128):n(t>>12|224)+n(t>>6&63|128)+n(63&t|128);return i},decode:function(e){for(var t,i,a="",n=0,r=String.fromCharCode;n<e.length;)i=e.charCodeAt(n),a+=128>i?[r(i),n++][0]:i>191&&224>i?[r((31&i)<<6|63&(t=e.charCodeAt(n+1))),n+=2][0]:[r((15&i)<<12|(63&(t=e.charCodeAt(n+1)))<<6|63&(c3=e.charCodeAt(n+2))),n+=3][0];return a}}}},{}],30:[function(e,t,i){var a=e("JSON2");t.exports=function(e){return a.parse(a.stringify(e))}},{JSON2:2}],31:[function(e,t,i){t.exports=function(e,t,i){var a;if(!e)return 0;if(i=i?i:e,e instanceof Array){for(a=0;a<e.length;a++)if(t.call(i,e[a],a,e)===!1)return 0}else for(a in e)if(e.hasOwnProperty(a)&&t.call(i,e[a],a,e)===!1)return 0;return 1}},{}],32:[function(e,t,i){t.exports=function(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])e[i]=arguments[t][i];return e}},{}],33:[function(e,t,i){function a(e){for(var t,i={},a=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=function(e){return decodeURIComponent(e.replace(a," "))},s=e.split("?")[1];t=n.exec(s);)i[r(t[1])]=r(t[2]);return i}t.exports=a},{}],34:[function(e,t,i){var a=e("superagent"),n=e("../helpers/get-context"),r=e("../helpers/get-query-string"),s=e("../helpers/get-url-max-length"),o=e("../helpers/get-xhr-object"),l=e("../helpers/superagent-request-types"),c=e("../helpers/superagent-handle-response");t.exports=function(e,t,i){function d(e,t){c(e,t,h),h=i=null}var u=this,p=this.client.url(e),h=(this.client.config.requestType,i);return i=null,u.client.projectId()?u.client.readKey()?void(o()||"server"===n()?a.post(p).set("Content-Type","application/json").set("Authorization",u.client.readKey()).timeout(u.timeout()).send(t||{}).end(d):(extend(t,{api_key:u.client.readKey()}),p+=r(t),p.length<s()?a.get(p).timeout(u.timeout()).use(l("jsonp")).end(d):u.client.trigger("error","Query not sent: URL length exceeds current browser limit, and XHR (POST) is not supported."))):void u.client.trigger("error","Query not sent: Missing readKey property"):void u.client.trigger("error","Query not sent: Missing projectId property")}},{"../helpers/get-context":12,"../helpers/get-query-string":13,"../helpers/get-url-max-length":15,"../helpers/get-xhr-object":16,"../helpers/superagent-handle-response":17,"../helpers/superagent-request-types":18,superagent:7}],35:[function(e,t,i){function a(){this.data={input:{},output:[[]]},this.meta={schema:{},method:void 0},arguments.length>0&&this.parse.apply(this,arguments)}function n(e){var t,i,n=this,r=e||{},s=[],o=[];""!==r.records&&r.records?(i=r.records.split(a.defaults.delimeter),t=p.apply(n,[n.input()].concat(i))[0]):t=[n.input()],d(r.select,function(e){s.push(e.path.split(a.defaults.delimeter))}),0==s.length&&d(t,function(e,t){var i=u(e);for(var a in i)i.hasOwnProperty(a)&&-1==o.indexOf(a)&&(o.push(a),s.push([a]))});var l=[[]];return d(s,function(e,t){1==s.length?l[0].push("label","value"):l[0].push(e.join("."))}),d(t,function(e,t){var i=u(e);1==s.length?l.push([s.join("."),i[s.join(".")]]):(l.push([]),d(s,function(e,a){var n=e.join(".");l[t+1].push(i[n])}))}),n.output(l),n.format(r.select),n}function r(e){var t=this,i=[],n=e.unpack.value?e.unpack.value.path.split(a.defaults.delimeter):!1,r=e.unpack.label?e.unpack.label.path.split(a.defaults.delimeter):!1,s=e.unpack.index?e.unpack.index.path.split(a.defaults.delimeter):!1,o=""!==n[n.length-1]?n[n.length-1]:"Value",l=""!==r[r.length-1]?r[r.length-1]:"Label",c=""!==s[s.length-1]?s[s.length-1]:"Index",u=function(){var i;return i=""==e.records?[t.input()]:p.apply(t,[t.input()].concat(e.records.split(a.defaults.delimeter))),i[0]}();return u instanceof Array==0&&(u=[u]),d(u,function(e,a){var n=r?p.apply(t,[e].concat(r)):[];n&&(i=n)}),d(u,function(e,a){var r=n?p.apply(t,[e].concat(n)):!1,h=s?p.apply(t,[e].concat(s)):!1;h?d(h,function(){t.data.output.push([])}):t.data.output.push([]),h&&(0==a&&(t.data.output[0].push(c),i.length>0?d(i,function(e,i){t.data.output[0].push(e)}):t.data.output[0].push(o)),u.length<t.data.output.length-1?0==a&&d(t.data.output,function(e,i){i>0&&t.data.output[i].push(h[i-1])}):t.data.output[a+1].push(h[0])),!h&&i.length>0&&(0==a&&(t.data.output[0].push(l),t.data.output[0].push(o)),t.data.output[a+1].push(i[0])),h||0!=i.length||t.data.output[0].push(""),r?u.length<t.data.output.length-1?0==a&&d(t.data.output,function(e,i){i>0&&t.data.output[i].push(r[i-1])}):d(r,function(e){t.data.output[a+1].push(e)}):d(t.data.output[0],function(e,i){var n=h?0:-1;i>n&&t.data.output[a+1].push(null)})}),t.format(e.unpack),this}function s(e){return d(e.unpack,function(t,i,a){t&&o(t,"string")&&(e.unpack[i]={path:e.unpack[i]})}),e}function o(e,t){return e=typeof e,t?e==t:"undefined"!=e}function l(e,t){return d(t,function(t,i){o(e[i],"object")&&o(t,"object")?e[i]=l(e[i],t):null!==t&&(e[i]=t)}),e}var c=e("../core/utils/clone"),d=e("../core/utils/each"),u=e("./utils/flatten"),p=e("./utils/parse"),h=e("../core/helpers/emitter-shim");a.defaults={delimeter:" -> "},h(a),h(a.prototype),a.prototype.input=function(e){return arguments.length?(this.data.input=e?c(e):null,this):this.data.input},a.prototype.output=function(e){return arguments.length?(this.data.output=e instanceof Array?e:null,this):this.data.output},a.prototype.method=function(e){return arguments.length?(this.meta.method=e?String(e):null,this):this.meta.method},a.prototype.schema=function(e){return arguments.length?(this.meta.schema=e?e:null,this):this.meta.schema},a.prototype.parse=function(e,t){var i;return e&&this.input(e),t&&this.schema(t),this.output([[]]),this.meta.schema.select?(this.method("select"),i=l({records:"",select:!0},this.schema()),n.call(this,s(i))):this.meta.schema.unpack&&(this.method("unpack"),i=l({records:"",unpack:{index:!1,value:!1,label:!1}},this.schema()),r.call(this,s(i))),this},t.exports=a},{"../core/helpers/emitter-shim":11,"../core/utils/clone":30,"../core/utils/each":31,"./utils/flatten":46,"./utils/parse":47}],36:[function(e,t,i){var a=e("../core/utils/extend"),n=e("./dataset");a(n.prototype,e("./lib/append")),a(n.prototype,e("./lib/delete")),a(n.prototype,e("./lib/filter")),a(n.prototype,e("./lib/insert")),a(n.prototype,e("./lib/select")),a(n.prototype,e("./lib/sort")),a(n.prototype,e("./lib/update")),a(n.prototype,e("./lib/analyses")),a(n.prototype,{format:e("./lib/format")}),t.exports=n},{"../core/utils/extend":32,"./dataset":35,"./lib/analyses":37,"./lib/append":38,"./lib/delete":39,"./lib/filter":40,"./lib/format":41,"./lib/insert":42,"./lib/select":43,"./lib/sort":44,"./lib/update":45}],37:[function(e,t,i){var a=e("../../core/utils/each"),n=["Average","Maximum","Minimum","Sum"],r={};r.average=function(e,t,i){var n=e.slice(t||0,i?i+1:e.length),r=0;return a(n,function(e,t){"number"!=typeof e||isNaN(parseFloat(e))||(r+=parseFloat(e))}),r/n.length},r.maximum=function(e,t,i){var n=e.slice(t||0,i?i+1:e.length),r=[];return a(n,function(e,t){"number"!=typeof e||isNaN(parseFloat(e))||r.push(parseFloat(e))}),Math.max.apply(Math,r)},r.minimum=function(e,t,i){var n=e.slice(t||0,i?i+1:e.length),r=[];return a(n,function(e,t){"number"!=typeof e||isNaN(parseFloat(e))||r.push(parseFloat(e))}),Math.min.apply(Math,r)},r.sum=function(e,t,i){var n=e.slice(t||0,i?i+1:e.length),r=0;return a(n,function(e,t){"number"!=typeof e||isNaN(parseFloat(e))||(r+=parseFloat(e))}),r},a(n,function(e,t){r["getColumn"+e]=r["getRow"+e]=function(t){return this[e.toLowerCase()](t,1)}}),r.getColumnLabel=r.getRowIndex=function(e){return e[0]},t.exports=r},{"../../core/utils/each":31}],38:[function(e,t,i){function a(e,t){var i=this,a=(Array.prototype.slice.call(arguments,2),void 0!==e?e:null);return"function"==typeof t?(i.data.output[0].push(a),r(i.output(),function(e,a){var n;a>0&&(n=t.call(i,e,a),"undefined"==typeof n&&(n=null),i.data.output[a].push(n))})):(!t||t instanceof Array)&&(i.data.output[0].push(a),r(i.output(),function(e,a){var n;a>0&&(n=t&&void 0!==t[a-1]?t[a-1]:null,i.data.output[a].push(n))})),i}function n(e,t){var i=this,a=(Array.prototype.slice.call(arguments,2),void 0!==e?e:null),n=[];return n.push(a),"function"==typeof t?(r(i.output()[0],function(e,a){var r,s;a>0&&(r=i.selectColumn(a),s=t.call(i,r,a),"undefined"==typeof s&&(s=null),n.push(s))}),i.data.output.push(n)):(!t||t instanceof Array)&&(r(i.output()[0],function(e,i){var a;i>0&&(a=t&&void 0!==t[i-1]?t[i-1]:null,n.push(a))}),this.data.output.push(n)),this}var r=e("../../core/utils/each");t.exports={appendColumn:a,appendRow:n}},{"../../core/utils/each":31}],39:[function(e,t,i){function a(e){var t=this,i="number"==typeof e?e:this.data.output[0].indexOf(e);return i>-1&&r(t.data.output,function(e,a){t.data.output[a].splice(i,1)}),t}function n(e){var t="number"==typeof e?e:this.selectColumn(0).indexOf(e);return t>-1&&this.data.output.splice(t,1),this}var r=e("../../core/utils/each");t.exports={deleteColumn:a,deleteRow:n}},{"../../core/utils/each":31}],40:[function(e,t,i){function a(e){var t=this,i=new Array;return r(t.data.output,function(e,t){i.push([])}),r(t.data.output[0],function(a,n){var s=t.selectColumn(n);(0==n||e.call(t,s,n))&&r(s,function(e,t){i[t].push(e)})}),t.output(i),t}function n(e){var t=this,i=[];return r(t.output(),function(a,n){(0==n||e.call(t,a,n))&&i.push(a)}),t.output(i),t}var r=e("../../core/utils/each");t.exports={filterColumns:a,filterRows:n}},{"../../core/utils/each":31}],41:[function(e,t,i){function a(e,t){var i=e,a=t||{};return a.replace&&n(a.replace,function(e,t){(i==t||String(i)==String(t)||parseFloat(i)==parseFloat(t))&&(i=e)}),a.type&&"date"==a.type&&(i=a.format&&moment&&moment(e).isValid()?moment(i).format(a.format):new Date(i)),a.type&&"string"==a.type&&(i=String(i)),a.type&&"number"==a.type&&!isNaN(parseFloat(i))&&(i=parseFloat(i)),i}var n=e("../../core/utils/each");t.exports=function(e){var t=this;return"select"===this.method()&&n(t.output(),function(i,r){0==r?n(i,function(i,a){e[a]&&e[a].label&&(t.data.output[r][a]=e[a].label)}):n(i,function(i,n){t.data.output[r][n]=a(t.data.output[r][n],e[n])})}),"unpack"===this.method()&&(e.index&&n(t.output(),function(i,n){0==n?e.index.label&&(t.data.output[n][0]=e.index.label):t.data.output[n][0]=a(t.data.output[n][0],e.index)}),e.label&&(e.index?n(t.output(),function(i,r){n(i,function(i,n){0==r&&n>0&&(t.data.output[r][n]=a(t.data.output[r][n],e.label))})}):n(t.output(),function(i,n){n>0&&(t.data.output[n][0]=a(t.data.output[n][0],e.label))})),e.value&&(e.index?n(t.output(),function(i,r){n(i,function(i,n){r>0&&n>0&&(t.data.output[r][n]=a(t.data.output[r][n],e.value))})}):n(t.output(),function(i,r){n(i,function(i,n){r>0&&(t.data.output[r][n]=a(t.data.output[r][n],e.value))})}))),t}},{"../../core/utils/each":31}],42:[function(e,t,i){function a(e,t,i){var a,n=this;return a=void 0!==t?t:null,"function"==typeof i?(n.data.output[0].splice(e,0,a),r(n.output(),function(t,a){var r;a>0&&(r=i.call(n,t,a),"undefined"==typeof r&&(r=null),n.data.output[a].splice(e,0,r))})):(!i||i instanceof Array)&&(n.data.output[0].splice(e,0,a),r(n.output(),function(t,a){var r;a>0&&(r=i&&"undefined"!==i[a-1]?i[a-1]:null,n.data.output[a].splice(e,0,r))})),n}function n(e,t,i){var a,n=this,s=[];return a=void 0!==t?t:null,s.push(a),"function"==typeof i?(r(n.output()[0],function(e,t){var a,r;t>0&&(a=n.selectColumn(t),r=i.call(n,a,t),"undefined"==typeof r&&(r=null),s.push(r))}),n.data.output.splice(e,0,s)):(!i||i instanceof Array)&&(r(n.output()[0],function(e,t){var a;t>0&&(a=i&&void 0!==i[t-1]?i[t-1]:null,s.push(a))}),this.data.output.splice(e,0,s)),this}var r=e("../../core/utils/each");t.exports={insertColumn:a,insertRow:n}},{"../../core/utils/each":31}],43:[function(e,t,i){function a(e){var t=new Array,i="number"==typeof e?e:this.data.output[0].indexOf(e);return i>-1&&r(this.data.output,function(e,a){t.push(e[i])}),t}function n(e){var t=new Array,i="number"==typeof e?e:this.selectColumn(0).indexOf(e);return i>-1&&(t=this.data.output[i]),t}var r=e("../../core/utils/each");t.exports={selectColumn:a,selectRow:n}},{"../../core/utils/each":31}],44:[function(e,t,i){function a(e,t){var i=this,a=this.output()[0].slice(1),n=[],s=t||this.getColumnLabel;return r(a,function(e,t){n.push(i.selectColumn(t+1).slice(0))}),n.sort(function(t,a){var n=s.call(i,t)>s.call(i,a);return n?"asc"===e?1:-1:n?0:"asc"===e?-1:1}),r(n,function(e,t){i.deleteColumn(t+1).insertColumn(t+1,e[0],e.slice(1))}),i}function n(e,t){var i=this,a=this.output().slice(0,1),n=this.output().slice(1),r=t||this.getRowIndex;return n.sort(function(t,a){var n=r.call(i,t)>r.call(i,a);return n?"asc"===e?1:-1:n?0:"asc"===e?-1:1}),i.output(a.concat(n)),i}var r=e("../../core/utils/each");t.exports={sortColumns:a,sortRows:n}},{"../../core/utils/each":31}],45:[function(e,t,i){function a(e,t){var i=this,a="number"==typeof e?e:this.data.output[0].indexOf(e);return a>-1&&("function"==typeof t?r(i.output(),function(e,n){var r;n>0&&(r=t.call(i,e[a],n,e),"undefined"!=typeof r&&(i.data.output[n][a]=r))}):(!t||t instanceof Array)&&r(i.output(),function(e,n){var r;n>0&&(r=t&&"undefined"!=typeof t[n-1]?t[n-1]:null,i.data.output[n][a]=r)})),i}function n(e,t){var i=this,a="number"==typeof e?e:this.selectColumn(0).indexOf(e);return a>-1&&("function"==typeof t?r(i.output()[a],function(e,n){var r=i.selectColumn(n),s=t.call(i,e,n,r);"undefined"!=typeof s&&(i.data.output[a][n]=s)}):(!t||t instanceof Array)&&r(i.output()[a],function(e,n){var r;n>0&&(r=t&&void 0!==t[n-1]?t[n-1]:null,i.data.output[a][n]=r)})),i}var r=e("../../core/utils/each");t.exports={updateColumn:a,updateRow:n}},{"../../core/utils/each":31}],46:[function(e,t,i){function a(e){var t={};for(var i in e)if(e.hasOwnProperty(i))if("object"==typeof e[i]&&null!==e[i]){var n=a(e[i]);for(var r in n)n.hasOwnProperty(r)&&(t[i+"."+r]=n[r])}else t[i]=e[i];return t}t.exports=a},{}],47:[function(e,t,i){var a=e("../../core/utils/each");t.exports=function(){var e=[],t=function(){var i=arguments[0],n=Array.prototype.slice.call(arguments,1),r=n.pop();return 0===n.length&&(i instanceof Array?n=i:"object"==typeof i&&n.push(i)),a(n,function(s){if(""==r&&("number"==typeof s||null==s))return e.push(s);if(s[r]||0===s[r]||void 0!==s[r])return e.push(null===s[r]?null:s[r]);if(!i[s]){if("object"!=typeof i||i instanceof Array!=!1||i[r])return t.apply(this,[s].concat(n.splice(1)).concat(r));throw new Error("Target property does not exist",r)}return i[s]instanceof Array?void a(i[s],function(e,a){var o=[i[s]].concat(i[s][a]).concat(n.slice(1)).concat(r);return t.apply(this,o)}):i[s][r]?e.push(i[s][r]):t.apply(this,[i[s]].concat(n.splice(1)).concat(r))}),e.length>0?e:void 0};return t.apply(this,arguments)}},{"../../core/utils/each":31}],48:[function(e,t,i){var a=e("../dataviz"),n=e("../../core/utils/each"),r=e("../../core/utils/extend");t.exports=function(){function e(e){var t={axis:{},bindto:this.el(),data:{columns:[]},color:{pattern:this.colors()},size:{height:this.height(),width:this.width()}};return t.data.type=e,"gauge"===e||("pie"===e||"donut"===e?t[e]={title:this.title()}:(this.dataType().indexOf("chron")>-1?(t.data.x="x",t.axis.x={type:"timeseries",tick:{format:"%Y-%m-%d"}}):"cat-ordinal"===this.dataType()&&(t.axis.x={type:"category",categories:this.labels()}),this.title()&&(t.axis.y={label:this.title()}))),r(t,this.chartOptions())}function t(){this.view._artifacts.c3&&(this.view._artifacts.c3.destroy(),this.view._artifacts.c3=null)}var i={singular:["gauge"],categorical:["donut","pie"],"cat-interval":["area-step","step","bar","area","area-spline","spline","line"],"cat-ordinal":["bar","area","area-spline","spline","line","step","area-step"],chronological:["area","area-spline","spline","line","bar","step","area-step"],"cat-chronological":["line","spline","area","area-spline","bar","step","area-step"]},s={};n(["gauge","donut","pie","bar","area","area-spline","spline","line","step","area-step"],function(i,a){s[i]={render:function(){var t=e.call(this,i);this.view._artifacts.c3=c3.generate(t),this.update()},update:function(){var e=this,t=[];"gauge"===i?e.view._artifacts.c3.load({columns:[[e.title(),e.data()[1][1]]]}):"pie"===i||"donut"===i?e.view._artifacts.c3.load({columns:e.dataset.data.output.slice(1)}):(this.dataType().indexOf("chron")>-1&&(t.push(e.dataset.selectColumn(0)),t[0][0]="x"),n(e.data()[0],function(i,a){a>0&&t.push(e.dataset.selectColumn(a))}),e.stacked()&&e.view._artifacts.c3.groups([e.labels()]),e.view._artifacts.c3.load({columns:t}))},destroy:function(){t.call(this)}}}),a.register("c3",s,{capabilities:i})}},{"../../core/utils/each":31,"../../core/utils/extend":32,"../dataviz":52}],49:[function(e,t,i){var a=e("../dataviz"),n=e("../../core/utils/each"),r=e("../../core/utils/extend");t.exports=function(){function e(){var e=this,t=[];return n(e.dataset.selectColumn(0).slice(1),function(i,a){t.push({value:e.dataset.selectColumn(1).slice(1)[a],color:e.colors()[+a],hightlight:e.colors()[+a+9],label:i})}),t}function t(){var e,t=this,i={labels:[],datasets:[]};return e=this.dataset.selectColumn(0).slice(1),n(e,function(e,t){i.labels.push(e instanceof Date?e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear():e)}),n(t.dataset.selectRow(0).slice(1),function(e,a){var n={r:s(t.colors()[a]),g:o(t.colors()[a]),b:l(t.colors()[a])};i.datasets.push({label:e,fillColor:"rgba("+n.r+","+n.g+","+n.b+",0.2)",strokeColor:"rgba("+n.r+","+n.g+","+n.b+",1)",pointColor:"rgba("+n.r+","+n.g+","+n.b+",1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba("+n.r+","+n.g+","+n.b+",1)",data:t.dataset.selectColumn(+a+1).slice(1)})}),i}function i(){this.view._artifacts.chartjs&&(this.view._artifacts.chartjs.destroy(),this.view._artifacts.chartjs=null)}function s(e){return parseInt(c(e).substring(0,2),16)}function o(e){return parseInt(c(e).substring(2,4),16)}function l(e){return parseInt(c(e).substring(4,6),16)}function c(e){return"#"==e.charAt(0)?e.substring(1,7):e}"undefined"!=typeof Chart&&(Chart.defaults.global.responsive=!0);var d={categorical:["doughnut","pie","polar-area","radar"],"cat-interval":["bar","line"],"cat-ordinal":["bar","line"],chronological:["line","bar"],"cat-chronological":["line","bar"]},u={radar:"Radar","polar-area":"PolarArea",pie:"Pie",doughnut:"Doughnut",line:"Line",bar:"Bar"},p={doughnut:e,pie:e,"polar-area":e,radar:t,line:t,bar:t},h={};n(["doughnut","pie","polar-area","radar","bar","line"],function(e,t){h[e]={initialize:function(){if("canvas"!==this.el().nodeName.toLowerCase()){var e=document.createElement("canvas");this.el().innerHTML="",this.el().appendChild(e),this.view._artifacts.ctx=e.getContext("2d")}else this.view._artifacts.ctx=this.el().getContext("2d");return this.height()&&(this.view._artifacts.ctx.canvas.height=this.height(),this.view._artifacts.ctx.canvas.style.height=String(this.height()+"px")),this.width()&&(this.view._artifacts.ctx.canvas.width=this.width(),this.view._artifacts.ctx.canvas.style.width=String(this.width()+"px")),this},render:function(){var t=u[e],i=r({},this.chartOptions()),a=p[e].call(this);return this.view._artifacts.chartjs&&this.view._artifacts.chartjs.destroy(),this.view._artifacts.chartjs=new Chart(this.view._artifacts.ctx)[t](a,i),this},destroy:function(){i.call(this)}}}),a.register("chartjs",h,{capabilities:d})}},{"../../core/utils/each":31,"../../core/utils/extend":32,"../dataviz":52}],50:[function(e,t,i){var a=e("../dataviz"),n=e("../../core/utils/each"),r=e("../../core/utils/extend"),s=e("../../core");t.exports=function(){function e(e){var t=i[e.message]||e.message||"An error occurred";this.error(t)}function t(e){var t={};switch(e.toLowerCase()){case"areachart":t.lineWidth=2,t.hAxis={baselineColor:"transparent",gridlines:{color:"transparent"}},t.vAxis={viewWindow:{min:0}},"chronological"===this.dataType()&&(t.legend={position:"none"},t.chartArea={width:"85%"});break;case"barchart":t.hAxis={viewWindow:{min:0}},t.vAxis={baselineColor:"transparent",gridlines:{color:"transparent"}},"chronological"===this.dataType()&&(t.legend={position:"none"});break;case"columnchart":t.hAxis={baselineColor:"transparent",gridlines:{color:"transparent"}},t.vAxis={viewWindow:{min:0}},"chronological"===this.dataType()&&(t.legend={position:"none"},t.chartArea={
width:"85%"});break;case"linechart":t.lineWidth=2,t.hAxis={baselineColor:"transparent",gridlines:{color:"transparent"}},t.vAxis={viewWindow:{min:0}},"chronological"===this.dataType()&&(t.legend={position:"none"},t.chartArea={width:"85%"});break;case"piechart":t.sliceVisibilityThreshold=.01;break;case"table":}return t}s.loaded=!1;var i={"Data column(s) for axis #0 cannot be of type string":"No results to visualize"},o=["AreaChart","BarChart","ColumnChart","LineChart","PieChart","Table"],l={},c={categorical:["piechart","barchart","columnchart","table"],"cat-interval":["columnchart","barchart","table"],"cat-ordinal":["barchart","columnchart","areachart","linechart","table"],chronological:["areachart","linechart","table"],"cat-chronological":["linechart","columnchart","barchart","areachart"],nominal:["table"],extraction:["table"]};n(o,function(i){var a=i.toLowerCase();l[a]={initialize:function(){},render:function(){if("undefined"==typeof google)return void this.error("The Google Charts library could not be loaded.");var t=this;t.view._artifacts.googlechart&&this.destroy(),t.view._artifacts.googlechart=t.view._artifacts.googlechart||new google.visualization[i](t.el()),google.visualization.events.addListener(t.view._artifacts.googlechart,"error",function(i){e.call(t,i)}),this.update()},update:function(){var e=t.call(this,i);r(e,this.chartOptions(),this.attributes()),e.isStacked=this.stacked()||e.isStacked,this.view._artifacts.datatable=google.visualization.arrayToDataTable(this.data()),this.view._artifacts.googlechart&&this.view._artifacts.googlechart.draw(this.view._artifacts.datatable,e)},destroy:function(){this.view._artifacts.googlechart&&(google.visualization.events.removeAllListeners(this.view._artifacts.googlechart),this.view._artifacts.googlechart.clearChart(),this.view._artifacts.googlechart=null,this.view._artifacts.datatable=null)}}}),a.register("google",l,{capabilities:c,dependencies:[{type:"script",url:"https://www.google.com/jsapi",cb:function(e){"undefined"==typeof google?(this.trigger("error","Problem loading Google Charts library. Please contact us!"),e()):google.load("visualization","1.1",{packages:["corechart","table"],callback:function(){e()}})}}]})}},{"../../core":19,"../../core/utils/each":31,"../../core/utils/extend":32,"../dataviz":52}],51:[function(e,t,i){var a=e("../../core"),n=(e("../dataviz"),e("../../core/utils/clone")),r=e("../../core/utils/each"),s=e("../../core/utils/extend"),o=e("../utils/prettyNumber");t.exports=function(){var e,t,i;a.Error={defaults:{backgroundColor:"",borderRadius:"4px",color:"#ccc",display:"block",fontFamily:"Helvetica Neue, Helvetica, Arial, sans-serif",fontSize:"21px",fontWeight:"light",textAlign:"center"}},a.Spinner.defaults={height:138,lines:10,length:8,width:3,radius:10,corners:1,rotate:0,direction:1,color:"#4d4d4d",speed:1.67,trail:60,shadow:!1,hwaccel:!1,className:"keen-spinner",zIndex:2e9,top:"50%",left:"50%"};var l={singular:["metric"]};e={initialize:function(){var e=document.createElement("style"),t="#49c5b1";e.id="keen-widgets",e.type="text/css",e.innerHTML="  .keen-metric { \n  background: "+t+"; \n  border-radius: 4px; \n  color: #fff; \n  font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; \n  padding: 10px 0; \n  text-align: center; \n}   .keen-metric-value { \n  display: block; \n  font-size: 84px; \n  font-weight: 700; \n  line-height: 84px; \n}   .keen-metric-title { \n  display: block; \n  font-size: 24px; \n  font-weight: 200; \n}",document.getElementById(e.id)||document.body.appendChild(e)},render:function(){var e=1==this.colors().length?this.colors()[0]:"#49c5b1",t=this.title()||"Result",i=this.data()[1][1]||0,a=this.width(),n=this.chartOptions()||{},r="",s="",l={width:a?a+"px":"auto"},c=i;("undefined"==typeof n.prettyNumber||1==n.prettyNumber)&&(isNaN(parseInt(i))||(c=o(i))),n.prefix&&(r='<span class="keen-metric-prefix">'+n.prefix+"</span>"),n.suffix&&(s='<span class="keen-metric-suffix">'+n.suffix+"</span>"),this.el().innerHTML='<div class="keen-widget keen-metric" style="background-color: '+e+"; width:"+l.width+';" title="'+i+'"><span class="keen-metric-value">'+r+c+s+'</span><span class="keen-metric-title">'+t+"</span></div>"}},t={initialize:function(){},render:function(e,t){var i,o,l=n(a.Error.defaults),c=s(l,t);i=document.createElement("div"),i.className="keen-error",r(c,function(e,t){i.style[t]=e}),i.style.height=String(this.height()+"px"),i.style.paddingTop=this.height()/2-15+"px",i.style.width=String(this.width()+"px"),o=document.createElement("span"),o.innerHTML=e||"Yikes! An error occurred!",i.appendChild(o),this.el().innerHTML="",this.el().appendChild(i)},destroy:function(){this.el().innerHTML=""}},i={initialize:function(){},render:function(){var e=document.createElement("div"),t=this.height()||a.Spinner.defaults.height;e.className="keen-loading",e.style.height=String(t+"px"),e.style.position="relative",e.style.width=String(this.width()+"px"),this.el().innerHTML="",this.el().appendChild(e),this.view._artifacts.spinner=new a.Spinner(a.Spinner.defaults).spin(e)},destroy:function(){this.view._artifacts.spinner.stop(),this.view._artifacts.spinner=null}},a.Dataviz.register("keen-io",{metric:e,error:t,spinner:i},{capabilities:l})}},{"../../core":19,"../../core/utils/clone":30,"../../core/utils/each":31,"../../core/utils/extend":32,"../dataviz":52,"../utils/prettyNumber":91}],52:[function(e,t,i){function a(){this.dataset=new u,this.view={_prepared:!1,_initialized:!1,_rendered:!1,_artifacts:{},adapter:{library:void 0,chartOptions:{},chartType:void 0,defaultChartType:void 0,dataType:void 0},attributes:n(a.defaults),defaults:n(a.defaults),el:void 0,loader:{library:"keen-io",chartType:"spinner"}},a.visuals.push(this)}var n=e("../core/utils/clone"),r=e("../core/utils/each"),s=e("../core/utils/extend"),o=e("./utils/loadScript"),l=e("./utils/loadStyle"),c=e("../core"),d=e("../core/helpers/emitter-shim"),u=e("../dataset");s(a,{dataTypeMap:{singular:{library:"keen-io",chartType:"metric"},categorical:{library:"google",chartType:"piechart"},"cat-interval":{library:"google",chartType:"columnchart"},"cat-ordinal":{library:"google",chartType:"barchart"},chronological:{library:"google",chartType:"areachart"},"cat-chronological":{library:"google",chartType:"linechart"},extraction:{library:"google",chartType:"table"},nominal:{library:"google",chartType:"table"}},defaults:{colors:["#00bbde","#fe6672","#eeb058","#8a8ad6","#ff855c","#00cfbb","#5a9eed","#73d483","#c879bb","#0099b6","#d74d58","#cb9141","#6b6bb6","#d86945","#00aa99","#4281c9","#57b566","#ac5c9e","#27cceb","#ff818b","#f6bf71","#9b9be1","#ff9b79","#26dfcd","#73aff4","#87e096","#d88bcb"],indexBy:"timeframe.start",stacked:!1},dependencies:{loading:0,loaded:0,urls:{}},libraries:{},visuals:[]}),d(a),d(a.prototype),a.register=function(e,t,i){var n=this,s=function(e){e.loaded++,e.loaded===e.loading&&(c.loaded=!0,c.trigger("ready"))};a.libraries[e]=a.libraries[e]||{},r(t,function(t,i){a.libraries[e][i]=t}),i&&i.capabilities&&(a.libraries[e]._defaults=a.libraries[e]._defaults||{},r(i.capabilities,function(t,i){a.libraries[e]._defaults[i]=t})),i&&i.dependencies&&r(i.dependencies,function(e,t,i){var r=a.dependencies;if(!r.urls[e.url]){r.urls[e.url]=!0,r.loading++;var c="script"===e.type?o:l;c(e.url,function(){e.cb?e.cb.call(n,function(){s(r)}):s(r)})}})},a.find=function(e){if(!arguments.length)return a.visuals;var t,i=e.nodeName?e:document.querySelector(e);return r(a.visuals,function(e){return i==e.el()?(t=e,!1):void 0}),t?t:void 0},t.exports=a},{"../core":19,"../core/helpers/emitter-shim":11,"../core/utils/clone":30,"../core/utils/each":31,"../core/utils/extend":32,"../dataset":36,"./utils/loadScript":89,"./utils/loadStyle":90}],53:[function(e,t,i){var a=e("../../core/utils/clone"),n=e("../../core/utils/extend"),r=e("../dataviz"),s=e("../../core/request");t.exports=function(e,t,i){var o=a(r.defaults),l=new r,c=new s(this,[e]),d=i?a(i):{};return d.chartType&&(l.chartType(d.chartType),delete d.chartType),d.library&&(l.library(d.library),delete d.library),d.chartOptions&&(l.chartOptions(d.chartOptions),delete d.chartOptions),l.attributes(n(o,d)).el(t).prepare(),c.refresh(),c.on("complete",function(){l.parseRequest(this).render()}),c.on("error",function(e){l.error(e.message)}),l}},{"../../core/request":28,"../../core/utils/clone":30,"../../core/utils/extend":32,"../dataviz":52}],54:[function(e,t,i){var a=e("../dataviz"),n=e("../../core/utils/extend");t.exports=function(){var e=n({},a.dataTypeMap),t=this.dataType(),i=this.library(),r=this.chartType()||this.defaultChartType();return!i&&e[t]&&(i=e[t].library),i&&!r&&t&&(r=a.libraries[i]._defaults[t][0]),i&&!r&&e[t]&&(r=e[t].chartType),i&&r?a.libraries[i][r]:{}}},{"../../core/utils/extend":32,"../dataviz":52}],55:[function(e,t,i){function a(e){var t=e.data instanceof Array?e.data[0]:e.data,i=e.queries[0].get("property_names")||[],a={records:"result",select:!0};return i&&(a.select=[],n(i,function(e){a.select.push({path:e})})),new r(t,a)}var n=e("../../core/utils/each"),r=e("../../dataset");t.exports={extraction:a}},{"../../core/utils/each":31,"../../dataset":36}],56:[function(e,t,i){t.exports=function(e){var t,i=e.queries[0].analysis.replace("_"," "),a=e.queries[0].get("event_collection");return t=i.replace(/\b./g,function(e){return e.toUpperCase()}),a&&(t+=" - "+a),t}},{}],57:[function(e,t,i){t.exports=function(e){var t,i="string"==typeof e.params.interval,a="string"==typeof e.params.group_by,n=e.params.group_by instanceof Array;return a||i||(t="singular"),a&&!i&&(t="categorical"),i&&!a&&(t="chronological"),i&&a&&(t="cat-chronological"),!i&&n&&(t="categorical"),i&&n&&(t="cat-chronological"),"funnel"===e.analysis&&(t="cat-ordinal"),"extraction"===e.analysis&&(t="extraction"),"select_unique"===e.analysis&&(t="nominal"),t}},{}],58:[function(e,t,i){var a=e("../core/utils/extend"),n=e("./dataviz");a(n.prototype,{adapter:e("./lib/adapter"),attributes:e("./lib/attributes"),call:e("./lib/call"),chartOptions:e("./lib/chartOptions"),chartType:e("./lib/chartType"),colorMapping:e("./lib/colorMapping"),colors:e("./lib/colors"),data:e("./lib/data"),dataType:e("./lib/dataType"),defaultChartType:e("./lib/defaultChartType"),el:e("./lib/el"),height:e("./lib/height"),indexBy:e("./lib/indexBy"),labelMapping:e("./lib/labelMapping"),labels:e("./lib/labels"),library:e("./lib/library"),parseRawData:e("./lib/parseRawData"),parseRequest:e("./lib/parseRequest"),prepare:e("./lib/prepare"),sortGroups:e("./lib/sortGroups"),sortIntervals:e("./lib/sortIntervals"),stacked:e("./lib/stacked"),title:e("./lib/title"),width:e("./lib/width")}),a(n.prototype,{destroy:e("./lib/actions/destroy"),error:e("./lib/actions/error"),initialize:e("./lib/actions/initialize"),render:e("./lib/actions/render"),update:e("./lib/actions/update")}),t.exports=n},{"../core/utils/extend":32,"./dataviz":52,"./lib/actions/destroy":59,"./lib/actions/error":60,"./lib/actions/initialize":61,"./lib/actions/render":62,"./lib/actions/update":63,"./lib/adapter":64,"./lib/attributes":65,"./lib/call":66,"./lib/chartOptions":67,"./lib/chartType":68,"./lib/colorMapping":69,"./lib/colors":70,"./lib/data":71,"./lib/dataType":72,"./lib/defaultChartType":73,"./lib/el":74,"./lib/height":75,"./lib/indexBy":76,"./lib/labelMapping":77,"./lib/labels":78,"./lib/library":79,"./lib/parseRawData":80,"./lib/parseRequest":81,"./lib/prepare":82,"./lib/sortGroups":83,"./lib/sortIntervals":84,"./lib/stacked":85,"./lib/title":86,"./lib/width":87}],59:[function(e,t,i){var a=e("../../helpers/getAdapterActions");t.exports=function(){var e=a.call(this);return e.destroy&&e.destroy.apply(this,arguments),this.el()&&(this.el().innerHTML=""),this.view._prepared=!1,this.view._initialized=!1,this.view._rendered=!1,this.view._artifacts={},this}},{"../../helpers/getAdapterActions":54}],60:[function(e,t,i){var a=e("../../helpers/getAdapterActions"),n=e("../../dataviz");t.exports=function(){var e=a.call(this);return e.error?e.error.apply(this,arguments):n.libraries["keen-io"].error.render.apply(this,arguments),this}},{"../../dataviz":52,"../../helpers/getAdapterActions":54}],61:[function(e,t,i){var a=e("../../helpers/getAdapterActions"),n=e("../../dataviz");t.exports=function(){var e=a.call(this),t=n.libraries[this.view.loader.library][this.view.loader.chartType];return this.view._prepared?t.destroy&&t.destroy.apply(this,arguments):this.el()&&(this.el().innerHTML=""),e.initialize&&e.initialize.apply(this,arguments),this.view._initialized=!0,this}},{"../../dataviz":52,"../../helpers/getAdapterActions":54}],62:[function(e,t,i){var a=e("../../helpers/getAdapterActions"),n=e("../../utils/applyTransforms");t.exports=function(){var e=a.call(this);return n.call(this),this.view._initialized||this.initialize(),this.el()&&e.render&&(e.render.apply(this,arguments),this.view._rendered=!0),this}},{"../../helpers/getAdapterActions":54,"../../utils/applyTransforms":88}],63:[function(e,t,i){var a=e("../../helpers/getAdapterActions"),n=e("../../utils/applyTransforms");t.exports=function(){var e=a.call(this);return n.call(this),e.update?e.update.apply(this,arguments):e.render&&this.render(),this}},{"../../helpers/getAdapterActions":54,"../../utils/applyTransforms":88}],64:[function(e,t,i){var a=e("../../core/utils/each");t.exports=function(e){if(!arguments.length)return this.view.adapter;var t=this;return a(e,function(e,i){t.view.adapter[i]=e?e:null}),this}},{"../../core/utils/each":31}],65:[function(e,t,i){var a=e("../../core/utils/each"),n=e("./chartOptions");t.exports=function(e){if(!arguments.length)return this.view.attributes;var t=this;return a(e,function(e,i){"chartOptions"===i?n.call(t,e):t.view.attributes[i]=e}),this}},{"../../core/utils/each":31,"./chartOptions":67}],66:[function(e,t,i){t.exports=function(e){return e.call(this),this}},{}],67:[function(e,t,i){var a=e("../../core/utils/extend");t.exports=function(e){return arguments.length?(a(this.view.adapter.chartOptions,e),this):this.view.adapter.chartOptions}},{"../../core/utils/extend":32}],68:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.adapter.chartType=e?String(e):null,this):this.view.adapter.chartType}},{}],69:[function(e,t,i){function a(){var e=this,t=this.dataset.schema,i=this.dataset.output(),a=this.view.defaults.colors.slice(),r=this.colorMapping(),s=this.dataType()||"";r&&(s.indexOf("chronological")>-1||t.unpack&&i[0].length>2?n(i[0].slice(1),function(e,t){var i=r[e];i&&a[t]!==i&&a.splice(t,0,i)}):n(e.dataset.selectColumn(0).slice(1),function(e,t){var i=r[e];i&&a[t]!==i&&a.splice(t,0,i)}),e.view.attributes.colors=a)}var n=e("../../core/utils/each");t.exports=function(e){return arguments.length?(this.view.attributes.colorMapping=e?e:null,a.call(this),this):this.view.attributes.colorMapping}},{"../../core/utils/each":31}],70:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.attributes.colors=e instanceof Array?e:null,this.view.defaults.colors=e instanceof Array?e:null,this):this.view.attributes.colors}},{}],71:[function(e,t,i){var a=e("../../dataset"),n=e("../../core/request");t.exports=function(e){return arguments.length?(e instanceof a?this.dataset=e:e instanceof n?this.parseRequest(e):this.parseRawData(e),this):this.dataset.output()}},{"../../core/request":28,"../../dataset":36}],72:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.adapter.dataType=e?String(e):null,this):this.view.adapter.dataType}},{}],73:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.adapter.defaultChartType=e?String(e):null,this):this.view.adapter.defaultChartType}},{}],74:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.el=e,this):this.view.el}},{}],75:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.attributes.height=isNaN(parseInt(e))?null:parseInt(e),this):this.view.attributes.height}},{}],76:[function(e,t,i){function a(){var e=this,t=this.dataset.meta.schema||this.dataset.meta.unpack,i=this.indexBy().split(".").join(n.defaults.delimeter);s(t,function(t,a){"select"===a&&t instanceof Array?s(t,function(t,n){t.path.indexOf("timeframe -> ")>-1&&(e.dataset.meta.schema[a][n].path=i)}):"unpack"===a&&"object"==typeof t&&(e.dataset.meta.schema[a].index.path=i)}),this.dataset.parse()}var n=e("../../dataset"),r=e("../dataviz"),s=e("../../core/utils/each");t.exports=function(e){return arguments.length?(this.view.attributes.indexBy=e?String(e):r.defaults.indexBy,a.call(this),this):this.view.attributes.indexBy}},{"../../core/utils/each":31,"../../dataset":36,"../dataviz":52}],77:[function(e,t,i){function a(){var e=this,t=this.labelMapping(),i=this.dataset.schema()||{},a=this.dataType()||"";t&&(a.indexOf("chronological")>-1||i.unpack&&e.dataset.output()[0].length>2?n(e.dataset.output()[0],function(i,a){a>0&&(e.dataset.data.output[0][a]=t[i]||i)}):i.select&&2===e.dataset.output()[0].length&&e.dataset.updateColumn(0,function(e,i){return t[e]||e}))}var n=e("../../core/utils/each");t.exports=function(e){return arguments.length?(this.view.attributes.labelMapping=e?e:null,a.call(this),this):this.view.attributes.labelMapping}},{"../../core/utils/each":31}],78:[function(e,t,i){function a(){var e=this,t=this.labels()||null,i=this.dataset.schema()||{},a=this.dataset.output(),n=this.dataType()||"";t&&(n.indexOf("chronological")>-1||i.unpack&&a[0].length>2?r(a[0],function(i,a){a>0&&t[a-1]&&(e.dataset.data.output[0][a]=t[a-1])}):r(a,function(i,a){a>0&&t[a-1]&&(e.dataset.data.output[a][0]=t[a-1])}))}function n(){var e,t=this.dataset.schema()||{},i=this.dataset.output(),a=this.dataType()||"";return e=a.indexOf("chron")>-1||t.unpack&&i[0].length>2?this.dataset.selectRow(0).slice(1):this.dataset.selectColumn(0).slice(1)}var r=e("../../core/utils/each");t.exports=function(e){return arguments.length?(this.view.attributes.labels=e instanceof Array?e:null,a.call(this),this):this.view.attributes.labels&&this.view.attributes.labels.length?this.view.attributes.labels:n.call(this)}},{"../../core/utils/each":31}],79:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.adapter.library=e?String(e):null,this):this.view.adapter.library}},{}],80:[function(e,t,i){function a(e){var t,i,a,o,l,c,d,u=this,p={};if(t=u.indexBy()?u.indexBy():n.defaults.indexBy,i=r.defaults.delimeter,a=t.split(".").join(i),o=u.labels()||null,l=u.labelMapping()||null,"number"==typeof e.result&&(c="singular",p={records:"",select:[{path:"result",type:"string",label:"Metric"}]}),e.result instanceof Array&&e.result.length>0){if(!e.result[0].timeframe||"number"!=typeof e.result[0].value&&null!=e.result[0].value||(c="chronological",p={records:"result",select:[{path:a,type:"date"},{path:"value",type:"number"}]}),"number"==typeof e.result[0].result){c="categorical",p={records:"result",select:[]};for(var h in e.result[0])if(e.result[0].hasOwnProperty(h)&&"result"!==h){p.select.push({path:h,type:"string"});break}p.select.push({path:"result",type:"number"})}if(e.result[0].value instanceof Array){c="cat-chronological",p={records:"result",unpack:{index:{path:a,type:"date"},value:{path:"value -> result",type:"number"}}};for(var h in e.result[0].value[0])if(e.result[0].value[0].hasOwnProperty(h)&&"result"!==h){p.unpack.label={path:"value -> "+h,type:"string"};break}}"number"==typeof e.result[0]&&(c="cat-ordinal",p={records:"",unpack:{index:{path:"steps -> event_collection",type:"string"},value:{path:"result -> ",type:"number"}}}),"string"==typeof e.result[0]&&(c="nominal",d=new r,d.appendColumn("unique values",[]),s(e.result,function(e,t){d.appendRow(e)})),void 0===c&&(c="extraction",p={records:"result",select:!0})}return d=d instanceof r?d:new r(e,p),c&&u.dataType(c),d}var n=e("../dataviz"),r=e("../../dataset"),s=e("../../core/utils/each");t.exports=function(e){return this.dataset=a.call(this,e),this}},{"../../core/utils/each":31,"../../dataset":36,"../dataviz":52}],81:[function(e,t,i){{var a=e("../helpers/getDatasetSchemas"),n=e("../helpers/getDefaultTitle"),r=e("../helpers/getQueryDataType");e("../../dataset"),e("./parseRawData")}t.exports=function(e){var t=r(e.queries[0]);return"extraction"===t?this.dataset=a.extraction(e):this.parseRawData(e.data instanceof Array?e.data[0]:e.data),this.dataType(t),this.view.defaults.title=n.call(this,e),this.title()||this.title(this.view.defaults.title),this}},{"../../dataset":36,"../helpers/getDatasetSchemas":55,"../helpers/getDefaultTitle":56,"../helpers/getQueryDataType":57,"./parseRawData":80}],82:[function(e,t,i){var a=e("../dataviz");t.exports=function(){var e;return this.view._rendered&&this.destroy(),this.el()&&(this.el().innerHTML="",e=a.libraries[this.view.loader.library][this.view.loader.chartType],e.initialize&&e.initialize.apply(this,arguments),e.render&&e.render.apply(this,arguments),this.view._prepared=!0),this}},{"../dataviz":52}],83:[function(e,t,i){function a(){var e=this.dataType();this.sortGroups()&&(e&&e.indexOf("chronological")>-1||this.data()[0].length>2?this.dataset.sortColumns(this.sortGroups(),this.dataset.getColumnSum):e&&(e.indexOf("cat-")>-1||e.indexOf("categorical")>-1)&&this.dataset.sortRows(this.sortGroups(),this.dataset.getRowSum))}t.exports=function(e){return arguments.length?(this.view.attributes.sortGroups=e?String(e):null,a.call(this),this):this.view.attributes.sortGroups}},{}],84:[function(e,t,i){function a(){this.sortIntervals()&&this.dataset.sortRows(this.sortIntervals())}t.exports=function(e){return arguments.length?(this.view.attributes.sortIntervals=e?String(e):null,a.call(this),this):this.view.attributes.sortIntervals}},{}],85:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.attributes.stacked=e?!0:!1,this):this.view.attributes.stacked}},{}],86:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.attributes.title=e?String(e):null,this):this.view.attributes.title}},{}],87:[function(e,t,i){t.exports=function(e){return arguments.length?(this.view.attributes.width=isNaN(parseInt(e))?null:parseInt(e),this):this.view.attributes.width}},{}],88:[function(e,t,i){t.exports=function(){this.labelMapping()&&this.labelMapping(this.labelMapping()),this.colorMapping()&&this.colorMapping(this.colorMapping()),this.sortGroups()&&this.sortGroups(this.sortGroups()),this.sortIntervals()&&this.sortIntervals(this.sortIntervals())}},{}],89:[function(e,t,i){t.exports=function(e,t){var i,a=document,n=a.head||a.getElementsByTagName("head");setTimeout(function(){if("item"in n){if(!n[0])return void setTimeout(arguments.callee,25);n=n[0]}var i=a.createElement("script"),r=!1;i.onload=i.onreadystatechange=function(){return i.readyState&&"complete"!==i.readyState&&"loaded"!==i.readyState||r?!1:(i.onload=i.onreadystatechange=null,r=!0,void t())},i.src=e,n.insertBefore(i,n.firstChild)},0),null===a.readyState&&a.addEventListener&&(a.readyState="loading",a.addEventListener("DOMContentLoaded",i=function(){a.removeEventListener("DOMContentLoaded",i,!1),a.readyState="complete"},!1))}},{}],90:[function(e,t,i){t.exports=function(e,t){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.type="text/css",i.href=e,t(),document.head.appendChild(i)}},{}],91:[function(e,t,i){t.exports=function(e){function t(e,i){var e=String(e),a=e.split(".");if(a.length>1){e=a[0];var n=a[1];2==e.length&&n.length>0?n.length>0?e=e+"."+n.charAt(0):e+="0":1==e.length&&n.length>0&&(e=e+"."+n.charAt(0),e+=n.length>1?n.charAt(1):"0")}var s=e.length;return e.split(".").length>1&&s--,3>=s?String(e)+r[i]:t(Number(e)/1e3,i+1)}var i=Number(e),a=i.toPrecision(3),n="",r=["","k","M","B","T"];return Number(a)==i&&String(i).length<=4?String(i):i>=1||-1>=i?(0>i&&(i=-i,n="-"),n+t(i,0)):i.toPrecision(3)}},{}],92:[function(e,t,i){(function(a){!function(e){"function"==typeof define&&define.amd&&define("keen",[],function(){return e()}),"object"==typeof i&&"undefined"!=typeof t&&(t.exports=e());var n=null;"undefined"!=typeof window?n=window:"undefined"!=typeof a?n=a:"undefined"!=typeof self&&(n=self),n&&(n.Keen=e())}(function(){var i=e("./core"),a=e("./core/utils/extend");return a(i.prototype,{addEvent:e("./core/lib/addEvent"),addEvents:e("./core/lib/addEvents"),setGlobalProperties:e("./core/lib/setGlobalProperties"),trackExternalLink:e("./core/lib/trackExternalLink"),get:e("./core/lib/get"),post:e("./core/lib/post"),put:e("./core/lib/post"),run:e("./core/lib/run"),draw:e("./dataviz/extensions/draw")}),i.Query=e("./core/query"),i.Request=e("./core/request"),i.Dataset=e("./dataset"),i.Dataviz=e("./dataviz"),i.Base64=e("./core/utils/base64"),i.Spinner=e("spin.js"),i.utils={domready:e("domready"),each:e("./core/utils/each"),extend:a,parseParams:e("./core/utils/parseParams"),prettyNumber:e("./dataviz/utils/prettyNumber")},e("./dataviz/adapters/keen-io")(),e("./dataviz/adapters/google")(),e("./dataviz/adapters/c3")(),e("./dataviz/adapters/chartjs")(),i.loaded&&setTimeout(function(){i.utils.domready(function(){i.emit("ready")})},0),e("./core/async")(),t.exports=i,i})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":19,"./core/async":10,"./core/lib/addEvent":20,"./core/lib/addEvents":21,"./core/lib/get":22,"./core/lib/post":23,"./core/lib/run":24,"./core/lib/setGlobalProperties":25,"./core/lib/trackExternalLink":26,"./core/query":27,"./core/request":28,"./core/utils/base64":29,"./core/utils/each":31,"./core/utils/extend":32,"./core/utils/parseParams":33,"./dataset":36,"./dataviz":58,"./dataviz/adapters/c3":48,"./dataviz/adapters/chartjs":49,"./dataviz/adapters/google":50,"./dataviz/adapters/keen-io":51,"./dataviz/extensions/draw":53,"./dataviz/utils/prettyNumber":91,domready:5,"spin.js":6}]},{},[92]),function(e,t){"use strict";e.Client=e.Client||{},e.Client.Simple=t(e,e.Utils)}(VisSense,function(e,t){"use strict";var i=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,i="x"==e?t:3&t|8;return i.toString(16)})},a=function(){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);return{width:e,height:t}},n=i(),r=function(e){return t.extend(e,{sessionId:n,viewport:a()})},s=function(e,t,i){var a=r(i);e.addEvent(t,a,function(e){e?console.log("error on event "+t):console.info("successfully sent event "+t)})};return function(){if(!t.isFunction(e.VisMon.Strategy.MetricsStrategy))throw new Error("Cannot load MetricsStrategy. Is it included?");return{monitors:function(a){var n={addEvent:function(e,t,i){a.addEvent(e,t,i)}};return{standard:function(e){return this.newBuilder(e).build()},custom:function(e,t){return this.newBuilder(e,t).build()},newBuilder:function(i,a){var n=t.defaults(a,{interval:1e3,throttle:100,inactiveAfter:6e4}),r=e.VisMon.Builder(i).strategy(new e.VisMon.Strategy.PollingStrategy({interval:n.interval})).strategy(new e.VisMon.Strategy.EventStrategy({throttle:n.throttle})).strategy(new e.VisMon.Strategy.UserActivityStrategy({inactiveAfter:n.inactiveAfter}));return this.prepareBuilder(r)},prepareBuilder:function(a){var r=i(),o=r.substring(0,7),l=function(e){return o+"#"+e},c="visibility-initial-request",d="visibility-status-50/1",u="visibility-time-report",p=l(c),h=l(d),v=l(u);return a.strategy(new e.VisMon.Strategy.MetricsStrategy).strategy(e.Client.Helpers.Simple.newInitialStateEventStrategy(p)).strategy(e.VisMon.Strategy.PercentageTimeTestEventStrategy(h,{percentageLimit:.5,timeLimit:1e3,interval:100})).strategy(e.Client.Helpers.Simple.createSummaryEventStrategy(v)).on(p,function(e,t){var i={type:"initial",monitorId:r,initial:!0,state:t};s(n,"visibility-initial-request",i),e.publish(c,[e,i])}).on(h,function(i,a){var o=e.Client.Helpers.Simple.createTimeReport(i.metrics()),l=t.extend(a,{timeReport:o}),c={type:"status",monitorId:r,test:l};s(n,"visibility-percentage-time-test",c),i.publish(d,[i,c])}).on(v,function(e,t){var i={type:"summary",monitorId:r,report:t};s(n,"visibility-time-report",i),e.publish(u,[e,i])})}}}}}}),function(e,t){"use strict";var i=function(){};i.createTimeReport=function(e){var t={};return t.timeHidden=e.getMetric("time.hidden").get(),t.timeVisible=e.getMetric("time.visible").get(),t.timeFullyVisible=e.getMetric("time.fullyvisible").get(),t.timeRelativeVisible=e.getMetric("time.relativeVisible").get(),t.duration=e.getMetric("time.duration").get(),t.percentage={current:e.getMetric("percentage").get(),max:e.getMetric("percentage.max").get(),min:e.getMetric("percentage.min").get()},t},i.newInitialStateEventStrategy=function(e){return{init:function(t){console.debug("[InitialRequestEventStrategy] init");var i=t.on("update",function(t){var a=t.state();t.publish(e,[t,a]),i()})}}},i.createSummaryEventStrategy=function(a){return{init:function(i){if(!t.isFunction(i.metrics)||!t.isFunction(e.VisMon.Strategy.MetricsStrategy))throw new Error("Cannot load MetricsStrategy. Is it included?")},start:function(){console.debug("[TimeReportEventStrategy] start")},stop:function(e){e.metrics().update();var t=i.createTimeReport(e.metrics());e.publish(a,[e,t]),console.debug("[TimeReportEventStrategy] stop")}}},e.Client=e.Client||{},e.Client.Helpers=e.Client.Helpers||{},e.Client.Helpers.Simple=i}(VisSense,VisSense.Utils),function(e,t){"use strict";e.Client=e.Client||{};var i=function(e,t,i){return e+"://"+t+":"+i};e.Client.Vishy=function(a,n){if(!t.isFunction(e.Client.Simple))throw new Error("Cannot load VisSense.Client.Simple. Is it included?");var r=t.defaults(a,{id:null,projectId:null,protocol:"http",host:"api.vishy.io",port:80});if(!r.id)throw new Error("Please provide a vishy.id!");if(!n||!n.post)throw new Error("Please provide a compatible http client!");var s=i(r.protocol,r.host,r.port);return{monitors:function(i){var a=t.defaults(i,{projectId:r.projectId});if(!a.projectId)throw new Error("Please provide a vishy.projectId!");var o={addEvent:function(e,i,o){var l=s+"/openmrc/keenio/track/"+r.id+"/"+e,c=t.extend(i,{vishy:{id:r.id,projectId:a.projectId}});n.post(l,c,{}).then(function(e){o(null,e)},function(e){o(e)})}};return{standard:function(t){return e.Client.Simple().monitors(o).standard(t)},custom:function(t,i){return e.Client.Simple().monitors(o).custom(t,i)},newBuilder:function(t,i){return e.Client.Simple().monitors(o).newBuilder(t,i)}}}}}}(VisSense,VisSense.Utils),function(e,t){"use strict";e.Client=e.Client||{},e.Client.KeenIO=function(i){if(!t.isFunction(e.Client.Simple))throw new Error("Cannot load VisSense.Client.Simple. Is it included?");var a={addEvent:function(e,t,a){i.addEvent(e,t,a)}};return{monitors:function(){return{standard:function(t){return e.Client.Simple().monitors(a).standard(t)},custom:function(t,i){return e.Client.Simple().monitors(a).custom(t,i)}}}}}}(VisSense,VisSense.Utils),function(e,t){"use strict";e.Client=e.Client||{},e.Client.Piwik=function(i){if(!t.isFunction(e.Client.Simple))throw new Error("Cannot load VisSense.Client.Simple. Is it included?");if(!i||!i.push)throw new Error("Please provide a compatible Piwik client!");return{monitors:function(a){var n=t.defaults(a,{projectId:null}),r={addPercentageTimeTestEvent:function(e){var t=100*e.test.testConfig.percentageLimit,a=e.test.testConfig.timeLimit/1e3,r=t+"/"+a+" Test";i.push(["trackEvent","visibility",n.projectId,r,1])},addInitialRequestEvent:function(e){i.push(["trackEvent","visibility",n.projectId,"Initial Request",1]),e.state.visible&&i.push(["trackEvent","visibility",n.projectId,"Initial Request Visible",1]),e.state.hidden&&i.push(["trackEvent","visibility",n.projectId,"Initial Request Hidden",1]),e.state.fullyvisible&&i.push(["trackEvent","visibility",n.projectId,"Initial Request Fully Visible",1])},addTimeReportEvent:function(e){var t=function(e){return Math.round(e/1e3)},a=t(e.report.timeVisible),r=t(e.report.timeFullyVisible),s=t(e.report.timeHidden),o=t(e.report.timeRelativeVisible);i.push(["trackEvent","visibility",n.projectId,"Time Report",1]),i.push(["trackEvent","visibility",n.projectId,"Time Report Time Visible",a]),i.push(["trackEvent","visibility",n.projectId,"Time Report Time Hidden",s]),i.push(["trackEvent","visibility",n.projectId,"Time Report Time Fully Visible",r]),
i.push(["trackEvent","visibility",n.projectId,"Time Report Time Relative Visible",o])},addEvent:function(e,t,i){"visibility-percentage-time-test"===e?this.addPercentageTimeTestEvent(t):"visibility-initial-request"===e?this.addInitialRequestEvent(t):"visibility-time-report"===e&&this.addTimeReportEvent(t),i(null,t)}};return{standard:function(t){return e.Client.Simple().monitors(r).standard(t)}}}}}}(VisSense,VisSense.Utils),function(e,t){"use strict";e.Client=e.Client||{},e.Client.Google=function(i){if(!t.isFunction(e.Client.Simple))throw new Error("Cannot load VisSense.Client.Simple. Is it included?");if(!i)throw new Error("Please provide a compatible Google Analytics client!");return{monitors:function(a){var n=t.defaults(a,{projectId:null}),r={addPercentageTimeTestEvent:function(e){var t=100*e.test.testConfig.percentageLimit,a=e.test.testConfig.timeLimit/1e3,r=t+"/"+a+" Test";i("send","event","visibility",n.projectId,r,1)},addInitialRequestEvent:function(e){i("send","event","visibility",n.projectId,"Initial Request",1),e.state.visible&&i("send","event","visibility",n.projectId,"Initial Request Visible",1),e.state.hidden&&i("send","event","visibility",n.projectId,"Initial Request Hidden",1),e.state.fullyvisible&&i("send","event","visibility",n.projectId,"Initial Request Fully Visible",1)},addTimeReportEvent:function(e){var t=function(e){return Math.round(e/1e3)},a=t(e.report.timeVisible),r=t(e.report.timeFullyVisible),s=t(e.report.timeHidden),o=t(e.report.timeRelativeVisible);i("send","event","visibility",n.projectId,"Time Report",1),i("send","event","visibility",n.projectId,"Time Report Time Visible",a),i("send","event","visibility",n.projectId,"Time Report Time Hidden",s),i("send","event","visibility",n.projectId,"Time Report Time Fully Visible",r),i("send","event","visibility",n.projectId,"Time Report Time Relative Visible",o)},addEvent:function(e,t,i){"visibility-percentage-time-test"===e?this.addPercentageTimeTestEvent(t):"visibility-initial-request"===e?this.addInitialRequestEvent(t):"visibility-time-report"===e&&this.addTimeReportEvent(t),i(null,t)}};return{standard:function(t){return e.Client.Simple().monitors(r).standard(t)},custom:function(t,i){return e.Client.Simple().monitors(r).custom(t,i)}}}}}}(VisSense,VisSense.Utils),function(e,t){"use strict";e.Client=e.Client||{},e.Client.SegmentIO=function(i){if(!t.isFunction(e.Client.Simple))throw new Error("Cannot load VisSense.Client.Simple. Is it included?");if(!i||!i.track)throw new Error("Please provide a compatible Segment.io client!");var a={addEvent:function(e,t,a){i.track(e,t),a(null,t)}};return{monitors:function(){return{standard:function(t){return e.Client.Simple().monitors(a).standard(t)},custom:function(t,i){return e.Client.Simple().monitors(a).custom(t,i)}}}}}}(VisSense,VisSense.Utils),function(e){e.module("angular-keenio.config",[]).value("angular-keenio.config",{debug:!0}),e.module("angular-keenio.directives",[]),e.module("angular-keenio.services",[]),e.module("angular-keenio",["angular-keenio.config","angular-keenio.directives","angular-keenio.services"])}(angular),function(e){e.module("angular-keenio.directives").directive("tbkKeenAreachart",[function(){var e={scope:{query:"=",title:"@",width:"@",height:"@",isStacked:"@",chartOptions:"=?"},controller:["$scope",function(e){e.chartOptions=e.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"80%"},isStacked:!!e.isStacked}}],template:'<div data-tbk-keen-chart="areachart"  query="query"  height="{{height}}"  width="{{width}}"  chart-options="chartOptions" ></div>'};return e}])}(angular),function(e){e.module("angular-keenio.directives").directive("tbkKeenChart",[function(){var e={scope:{chartType:"@tbkKeenChart",query:"=",title:"@",width:"@",height:"@",chartOptions:"=?"},controller:["$scope","tbkKeenClient",function(e,t){e.keenClient=t,e.height=e.height||250,e.width=e.width||"auto",e.title=e.title||!1,e.chartOptions=e.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"80%"}}}],link:function(e,t){e.keenClient.draw(e.query,t[0],{chartType:e.chartType,title:e.title,height:e.height,width:e.width,chartOptions:e.chartOptions})}};return e}])}(angular),function(e){e.module("angular-keenio.directives").directive("tbkKeenColumnchart",[function(){var e={scope:{query:"=",title:"@",width:"@",height:"@",isStacked:"@",groupWidth:"@",chartOptions:"=?"},controller:["$scope",function(e){e.chartOptions=e.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},bar:{groupWidth:e.groupWidth||"85%"},isStacked:!!e.isStacked}}],template:'<div data-tbk-keen-chart="columnchart"  query="query"  height="{{height}}"  width="{{width}}"  chart-options="chartOptions" ></div>'};return e}])}(angular),function(e){e.module("angular-keenio.directives").directive("tbkKeenMetric",["$injector","$filter","tbkKeenClient",function(e,t,i){var a=function(e){var t=e.containerClass||"tbk-keen-metric";return{container:t,loading:e.loadingClass||t+"-loading",error:e.errorClass||t+"-error",success:e.successClass||t+"-success"}},n=function(e){return{prefix:e.prefix||"",postfix:e.postfix||"",loading:e.loadingText||"Loading...",error:e.errorText||"An error occured!"}},r=function(t){var i=t.filter&&e.has(t.filter+"Filter");return{scale:parseInt(t.scale,10)||0,factor:parseFloat(t.factor)||1,filter:i?t.filter:null,useFilter:i}},s={scope:{query:"=",prefix:"@",postfix:"@",scale:"@",factor:"@",filter:"@",loadingText:"@",errorText:"@",containerClass:"@",loadingClass:"@",successClass:"@",errorClass:"@"},controller:["$scope",function(e){e.texts=n(e),e.classes=a(e),e.options=r(e),e.flags={loading:!1,error:!1},e.response=null}],link:function(e,a){a.addClass(e.classes.container);var n=function(){e.result=null,e.response=null,e.error=null,e.flags.loading=!0,e.flags.error=!1,a.addClass(e.classes.loading),a.removeClass(e.classes.success),a.removeClass(e.classes.error)};!function(){n(),i.run(e.query,function(i,n){if(e.response=n,e.error=i,e.flags.error=!!i,e.flags.loading=!1,!i){var r=n.result*e.options.factor;e.result=e.options.useFilter?t(e.options.filter)(r,e.options.scale):t("number")(r,e.options.scale)}a.removeClass(e.classes.loading),a.addClass(i?e.classes.error:e.classes.success),e.$digest()})}()},template:'<span><span data-ng-hide="flags.loading || flags.error">{{ texts.prefix }}{{ result }}{{ texts.postfix }}</span><span data-ng-show="flags.loading">{{ texts.loading }}</span><span data-ng-show="flags.error">{{ texts.error }}</span></span>'};return s}]).directive("tbkKeenDefaultMetric",["$injector","$filter","tbkKeenClient",function(e,t,i){var a={scope:{analysisType:"@",targetProperty:"@",eventCollection:"@",queryOptions:"=?",prefix:"@",postfix:"@",scale:"@",factor:"@",filter:"@",loadingText:"@",errorText:"@",containerClass:"@",loadingClass:"@",successClass:"@",errorClass:"@"},controller:["$scope","tbkKeen",function(e,t){var i=e.queryOptions||{};i.eventCollection=e.eventCollection,i.targetProperty=e.targetProperty,e.query=new t.Query(e.analysisType,i)}],template:'<span data-tbk-keen-metric  data-query="query"  data-prefix="{{prefix}}"  data-postfix="{{postfix}}"  data-scale="{{scale}}"  data-factor="{{factor}}"  data-filter="{{filter}}"  data-loading-text="{{loadingText}}"  data-error-text="{{errorText}}"  data-container-class="{{containerClass}}"  data-loading-class="{{loadingClass}}"  data-success-class="{{successClass}}"  data-error-class="{{errorClass}}" ></span>'};return a}])}(angular),function(e){e.module("angular-keenio.directives").directive("tbkKeenPiechart",[function(){var e={scope:{query:"=",title:"@",width:"@",height:"@",pieHole:"@",chartOptions:"=?"},controller:["$scope",function(e){e.chartOptions=e.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},pieHole:e.pieHole||.4}}],template:'<div data-tbk-keen-chart="piechart"  query="query"  height="{{height}}"  width="{{width}}"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkKeenDefaultPiechart",[function(){var e={scope:{analysisType:"@",eventCollection:"@",groupBy:"@",queryOptions:"=?",chartOptions:"=?",title:"@",width:"@",height:"@"},controller:["$scope","tbkKeen",function(e,t){e.analysisType=e.analysisType||"count",e.height=e.height||"250",e.width=e.width||"auto",e.queryOptions=e.queryOptions,e.queryOptions.eventCollection=e.eventCollection,e.queryOptions.groupBy=e.groupBy,e.query=new t.Query(e.analysisType,e.queryOptions),e.chartOptions=e.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},pieHole:.4}}],template:'<div data-tbk-keen-piechart  query="query"  height="{{height}}"  width="{{width}}"  title="{{title}}"  chart-options="chartOptions" ></div>'};return e}])}(angular),function(e){e.module("angular-keenio.directives").directive("tbkKeenTable",["tbkKeenClient",function(e){var t={scope:{query:"=",title:"@",height:"@"},controller:["$scope",function(e){e.options={title:e.title||"",height:e.height||340}}],link:function(t,i){e.draw(t.query,i[0],{chartType:"table",title:t.options.title,height:t.options.height})},template:"<div></div>"};return t}]).directive("tbkKeenDefaultTable",[function(){var e={scope:{title:"@",analysisType:"@",eventCollection:"@",queryOptions:"=?"},controller:["$scope","tbkKeen",function(e,t){var i=e.queryOptions||{};i.eventCollection=e.eventCollection,e.analysisType=e.analysisType||"extraction",e.query=new t.Query(e.analysisType,i)}],template:'<div tbk-keen-table  data-query="query"  data-title="{{title}}"></div>'};return e}])}(angular),function(e){e.module("angular-keenio.services").value("tbkKeenDefaultConfig",{projectId:"YOUR_PROJECT_ID",writeKey:"YOUR_WRITE_KEY",readKey:"YOUR_READ_KEY",protocol:"https",host:"api.keen.io/3.0",requestType:"jsonp"}).provider("tbkKeenConfig",[function(){var t={};this.projectId=function(e){return t.projectId=e,this},this.writeKey=function(e){return t.writeKey=e,this},this.readKey=function(e){return t.readKey=e,this},this.protocol=function(e){return t.protocol=e,this},this.host=function(e){return t.host=e,this},this.requestType=function(e){return t.requestType=e,this},this.$get=["tbkKeenDefaultConfig",function(i){return e.extend(i,t)}]}]).factory("tbkKeen",["$window",function(e){return e.Keen}]).factory("tbkKeenClient",["tbkKeen","tbkKeenConfig",function(e,t){return new e(t)}]).factory("tbkKeenHttpGet",["tbkKeenConfig","tbkKeenClient",function(e,t){return function(i,a,n){var r=i.replace("<project_id>",e.projectId),s=e.protocol+"://"+e.host+r;return t.get(s,a,e.readKey,n)}}])}(angular),function(e){e.module("angular-vishy.config",[]).value("angular-vishy.config",{debug:!0}),e.module("angular-vishy.directives",[]),e.module("angular-vishy.services",[]),e.module("angular-vishy",["angular-vishy.config","angular-vishy.directives","angular-vishy.services"])}(angular),function(e){e.module("angular-vishy.directives").directive("tbkVishyProjectTable",[function(){var e={scope:{},controller:["$scope",function(e){e.title="Project Table"}],template:"<div>{{ title }}</div>"};return e}])}(angular),function(e){e.module("angular-vishy.config").value("tbkVishyDefaultConfig",{id:"YOUR_VISHY_ID",writeKey:"YOUR_WRITE_KEY",readKey:"YOUR_READ_KEY",protocol:"https",host:"api.vishy.io",port:443,requestType:"jsonp"}).provider("tbkVishyConfig",[function(){var t={};this.id=function(e){return t.id=e,this},this.writeKey=function(e){return t.writeKey=e,this},this.readKey=function(e){return t.readKey=e,this},this.protocol=function(e){return t.protocol=e,this},this.host=function(e){return t.host=e,this},this.port=function(e){return t.port=e,this},this.requestType=function(e){return t.requestType=e,this},this.$get=["tbkVishyDefaultConfig",function(i){return e.extend(i,t)}]}])}(angular),function(e){"use strict";e.module("tbk.vishy-ui",["angular-vishy","tbk.githubVersion","tbk.readableTime","tbkBackgroundAnimations","tbkBackgroundAnimations.animations.ParticleGravity","tbkBackgroundAnimations.animations.Bubbles","restangular","org.tbk.vishy.states","org.tbk.vishy.ui.project","org.tbk.vishy.ui.dashboard","org.tbk.vishy.ui.showcase","org.tbk.vishy.ui.report"]).config(["tbkKeenConfigProvider",function(e){var t={projectId:"54dcbf0b46f9a74800890203",readKey:"f0de436f2fb5f41ddc57d01f4933056645f15ed6f0a7f44a643eaa665129560e1a2ab21ff4a8e8a79926e1444d847b33cf7ce4cf49fe0e49fa7120cb34803e6066fbf26fda801986ae8a60ea01a715a07491fc516c5b723a41dfef512a173124a65c8f15889450d295d8bc5a71e73c7c",writeKey:"3d4c9372032dad964bf03a00f579c78b9c410e34111b1929cf989c9eabaad11801bce63621b689f0ef4bbf7c84b47efe3fb94b27d125fc44fbd51d9f08c605b9e876c001d2105d1ba48f2fdee113b1b16e7e6847bb2b14822181262360cf668fab24ed77230e86dda8082be083b49a1e",protocol:"https",host:"api.keen.io/3.0"};e.projectId(t.projectId).readKey(t.readKey).writeKey(t.writeKey)}]).config(["tbkVishyConfigProvider",function(e){var t={vishyId:"42",readKey:"%%vishy.readKey%%",writeKey:"%%vishy.writeKey%%",protocol:"http",host:"localhost",port:8080,requestType:"xhr"};e.id(t.vishyId).readKey(t.readKey).writeKey(t.writeKey).protocol(t.protocol).host(t.host).port(t.port).requestType(t.requestType)}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.states",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("home",{url:"/",templateUrl:"partials/main.html",controller:"MainCtrl"}).state("info",{"abstract":!0,url:"/info",template:"<ui-view/>"}).state("info.overview",{url:"/overview",templateUrl:"partials/info.html",controller:"NoopCtrl"}).state("product",{"abstract":!0,url:"/product",template:"<ui-view/>"}).state("product.overview",{url:"/overview",templateUrl:"partials/product/home.html",controller:"NoopCtrl"}).state("product.pricing",{url:"/pricing",templateUrl:"partials/product/pricing.html",controller:"PricingCtrl"}).state("app",{"abstract":!0,url:"/app",template:"<ui-view/>"}).state("app.login",{url:"/login",templateUrl:"partials/login.html",controller:"NoopCtrl"})}])}(angular),function(e,t,i){"use strict";e.module("tbk.vishy-ui").directive("tbkVishyParticleGravityAnimation",["$window",function(e){var t={scope:{},template:'<div tbk-particle-gravity-animation  data-height="{{height}}" data-width="{{width}}" data-style="style" data-options="options"></div>',controller:["$scope",function(t){t.width=e.innerWidth,t.height=e.innerHeight,t.style={position:"fixed",top:0,left:0,zIndex:-1,opacity:.85};var i=Math.round(e.innerWidth*e.innerHeight/6e3),a=Math.max(50,i);t.options={backgroundColor:"#3d4a57",particleColor:"#aaa",particleCount:a,particleSize:2,minDistance:77,strokeColor:"#fff",accelerate:1/6e3}}]};return t}]).directive("tbkVishyBubblesAnimation",["$window",function(e){var t={scope:{},template:'<div tbk-bubbles-animation  data-height="{{height}}" data-width="{{width}}" data-style="style" data-options="options"></div>',controller:["$scope",function(t){t.width=e.innerWidth,t.height=e.innerHeight,t.style={position:"fixed",top:0,left:0,zIndex:-1,opacity:.85};var i=Math.max(200,.5*t.width);t.options={bubbleColor:"#3d4a57",bubbleCount:i,backgroundColor:"#f2f2f2",alphaFactor:.4,scaleFactor:2,velocityFactor:.7}}]};return t}]).directive("tbkCodePrettify",["$window",function(e){var t={scope:{lang:"@",showLinenums:"@"},compile:function(t){t.html();return function(t,i){i.addClass("prettyprint"),t.lang&&i.addClass("lang-"+t.lang),t.showLinenums&&i.addClass("linenums"),setTimeout(function(){e.prettyPrint()},1)}}};return t}]).directive("tbkHeader",function(){var e={scope:{},templateUrl:"partials/navs/header.html",controller:[function(){}]};return e}).directive("tbkGithubForkRibbon",function(){var e={scope:{repo:"@tbkGithubForkRibbon",label:"@"},template:'<div class="github-fork-ribbon-wrapper right"><div class="github-fork-ribbon"><a data-ng-href="{{href}}">{{text}}</a></div></div>',controller:["$scope",function(e){e.href="https://github.com/"+e.repo,e.text=e.label||"Fork me on GitHub"}],link:function(e,t){t.addClass("tbk-github-fork-ribbon")}};return e}).directive("tbkDefaultDemoNavigation",function(){var e={scope:{},template:'<section data-tbk-demo-navigation data-list="list"></section>',controller:["$scope",function(e){e.list=[{text:"draggable element",path:"/demos/single"},{text:"percentage time test",path:"/demos/demo-percentage-time-test"},{text:"fire callbacks",path:"/demos/demo-fire-callbacks"},{text:"track viewtime",path:"/demos/demo-track-visibility"},{text:"track sections",path:"/demos/demo-track-sections"},{text:"angular directive: vissense-monitor",path:"/demos/demo-angular-vissense-monitor"},{text:"angular directive: vissense-monitor (many instances)",path:"/demos/demo-angular-many-monitors"}]}],link:function(e,t){t.addClass("tbk-default-demo-navigation")}};return e}).directive("tbkDemoNavigation",function(){var e={scope:{list:"="},template:'<section class="styleguide__article-nav"><div class="container-medium"><nav class="article-nav"><a data-ng-click="navigate(current.path)" class="article-nav-link article-nav-link--prev"><p  class="article-nav-count">{{currentC + 1}}</p><p>{{current.text}}</p></a> <a data-ng-click="navigate(current2.path)" class="article-nav-link article-nav-link--next"><p  class="article-nav-count">{{current2C + 1}}</p><p>{{current2.text}}</p></a></nav></div></section>',controller:["$scope","$location",function(e,i){function a(){e.cursor=t.indexOf(e.list,t.findWhere(e.list,function(e){return e.path===i.path()})),e.cursor=e.cursor>0?e.cursor:0,console.log(e.cursor),e.currentC=e.cursor<=0?e.list.length-1:e.cursor-1,e.current=e.list[e.currentC],e.current2C=e.cursor<e.list.length-1?e.cursor+1:0,e.current2=e.list[e.current2C]}a(),e.navigate=function(e){i.path(e)}}],link:function(e,t){t.addClass("tbk-demo-navigation")}};return e})}(angular,_),function(e){"use strict";e.module("tbk.vishy-ui").filter("reverse",function(){return function(e){return e?e.slice().reverse():e}}).filter("range",["$log",function(e){return function(t,i){try{i=parseInt(i,10);for(var a=0;i>a;a++)t.push(a)}catch(n){e.warn("invalid input in repeat range"+i)}return t}}])}(angular),function(e,t,i,a){"use strict";i.module("tbk.vishy-ui").controller("MainCtrl",[function(){}]).controller("NoopCtrl",[function(){}]).value("Pricings",[{title:"Developer",costPerMonth:0,currencySign:"$",buttonText:"TRY NOW",linkTarget:"app.login",features:[{message:"50,000 events/month"},{message:"1 project"},{message:"Community support"}]},{title:"Startup",costPerMonth:0,currencySign:"$",buttonText:"TRY NOW",features:[{message:"100,000 events/month"},{message:"2 projects"},{message:"Mail support"},{message:"A/B Testing"}]},{title:"Enterprise",costPerMonth:0,currencySign:"$",linkTarget:"app.login",buttonText:"TRY NOW",features:[{message:"1,000,000 events/month"},{message:"10 projects"},{message:"Mail support"},{message:"A/B Testing"},{message:"Plugins"}]},{title:"Custom",priceMessage:"Negotiable",linkTarget:"app.login",buttonText:"CONTACT US",features:[{message:"Unlimited events/month"},{message:"Unlimited projects"},{message:"24/7 support"},{message:"A/B Testing"},{message:"Custom Plugins"},{message:"Custom Script Configurations"}]}]).controller("PricingCtrl",["$scope","Pricings",function(e,t){e.model={pricings:t}}])}(window,document,angular),function(e,t){"use strict";e.module("org.tbk.vishy.ui.dashboard.config",[]).value("VishyDashboardConfig",{debug:!0}).value("VishyDashboardTimeframe",{start:t().subtract(1,"months").toISOString(),end:t().toISOString()}),e.module("org.tbk.vishy.ui.dashboard.states",["ui.router"]),e.module("org.tbk.vishy.ui.dashboard.filters",[]),e.module("org.tbk.vishy.ui.dashboard.services",[]),e.module("org.tbk.vishy.ui.dashboard.directives",["org.tbk.vishy.ui.dashboard.services"]),e.module("org.tbk.vishy.ui.dashboard.controllers",["org.tbk.vishy.ui.dashboard.services","org.tbk.vishy.ui.dashboard.directives"]),e.module("org.tbk.vishy.ui.dashboard",["angular-keenio","angular-keenio-demo-directives","nvd3ChartDirectives","org.tbk.vishy.ui.dashboard.config","org.tbk.vishy.ui.dashboard.directives","org.tbk.vishy.ui.dashboard.controllers","org.tbk.vishy.ui.dashboard.services","org.tbk.vishy.ui.dashboard.states","org.tbk.vishy.ui.dashboard.filters"])}(angular,moment),function(e){"use strict";e.module("org.tbk.vishy.ui.dashboard.directives").directive("tbkVishyLanguageTable",[function(){var e={scope:{height:"@"},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"locale.display_language",timeframe:i})}],template:'<div tbk-keen-table data-query="query"  data-title="All languages" data-height="height"></div>'};return e}]).directive("tbkVishyLanguagePiechart",[function(){var e={scope:{},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"locale.display_language",timeframe:i})}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.dashboard.directives").directive("tbkVishyGeolocationTable",[function(){var e={scope:{height:"@"},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"geolocation.display_country",timeframe:i})}],template:'<div tbk-keen-table data-query="query"  data-title="All countries" data-height="height"></div>'};return e}]).directive("tbkVishyGeolocationPiechart",[function(){var e={scope:{},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"geolocation.display_country",timeframe:i})}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.dashboard.directives").directive("tbkVishyOperatingSystemTable",[function(){var e={scope:{height:"@"},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"os.groupName",timeframe:i})}],template:'<div tbk-keen-table data-query="query"  data-title="All Operating Systems" data-height="height"></div>'};return e}]).directive("tbkVishyOperatingSystemPiechart",[function(){var e={scope:{},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"os.groupName",timeframe:i})}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.dashboard.directives").directive("tbkVishyDevicePiechart",[function(){var e={scope:{},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"device.name",timeframe:i})}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.dashboard.states").config(["$stateProvider","$urlRouterProvider",function(e,t){t.when("/dashboard","/dashboard/home"),t.when("/dashboard/initial-requests","/dashboard/initial-requests/home"),t.when("/dashboard/overview","/dashboard/overview/home"),t.when("/dashboard/time-report","/dashboard/time-report/home"),t.when("/dashboard/percentage-time-test","/dashboard/percentage-time-test/home"),e.state("dashboard",{"abstract":!0,url:"/dashboard",templateUrl:"partials/modules/dashboard/home.html",controller:"DashboardCtrl"}).state("dashboard.home",{url:"/home",templateUrl:"partials/modules/dashboard/sections/home.html",controller:"HomeDashboardCtrl"}).state("dashboard.overview",{url:"/overview",templateUrl:"partials/modules/dashboard/sections/overview.html",controller:"OverviewDashboardCtrl"}).state("dashboard.overview.home",{url:"/home",templateUrl:"partials/modules/dashboard/sections/overview/home.html",controller:"OverviewHomeDashboardCtrl"}).state("dashboard.overview.language",{url:"/language",templateUrl:"partials/modules/dashboard/sections/overview/language.html",controller:"NoopDashboardCtrl"}).state("dashboard.overview.geolocation",{url:"/geolocation",templateUrl:"partials/modules/dashboard/sections/overview/geolocation.html",controller:"NoopDashboardCtrl"}).state("dashboard.overview.browser",{url:"/browser",templateUrl:"partials/modules/dashboard/sections/overview/browser.html",controller:"NoopDashboardCtrl"}).state("dashboard.overview.device",{url:"/device",templateUrl:"partials/modules/dashboard/sections/overview/device.html",controller:"NoopDashboardCtrl"}).state("dashboard.overview.operatingsystem",{url:"/operatingsystem",templateUrl:"partials/modules/dashboard/sections/overview/operatingsystem.html",controller:"NoopDashboardCtrl"}).state("dashboard.initialRequests",{url:"/initial-requests",templateUrl:"partials/modules/dashboard/sections/initial-requests.html",controller:"InitialRequestsDashboardCtrl"}).state("dashboard.initialRequests.home",{url:"/home",templateUrl:"partials/modules/dashboard/sections/initial-requests/home.html",controller:"InitialRequestsHomeDashboardCtrl"}).state("dashboard.initialRequests.percentiles",{url:"/percentiles",templateUrl:"partials/modules/dashboard/sections/initial-requests/percentiles.html",controller:"InitialRequestsPercentilesDashboardCtrl"}).state("dashboard.initialRequests.rawData",{url:"/raw-data",templateUrl:"partials/modules/dashboard/sections/initial-requests/raw-data.html",controller:"NoopDashboardCtrl"}).state("dashboard.timeReport",{url:"/time-report",templateUrl:"partials/modules/dashboard/sections/time-report.html",controller:"NoopDashboardCtrl"}).state("dashboard.timeReport.home",{url:"/home",templateUrl:"partials/modules/dashboard/sections/time-report/home.html",controller:"NoopDashboardCtrl"}).state("dashboard.timeReport.percentiles",{url:"/percentiles",templateUrl:"partials/modules/dashboard/sections/time-report/percentiles.html",controller:"NoopDashboardCtrl"}).state("dashboard.timeReport.browser",{url:"/browser",templateUrl:"partials/modules/dashboard/sections/time-report/browser.html",controller:"NoopDashboardCtrl"}).state("dashboard.timeReport.rawData",{url:"/raw-data",templateUrl:"partials/modules/dashboard/sections/time-report/raw-data.html",controller:"NoopDashboardCtrl"}).state("dashboard.percentageTimeTest",{url:"/percentage-time-test",templateUrl:"partials/modules/dashboard/sections/percentage-time-test.html",controller:"NoopDashboardCtrl"}).state("dashboard.percentageTimeTest.home",{url:"/home",templateUrl:"partials/modules/dashboard/sections/percentage-time-test/home.html",controller:"NoopDashboardCtrl"}).state("dashboard.percentageTimeTest.percentiles",{url:"/percentiles",templateUrl:"partials/modules/dashboard/sections/percentage-time-test/percentiles.html",controller:"NoopDashboardCtrl"}).state("dashboard.percentageTimeTest.rawData",{url:"/raw-data",templateUrl:"partials/modules/dashboard/sections/percentage-time-test/raw-data.html",controller:"NoopDashboardCtrl"}).state("dashboard.rawData",{url:"/raw-data",templateUrl:"partials/modules/dashboard/sections/raw-data/home.html",controller:"RawDataDashboardCtrl"})}])}(angular),function(e){e.module("org.tbk.vishy.ui.dashboard.filters")}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.dashboard.directives").directive("tbkVishyDashboardTimeframeSelect",[function(){var e={scope:{},controller:["$scope","VishyDashboardTimeframe",function(e,t){e.model=t}],template:'<div><div data-ng-click="showForm = !showForm" style="cursor: pointer">{{model.start | date }} - {{model.end | date }}</div><form data-ng-show="showForm"><div class="form-group"><label for="dashboardTimeframeStart">Start</label><input data-ng-model="model.start" type="date" class="form-control" id="dashboardTimeframeStart" placeholder=""></div><div class="form-group"><label for="dashboardTimeframeEnd">End</label><input data-ng-model="model.end" type="date" class="form-control" id="dashboardTimeframeEnd" placeholder=""></div></form><div>'};return e}]).directive("tbkDashboardLeadMetric",function(){return{restrict:"E",transclude:!0,scope:{title:"@",icon:"@",panelClass:"@"},templateUrl:"partials/modules/dashboard/partials/lead-metric.html"}}).directive("tbkVishyDefaultTable",[function(){var e={scope:{title:"@",height:"@",analysisType:"@",eventCollection:"@",groupBy:"@"},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.title=e.title||"",e.height=e.height||100,e.query=new t.Query(e.analysisType,{eventCollection:e.eventCollection,groupBy:e.groupBy,timeframe:i})}],template:'<div tbk-keen-table data-query="query"  data-title="{{title}}" data-height="{{height}}"></div>'};return e}]).directive("tbkVishyDefaultPiechart",[function(){var e={scope:{analysisType:"@",eventCollection:"@",groupBy:"@",title:"@",width:"@",height:"@"},controller:["$scope","VishyDashboardTimeframe",function(e,t){e.height=e.height||250,e.width=e.width||"auto",e.eventCollection=e.eventCollection||"visibility-initial-request",e.queryOptions={timeframe:t},e.chartOptions={chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},pieHole:.4}}],template:'<div data-tbk-keen-default-piechart  event-collection="{{eventCollection}}"  analysis-type="{{analysisType}}"  group-by="{{groupBy}}"  height="{{height}}"  width="{{width}}"  query-options="queryOptions"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishyDefaultAreachart",[function(){var e={scope:{analysisType:"@",eventCollection:"@",targetProperty:"@",groupBy:"@",interval:"@",timeframe:"@",isStacked:"@"},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.width=e.width||"auto",e.height=e.height||250,e.query=new t.Query(e.analysisType,{eventCollection:e.eventCollection,targetProperty:e.targetProperty,groupBy:e.groupBy||void 0,interval:e.interval||"daily",timeframe:i}),e.isStacked=e.isStacked||!1,e.chartOptions=e.chartOptions||{chartArea:{height:"85%",left:"5%",top:"5%",width:"80%"}},e.chartOptions.isStacked=e.isStacked}],template:'<div data-tbk-keen-areachart  query="query"  height="{{height}}"  width="{{width}}"  is-stacked="{{isStacked}}"  chart-options="chartOptions" ></div>'};return e}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.dashboard.controllers").controller("NoopDashboardCtrl",[function(){}]).controller("DashboardCtrl",["$scope",function(e){e.model={headline:"Dashboard"}}]).controller("HomeDashboardCtrl",["$scope",function(e){e.model={headline:"Home"}}]).controller("OverviewDashboardCtrl",["$scope",function(e){e.model={headline:"Overview"}}]).controller("OverviewHomeDashboardCtrl",["$scope",function(e){e.model={headline:"Home"}}]).controller("InitialRequestsDashboardCtrl",["$scope",function(e){e.model={headline:"Initial Requests"}}]).controller("InitialRequestsHomeDashboardCtrl",["$scope",function(e){e.model={headline:"Home"}}]).controller("InitialRequestsPercentilesDashboardCtrl",["$scope",function(e){e.model={headline:"Percentiles"}}]).controller("RawDataDashboardCtrl",["$scope",function(e){e.model={headline:"Raw Data"}}])}(angular),function(e,t){var i=function(){return t().toISOString()},a=t().add(1,"days").toISOString(),n=t().subtract(1,"days").toISOString(),r=t().subtract(7,"days").toISOString(),s=t().subtract(1,"months").toISOString(),o=t().subtract(1,"years").toISOString();e.module("angular-keenio-demo-directives",[]).directive("tbkVishyInitialRequestVisibilityPiechart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"state.state",timeframe:{start:s,end:a}}),e.chartOptions={chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},pieHole:.4}}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};

return e}]).directive("tbkVishyInitialBrowserPiechart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"browser.name",timeframe:{start:s,end:a}}),e.chartOptions={chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},pieHole:.4}}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishyRequestByStatePiechart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"state.state",timeframe:{start:s,end:a}}),e.chartOptions={chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},pieHole:.4}}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishyBrowserHourlyAreachart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"browser.name",interval:"hourly",timeframe:{start:n,end:i()}}),e.chartOptions={chartArea:{height:"85%",left:"5%",top:"5%",width:"80%"},isStacked:!0}}],template:'<div data-tbk-keen-areachart  query="query"  height="250"  width="auto"  is-stacked="true"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishyInitialBrowserDailyColumnchart",[function(){var e={scope:{},controller:["$scope","tbkKeen","VishyDashboardTimeframe",function(e,t,i){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"browser.name",interval:"daily",timeframe:i}),e.chartOptions={chartArea:{height:"75%",left:"10%",top:"5%",width:"60%"},isStacked:!0,groupWidth:"85%"}}],template:'<div data-tbk-keen-columnchart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishyInitialBrowserHourlyColumnchart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"browser.name",interval:"hourly",timeframe:{start:n,end:i()}}),e.chartOptions={chartArea:{height:"75%",left:"10%",top:"5%",width:"60%"},isStacked:!0,groupWidth:"85%"}}],template:'<div data-tbk-keen-columnchart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishyInitialBrowserMonthlyColumnchart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"browser.name",interval:"monthly",timeframe:{start:o,end:a}}),e.chartOptions={chartArea:{height:"75%",left:"10%",top:"5%",width:"60%"},isStacked:!0,groupWidth:"85%"}}],template:'<div data-tbk-keen-columnchart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishySessionAreachart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("count_unique",{eventCollection:"visibility-initial-request",targetProperty:"sessionId",interval:"hourly",timeframe:{start:n,end:i()}}),e.chartOptions={chartArea:{height:"85%",left:"5%",top:"5%",width:"100%"},isStacked:!0}}],template:'<div data-tbk-keen-areachart  query="query"  height="250"  width="auto"  is-stacked="true"  chart-options="chartOptions" ></div>'};return e}]).filter("vishyReadableTimeRecusiveWithMinUnitSeconds",["tbkReadableTimeRecursiveFilter",function(e){return function(t){return e(t,"second")}}]).directive("tbkVishyTimeReportVisibleRecursive",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("sum",{eventCollection:"visibility-time-report",targetProperty:"report.timeVisible",timeframe:{start:o,end:i()}})}],template:'<div tbk-keen-metric  data-filter="vishyReadableTimeRecusiveWithMinUnitSeconds"  data-query="query"></div>'};return e}]).directive("tbkVishyTimeReportVisibleSecondsSumMetric",[function(){var e={scope:{id:"@",projectId:"@"},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("sum",{eventCollection:"visibility-time-report",targetProperty:"report.timeVisible",filters:[{property_name:"vishy.projectId",operator:"eq",property_value:e.projectId},{property_name:"vishy.id",operator:"eq",property_value:e.id}],timeframe:{start:o,end:i()}})}],template:'<div tbk-keen-metric  data-filter="tbkReadableTime"  data-scale="3"  data-query="query"></div>'};return e}]).directive("tbkVishyTimeReportFullyvisibleSecondsSumMetric",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("sum",{eventCollection:"visibility-time-report",targetProperty:"report.timeFullyVisible",timeframe:{start:o,end:i()}})}],template:'<div tbk-keen-metric  data-filter="tbkReadableTime"  data-scale="3"  data-query="query"></div>'};return e}]).directive("tbkVishyTimeReportHiddenSecondsSumMetric",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("sum",{eventCollection:"visibility-time-report",targetProperty:"report.timeHidden",timeframe:{start:o,end:i()}})}],template:'<div tbk-keen-metric  data-filter="tbkReadableTime"  data-scale="3"  data-query="query"></div>'};return e}]).directive("tbkVishyInitialRequestPercentageAverageMetric",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("average",{eventCollection:"visibility-initial-request",targetProperty:"state.percentage",timeframe:{start:o,end:i()}})}],template:'<div tbk-keen-metric data-query="query"  data-postfix="%" data-scale="0" data-factor="100"></div>'};return e}]).directive("tbkVishyInitialRequestCountMetric",[function(){var e={scope:{percentile:"@"},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",timeframe:{start:o,end:i()}})}],template:'<div tbk-keen-metric data-query="query"  data-postfix="" data-scale="0" data-factor="0"></div>'};return e}]).directive("tbkVishyInitialRequestPercentagePercentileMetric",[function(){var e={scope:{percentile:"@"},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("percentile",{eventCollection:"visibility-initial-request",targetProperty:"state.percentage",percentile:e.percentile||50,timeframe:{start:o,end:i()}})}],template:'<div tbk-keen-metric data-query="query"  data-postfix="%" data-scale="0" data-factor="100"></div>'};return e}]).directive("tbkVishyInitialRequestRawDataTable",[function(){var e={scope:{},controller:["$scope",function(e){e.queryOptions={timeframe:{start:o,end:i()}}}],template:'<div tbk-keen-default-table  data-title="All requests"  data-query-options="queryOptions"  data-event-collection="visibility-initial-request" ></div>'};return e}]).directive("tbkVishyVisibilityTimeReportRawDataTable",[function(){var e={scope:{},controller:["$scope",function(e){e.queryOptions={timeframe:{start:o,end:i()}}}],template:'<div tbk-keen-default-table  data-title="All requests"  data-query-options="queryOptions"  data-event-collection="visibility-time-report" ></div>'};return e}]).directive("tbkVishyVisibilityPercentageTimeTestRawDataTable",[function(){var e={scope:{},controller:["$scope",function(e){e.queryOptions={timeframe:{start:o,end:i()}}}],template:'<div tbk-keen-default-table  data-title="All requests"  data-query-options="queryOptions"  data-event-collection="visibility-percentage-time-test" ></div>'};return e}]).directive("tbkVishyInitialDeviceDailyColumnchart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("count",{eventCollection:"visibility-initial-request",groupBy:"device.name",interval:"daily",timeframe:{start:r,end:a}}),e.chartOptions={chartArea:{height:"75%",left:"10%",top:"5%",width:"60%"},isStacked:!0,groupWidth:"85%"}}],template:'<div data-tbk-keen-columnchart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishyPercentageTimeTestPercentileMetricChart",[function(){var e={scope:{percentile:"@",timeLimit:"@",percentageLimit:"@",targetProperty:"@"},controller:["$scope",function(e){e.queryOptions={percentile:e.percentile,filters:[{property_name:"test.testConfig.timeLimit",operator:"eq",property_value:e.timeLimit},{property_name:"test.testConfig.percentageLimit",operator:"eq",property_value:e.percentageLimit}]}}],templateUrl:"partials/modules/dashboard/sections/percentage-time-test/directives/tbk-vishy-percentage-time-test-percentile-metric-chart.html"};return e}])}(angular,moment),function(e){"use strict";e.module("org.tbk.vishy.ui.showcase.config",[]).value("DashboardConfig",{debug:!0}),e.module("org.tbk.vishy.ui.showcase.states",["ui.router"]),e.module("org.tbk.vishy.ui.showcase.services",[]),e.module("org.tbk.vishy.ui.showcase.directives",["org.tbk.vishy.ui.showcase.services"]),e.module("org.tbk.vishy.ui.showcase.controllers",["org.tbk.vishy.ui.showcase.services","org.tbk.vishy.ui.showcase.directives"]),e.module("org.tbk.vishy.ui.showcase",["angular-vissense","angular-vissense.directives.debug","angular-keenio","tbk.draggable","org.tbk.vishy.ui.showcase.config","org.tbk.vishy.ui.showcase.directives","org.tbk.vishy.ui.showcase.controllers","org.tbk.vishy.ui.showcase.services","org.tbk.vishy.ui.showcase.states"])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.showcase.states").config(["$stateProvider","$urlRouterProvider",function(e,t){t.when("/showcase","/showcase/home"),e.state("showcase",{"abstract":!0,url:"/showcase",template:"<ui-view/>"}).state("showcase.home",{url:"/home",templateUrl:"partials/modules/showcase/home.html",controller:"ShowcaseCtrl"}).state("showcase.multi-element-showcase",{url:"/multi-element-showcase",templateUrl:"partials/modules/showcase/multi-element-showcase.html",controller:"ShowcaseCtrl"})}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.showcase.directives").directive("vishyShowcaseDefaultDraggableElement",[function(){var e={scope:{elementId:"@vishyShowcaseDefaultDraggableElement"},controller:["$scope",function(e){e.model={elementId:e.elementId}}],templateUrl:"partials/modules/showcase/directives/default-draggable-element.html"};return e}]).directive("tbkLoremIpsum",[function(){var e={scope:{paragraphs:"@"},controller:["$scope",function(e){}],link:function(e,t){var i=parseInt(e.paragraphs,10),a={paragraphs:i>0?i:5};e.range=[];for(var n=0;n<a.paragraphs;n++)e.range.push(n);t.addClass("tbk-lorem-ipsum")},template:'<div><p data-ng-repeat="i in range">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Curabitur sodales ligula in libero. </p></div>'};return e}])}(angular),function(e,t){"use strict";t.module("org.tbk.vishy.ui.showcase.controllers").factory("ShowcaseMonitorFactory",["$http","VisSense","tbkVishyConfig","tbkKeenClient",function(e,t,i,a){return t.Client.KeenIO(a)}]).controller("ShowcaseCtrl",["$window","$scope","$timeout","$http","VisSense","VisUtils","ShowcaseMonitorFactory",function(e,i,a,n,r,s,o){var l=90;i.model={running:!1,autoStop:l,autoStopCountdown:l,inactiveAfter:15e3,hidden:.4999,requests:[]};var c=function(){i.model.requests=[]},d=function(e,t){i.model.requests.push({name:e,data:t})},u=t.noop,p=function(){var e=a(function(){u()},1e3*i.model.autoStopCountdown),t=a(function n(){i.model.autoStopCountdown--,t=a(function(){n()},1e3)},1e3);return function(){a.cancel(e),a.cancel(t)}},h=function(a){var n=a;s.isArray(a)||(n=[a]),i.model.running=!0,i.model.autoStopCountdown=l,c();var h=[];s.forEach(n,function(e){var a=t.element("#"+e)[0],n=r.of(a,{hidden:i.model.hidden}),s=o.monitors({projectId:e}).custom(n,{interval:1e3,throttle:100,inactiveAfter:i.model.inactiveAfter});h.push(s)}),s.forEach(h,function(e){e.on("visibility-initial-request",function(e,t){console.table(t),d("visibility-initial-request",t)}),e.on("visibility-status-50/1",function(e,t){console.table(t),d("visibility-status-50/1",t)}),e.on("visibility-time-report",function(e,t){console.table(t),d("visibility-time-report",t)}),e.start()});var v=function(){var t=e.addEventListener("beforeunload",function(){u()},!0);return function(){e.removeEventListener("beforeunload",t,!0)}}(),m=p();u=function(){m(),v(),s.forEach(h,function(e){e.stop()}),i.model.running=!1}};i.start=function(e){h(e)},i.stop=function(){u()},i.$on("$destroy",function(){console.log("scope destroy"),u()})}])}(window,angular),function(e){"use strict";e.module("org.tbk.vishy.ui.report.config",[]).value("DashboardConfig",{debug:!0}),e.module("org.tbk.vishy.ui.report.states",["ui.router"]),e.module("org.tbk.vishy.ui.report.services",[]),e.module("org.tbk.vishy.ui.report.directives",["org.tbk.vishy.ui.report.services"]),e.module("org.tbk.vishy.ui.report.controllers",["org.tbk.vishy.ui.report.services","org.tbk.vishy.ui.report.directives"]),e.module("org.tbk.vishy.ui.report",["org.tbk.vishy.ui.report.config","org.tbk.vishy.ui.report.directives","org.tbk.vishy.ui.report.controllers","org.tbk.vishy.ui.report.services","org.tbk.vishy.ui.report.states"])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.report.states").config(["$stateProvider","$urlRouterProvider",function(e,t){t.when("/report","/report/home"),e.state("report",{"abstract":!0,url:"/report",template:"<ui-view/>"}).state("report.home",{url:"/home",templateUrl:"partials/modules/report/home.html",controller:"ReportCtrl"})}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.report.directives")}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.report.controllers").controller("ReportCtrl",["$scope",function(e){}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.project.config",[]).value("DashboardConfig",{debug:!0}),e.module("org.tbk.vishy.ui.project.states",["ui.router"]),e.module("org.tbk.vishy.ui.project.services",[]),e.module("org.tbk.vishy.ui.project.directives",["org.tbk.vishy.ui.project.services"]),e.module("org.tbk.vishy.ui.project.controllers",["org.tbk.vishy.ui.project.services","org.tbk.vishy.ui.project.directives"]),e.module("org.tbk.vishy.ui.project",["org.tbk.vishy.ui.project.config","org.tbk.vishy.ui.project.directives","org.tbk.vishy.ui.project.controllers","org.tbk.vishy.ui.project.services","org.tbk.vishy.ui.project.states"])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.project.states").config(["$stateProvider","$urlRouterProvider",function(e,t){t.when("/project","/project/home"),e.state("project",{"abstract":!0,url:"/project",template:"<ui-view/>"}).state("project.home",{url:"/home",templateUrl:"partials/modules/project/home.html",controller:"ProjectCtrl"})}])}(angular),function(e){"use strict";var t=function(){return moment().toISOString()},i=moment().add(1,"days").toISOString(),a=(moment().subtract(1,"days").toISOString(),moment().subtract(7,"days").toISOString(),moment().subtract(1,"months").toISOString()),n=moment().subtract(1,"years").toISOString();e.module("org.tbk.vishy.ui.project.directives").directive("tbkVishyProjectRawDataTable",[function(){var e={scope:{},controller:["$scope",function(e){e.queryOptions={targetProperty:"vishy.id",groupBy:"vishy.projectId",timeframe:{start:n,end:t()}}}],template:'<div tbk-keen-default-table  data-title="All requests"  data-query-options="queryOptions"  data-event-collection="visibility-initial-request" ></div>'};return e}]).directive("tbkVishyProjectVisibleTimeAveragePiechart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("average",{eventCollection:"visibility-time-report",groupBy:"vishy.projectId",targetProperty:"report.timeVisible",timeframe:{start:a,end:i}})}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishyProjectFullyvisibleTimeAveragePiechart",[function(){var e={scope:{},controller:["$scope","tbkKeen",function(e,t){e.query=new t.Query("average",{eventCollection:"visibility-time-report",groupBy:"vishy.projectId",targetProperty:"report.timeFullyVisible",timeframe:{start:a,end:i}})}],template:'<div data-tbk-keen-piechart  query="query"  height="250"  width="auto"  chart-options="chartOptions" ></div>'};return e}]).directive("tbkVishyProjectComparePiechart",[function(){var e={scope:{projectIds:"=",analysisType:"@",eventCollection:"@",targetProperty:"@"},controller:["$scope","tbkKeen","$timeout",function(e,t,n){var r=function(){return new t.Query(e.analysisType||"count",{eventCollection:e.eventCollection,groupBy:"vishy.projectId",targetProperty:e.targetProperty,filters:[{property_name:"vishy.projectId",operator:"in",property_value:e.projectIds||[]}],timeframe:{start:a,end:i}})};e.query=r(),e.reload=function(){e.loading=!0,e.query=r(),n(function(){e.loading=!1},0)},e.$watchCollection("projectIds",function(t){t&&t.length>1&&e.reload()})}],template:'<div>  <div data-ng-if="!loading" data-tbk-keen-piechart     query="query"     height="450"     width="auto"     chart-options="chartOptions"   ></div></div>'};return e}])}(angular),function(e){"use strict";e.module("org.tbk.vishy.ui.project.controllers").controller("ProjectCtrl",["$scope","ProjectService",function(t,i){t.model={projectIds:null,projects:null,selectedProjectIds:[]},t.toggleSelection=function(e){if(e.selected=!e.selected,e.selected)t.model.selectedProjectIds.push(e.id);else{var i=t.model.selectedProjectIds.indexOf(e.id);i>-1&&t.model.selectedProjectIds.splice(i,1)}},i.getAllProjectIds(function(a,n){if(!a){var r=n.result;t.model.projectIds=r,t.model.projects={},e.forEach(r,function(e){t.model.projects[e]={id:e}}),r.length>1&&(t.toggleSelection(t.model.projects[r[0]]),t.toggleSelection(t.model.projects[r[1]])),i.getTimeVisibleAverages(function(i,a){i||(e.forEach(a.result,function(e){var i=e["vishy.projectId"];t.model.projects[i].timeVisibleAverage=e.result}),t.$digest())}),i.getInitialPercentageAverages(function(i,a){i||(e.forEach(a.result,function(e){var i=e["vishy.projectId"];t.model.projects[i].initialPercentageAverage=e.result}),t.$digest())}),i.getInitialRequestCount(function(i,a){i||(e.forEach(a.result,function(e){var i=e["vishy.projectId"];t.model.projects[i].initialRequestCount=e.result}),t.$digest())}),i.getPassedPercentageTimeTestCount(.5,1e3,function(i,a){i||(e.forEach(a.result,function(e){var i=e["vishy.projectId"];t.model.projects[i].passedPercentageTimeTestCount=e.result}),t.$digest())}),i.getTimeFullyVisibleAverages(function(i,a){i||(e.forEach(a.result,function(e){var i=e["vishy.projectId"];t.model.projects[i].timeFullyVisibleAverage=e.result}),t.$digest())}),t.$digest()}})}]).factory("ProjectService",["tbkKeen","tbkKeenClient","tbkKeenHttpGet","tbkVishyConfig",function(e,t,i,a){var n=function(e){return e.filters=(e.filters||[]).concat([{property_name:"vishy.id",operator:"eq",property_value:a.id}]),e},r=function(i,a,r){var s=n(a),o=new e.Query(i,s);t.run(o,r)};return{getAllProjectIds:function(e){var t="/projects/<project_id>/queries/select_unique",a=n({event_collection:"visibility-initial-request",target_property:"vishy.projectId"});return i(t,a,e)},getTimeVisibleAverages:function(e){r("average",{eventCollection:"visibility-time-report",targetProperty:"report.timeVisible",groupBy:"vishy.projectId"},e)},getTimeFullyVisibleAverages:function(e){r("average",{eventCollection:"visibility-time-report",targetProperty:"report.timeFullyVisible",groupBy:"vishy.projectId"},e)},getInitialPercentageAverages:function(e){r("average",{eventCollection:"visibility-initial-request",targetProperty:"state.percentage",groupBy:"vishy.projectId"},e)},getInitialRequestCount:function(e){r("count",{eventCollection:"visibility-initial-request",targetProperty:"vishy.id",groupBy:"vishy.projectId"},e)},getPassedPercentageTimeTestCount:function(e,t,i){r("count",{eventCollection:"visibility-percentage-time-test",targetProperty:"vishy.id",groupBy:"vishy.projectId",filters:[{property_name:"test.testConfig.percentageLimit",operator:"eq",property_value:e},{property_name:"test.testConfig.timeLimit",operator:"eq",property_value:t},{property_name:"test.timeReport.timeVisible",operator:"gt",property_value:0}]},i)}}}])}(angular),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/info.html",'<div class="container"><h1><strong>Vis</strong>hy Info</h1><p class="lead">Lorem ipsum</p><p>This demo is running for <span data-tbk-readable-time-countup="" data-start="1424580315101" data-min-unit="hour" data-interval="1000"></span></p></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/launch-information.html",'<style>\n  .launch-info {\n    margin-top: 13px;\n    text-align: center;\n    font-size: 2em;\n    opacity: 0.66;\n  }\n\n  .launch-info h2 {\n    font-size: 1.8em;\n  }\n\n  ul.features li {\n    color: #333;\n    width: 230px;\n    font-size: 1em;\n    font-weight: 300;\n    padding: 10px 20px 10px 20px;\n  }\n\n  ul.features li a {\n    color: #333;\n  }\n\n  ul.features .fa {\n    display: block;\n    font-size: 2.75em;\n  }\n\n  ul.features .fa.inline-bock {\n    display: inline-block;\n  }\n</style><div class="container"><div data-tbk-vishy-bubbles-animation=""></div><div class="well launch-info"><h2><strong>Vis</strong>hy</h2><p style="margin-bottom: 33px;">launches in<br><span data-tbk-readable-time-countdown="" data-start="1440000000000" data-min-unit="second" data-interval="1000"></span></p><div><ul class="features list-inline list-unstyled"><li><i class="fa fa-users"></i> <a data-ui-sref="showcase.home">Showcase</a></li><li><i class="fa fa-tachometer"></i> <a data-ui-sref="dashboard.home">Dashboard</a></li><li><span style="display: block;"><i class="fa fa-desktop inline-bock"></i> <i class="fa fa-mobile inline-bock"></i></span> <a data-ui-sref="showcase.home">Demos</a></li><li><i class="fa fa-github"></i> <a data-ui-sref="showcase.home">Github</a></li></ul></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/login.html",'<style>\n  .form-login-container {\n    max-width: 330px;\n    padding: 15px;\n    margin: 0 auto;\n  }\n\n  .form-login-container .seperator {\n    border-top: 1px solid #d8dee4;\n    margin: 20px 0px;\n    height: 0px;\n    text-align: center;\n  }\n\n  .form-login-container .seperator span {\n    background-color: #f3f5f7;\n    position: relative;\n    top: -10px;\n    padding: 0px 5px;\n    text-transform: uppercase;\n    font-weight: bold;\n    color: #abb8c4;\n  }\n\n  .form-login-container .seperator .or:before {\n    content: "or";\n  }\n\n  .form-login .form-control {\n    position: relative;\n    height: auto;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    padding: 10px;\n    font-size: 16px;\n  }\n\n  .form-login .form-control:focus {\n    z-index: 2;\n  }\n\n  .form-login input[type="email"] {\n    margin-bottom: -1px;\n    border-bottom-right-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n\n  .form-login input[type="password"] {\n    margin-bottom: 10px;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n  }\n\n  .form-login button[type="submit"] {\n    margin-bottom: 10px;\n  }\n</style><div class="container"><div class="form-login-container well"><form action="/login/github" method="POST"><button class="btn btn-lg btn-default btn-block" type="submit"><i class="fa fa-github"></i> Login with Github</button></form><div class="seperator"><span class="or"></span></div><form class="form-login"><label for="inputEmail" class="sr-only">Email address</label> <input type="email" id="inputEmail" class="form-control input-lg" placeholder="Email address" required="" autofocus=""> <label for="inputPassword" class="sr-only">Password</label> <input type="password" id="inputPassword" class="form-control input-lg" placeholder="Password" required=""><div class="checkbox"><label><input type="checkbox" value="remember-me"> Remember me</label></div><button class="btn btn-lg btn-primary btn-block" type="submit">Login</button><ul class="list-unstyled"><li><a href="/forgot-password">Forgot your password?</a></li><li>New around here? <a href="/signup">Create an account.</a></li></ul></form></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/main.html",'<style>\n  .main-info {\n    margin-top: 13px;\n    text-align: center;\n    /*opacity: 0.9; <- this destroys the z-index: if active #myElement is not over navbar anymore. */\n  }\n\n  .main-info h2 {\n    font-size: 2.5em;\n  }\n\n  #main-showcase #myElement {\n    font-size: 1.5em;\n    border: 2px solid #333;\n    border-radius: 25px;\n    position: relative;\n    background-color: #e5e5e5;\n    cursor: pointer;\n    padding: 43px;\n    width: 300px;\n    margin: 0 auto;\n    z-index: 99999;\n    opacity: 0.77;\n  }\n\n  #main-showcase .vissense-metrics-container {\n    font-size: 10px;\n    margin: 0px;\n    position: fixed;\n    right: 42px;\n    bottom: 13px;\n    width: 500px;\n    height: 130px;\n    z-index: 99999;\n    background-color: rgba(242, 242, 242, 0.9);\n  }\n\n  #main-showcase .vissense-metrics-container .vissense-flexbox .box {\n    font-size: 12px;\n    padding: 6px;\n    width: 120px;\n    text-align: center;\n  }\n\n  .visible-xs .vissense-metrics-container,\n  .visible-sm .vissense-metrics-container {\n    margin-top: 30px;\n    z-index: 1;\n    min-width: 600px;\n\n    position: relative !important;\n    left: initial !important;\n    bottom: initial !important;\n    width: initial !important;\n    height: initial !important;\n  }\n</style><div class="container"><div data-tbk-vishy-bubbles-animation=""></div><div class="main-info" data-ng-controller="ShowcaseCtrl"><h2>This element <span data-ng-hide="model.running">will be</span> <span data-ng-show="model.running">is being</span> <strong>monitored</strong>.</h2><p style="margin-bottom: 33px;"></p><div id="main-showcase"><div id="myElement" data-tbk-draggable=""><div vishy-showcase-default-draggable-element="myElement"></div></div><div class="text-center" style="margin: 20px 0 30px 0;"><button class="btn btn-primary btn-lg" data-ng-click="start([\'myElement\']);" data-ng-hide="model.running">Start recording</button> <button class="btn btn-danger btn-lg" data-ng-click="stop();" data-ng-show="model.running">Stop recording (auto-stop in {{model.autoStopCountdown}}s)</button></div><div data-ng-if="model.running"><div class="visible-xs visible-sm" data-vissense-metrics-infocard="myElement" data-inactive-after="{{model.inactiveAfter}}" data-hidden="{{model.hidden}}"></div><div class="visible-md visible-lg" data-vissense-metrics-infocard="myElement" data-inactive-after="{{model.inactiveAfter}}" data-hidden="{{model.hidden}}"></div></div></div><p class="text-center">See the <a data-ui-sref="showcase.home">Showcase</a> for more information.</p></div><div class="row" style="background-color:#3D4A57; margin-top:69px;"><div class="col-md-12" style="text-align:center;padding-bottom:13px; height:190px;"><h2 style="text-align:center;color:white;font-weight:400;font-size:40px">See it in action!</h2><p style="text-align:center;color:white;font-weight:400;font-size:20px;">Preview and interact with our live demo get the real feel of the dashboard in action.</p><a class="btn btn-primary btn-lg" data-ui-sref="dashboard.home">Live Demo Dashboard</a></div></div><script async="">\n    (function (s, o, g, a, m) {\n      a = s.createElement(o),\n        m = s.getElementsByTagName(o)[0];\n      a.async = 1;\n      a.src = g;\n      m.parentNode.insertBefore(a, m)\n'+"    })(document, 'script', '//localhost:8080/openmrc/vishy/demo.js?elementId=myElement');\n\n    console.log('[vishy] script initialized');\n  </script></div>")}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/demos/demo_angular_many_monitors.html",'<section data-tbk-default-demo-navigation=""></section><header class="container"><h2>[Demo] Angular Directives: vissense-monitor</h2></header><style>\n  input#many-monitors-count {\n    padding: 13px;\n    min-width: 330px;\n    margin: 3px;\n    font-size: 2em;\n  }\n\n  .vissense-monitor {\n    margin: 10px;\n    padding: 10px;\n    height: 100px;\n    width: 100px;\n    float: left;\n\n    border: 1px solid #333;\n  }\n\n  .vissense-monitor-hidden {\n    background-color: red;\n  }\n\n  .vissense-monitor-visible {\n    background-color: orange;\n  }\n\n  .vissense-monitor-fullyvisible {\n    background-color: green;\n  }\n\n</style><section class="styleguide__editorial-header"><div class="editorial-header"><div class="container"><p class="editorial-header__excerpt">This pages demonstrates the dynamic observation of volatile elements. You can create and destroy monitor instances with the input form below. Take a look at the console while playing with the value and/or scrolling around.</p></div></div></section><div class="container" id="draggable-example-container" style="margin-top: 30px;"><div class="clearfix"><form><label for="many-monitors-count">Active monitors:</label> <input id="many-monitors-count" class="" type="number" data-ng-model="model.monitorCount" min="1" max="{{model.monitorCountMax}}" data-ng-max="{{model.monitorCountMax}}"></form><div class="monitor-container" data-ng-repeat="i in [] | range:model.monitorCount"><div vissense-monitor="" on-fullyvisible="model.logEvent(\'fullyvisible\')" on-visible="model.logEvent(\'visible\')" on-hidden="model.logEvent(\'hidden\')"></div></div></div><br data-ng-repeat="i in [] | range:5"><div class="container"><h3>Code</h3><section class="styleguide__editorial-header"><div class="editorial-header"><div class="container"><p class="editorial-header__excerpt">The following example is made with <a href="https://github.com/vissense/angular-vissense">angular-vissense</a> - but is also quite simple to recreate with or without any other framework.</p></div></div><h4>html</h4><pre data-tbk-code-prettify="" data-lang="html">\n&lt;form&gt;\n  &lt;label>Amount: &lt;/label&gt;\n  &lt;input type="number" data-ng-model="model.monitorCount" min="1" max="200"&gt;\n&lt;/form&gt;\n\n&lt;div class="monitor-container" data-ng-repeat="i in [] | range:model.monitorCount"&gt;\n  &lt;div vissense-monitor\n       on-fullyvisible="model.logEvent(\'fullyvisible\')"\n       on-visible="model.logEvent(\'visible\')"\n       on-hidden="model.logEvent(\'hidden\')"&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</pre><h4>controller</h4><pre data-tbk-code-prettify="">\n'+"module.controller('ManyMonitorsDemoCtrl', ['$scope','$log',\nfunction ($scope, $log) {\n  $scope.model = {\n    monitorCount: 42\n  };\n\n  $scope.model.logEvent = function(description) {\n    $log.info(description);\n  };\n}]);\n</pre></section></div></div>")}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/demos/demo_angular_vissense_monitor.html",'<section data-tbk-default-demo-navigation=""></section><header class="container"><h2>[Demo] Angular Directives Demo</h2></header><div class="container" id="draggable-example-container" style="margin-top: 30px;"><style>\n#alert-container {\n  z-index: 999;\n  position: fixed;\n  right: 10px;\n  top:10px;\n  width: 380px;\n  font-size: 0.8em;\n}\n#alert-container .alert {\n  margin: 10px;\n  padding: 3px;\n  box-shadow: 1px 1px 8px 2px rgba(0, 0, 0, 0.4);\n  background-color: rgba(242,242,242,0.9);\n}\n</style><div id="alert-container"><div class="alert" data-ng-repeat="event in model.events | reverse" data-ng-class="{ \'color--danger\': event.name == \'hidden\', \'color--green\': event.name == \'fullyvisible\', \'color--yellow\': event.name == \'visible\', \'color--highlight\': event.name == \'visibilitychange\', \'color--learning\': event.name == \'percentagechange\' }"><div><i class="fa fa-clock-o"></i> {{event.time | date:\'MMM d, y h:mm:ss.sss a\'}}</div><div>{{event.name}}</div><div>{{event.description}}</div></div></div><div id="example1" class="default-draggable-element" data-tbk-draggable="" data-vissense-monitor="" on-visibilitychange="addEvent(\'visibilitychange\', \'Element became hidden\')" on-percentagechange="addPercentageEvent(newValue, oldValue)" on-hidden="addEvent(\'hidden\', \'Element became hidden\')" on-visible="addEvent(\'visible\', \'Element became visible\')" on-fullyvisible="addEvent(\'fullyvisible\', \'Element became fully visible\')"><div tbk-default-draggable-element="example1"></div></div><div class="lorem-ipsum"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Curabitur sodales ligula in libero.</p></div><h3>Code</h3><pre data-tbk-code-prettify="" data-lang="html">\n&lt;div data-vissense-monitor\n   on-visibilitychange="addEvent(\'visibilitychange\', \'Element became hidden\')"\n   on-percentagechange="addPercentageEvent(newValue, oldValue)"\n   on-hidden="addEvent(\'hidden\', \'Element became hidden\')"\n   on-visible="addEvent(\'visible\', \'Element became visible\')"\n   on-fullyvisible="addEvent(\'fullyvisible\', \'Element became fully visible\')"&gt;\n  ...\n&lt;/div&gt;\n</pre><br data-ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13]"></div>');

}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/demos/demo_draggable_element.html",'<section data-tbk-default-demo-navigation=""></section><header class="container"><h2>[Demo] Draggable Element Demo</h2></header><section class="styleguide__editorial-header"><div class="editorial-header"><div class="container"><p class="editorial-header__excerpt g-wide--pull-1">This demo lets you drag an element around the screen to explore the main features of VisSense.js, which essentially are measuring the state of the element and the percentage of the surface area within the visible area of a viewer\'s browser window on an in focus web page.</p><p class="g-wide--pull-1">In this example the element is considered "hidden" if its surface area is less than 10% and "fullyvisibile" if it is more than 90%. See the code below.</p></div></div></section><div class="container" id="draggable-example-container"><table class="table-2" style="margin-bottom: 30px;"><colgroup><col span="1"><col span="1"></colgroup><thead><tr><th>state</th><th>percentage</th></tr></thead><tbody><tr><td><span data-vissense-state="myElement" data-fullyvisible="0.9" data-hidden="0.1"></span></td><td><span data-vissense-percentage="myElement"></span></td></tr></tbody></table><div id="myElement" class="default-draggable-element" data-tbk-draggable=""><div tbk-default-draggable-element="myElement"></div></div><h3>state()</h3><section class="styleguide__editorial-header"><div class="editorial-header"><div class="container"><p class="g-wide--pull-1">Drag the element around to see the <code>state</code> property change its value.</p></div></div></section><pre data-vissense-state-debug="myElement"></pre><h3>Code</h3><pre data-tbk-code-prettify="">\nvar element = document.getElementById(\'myElement\');\nvar visobj = VisSense(element, {\n  hidden: 0.1,\n  fullyvisible: 0.9\n});\n\nvar vismon = visobj.monitor({\n  strategy: new VisSense.VisMon.Strategy.PollingStrategy()\n}).start();\n\nvismon.state();\n  </pre><br data-ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]"></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/demos/demo_fire_callbacks.html",'<section data-tbk-default-demo-navigation=""></section><style>\n  .log-container {\n    font-size: 0.8em;\n\n    height: 400px;\n    margin-bottom: 30px;\n\n    overflow-y: scroll;\n  }\n\n  .log {\n    padding: 5px;\n    margin-bottom: 3px;\n  }\n\n</style><header class="container"><h2>[Demo] Fire Callbacks Demo</h2></header><section class="styleguide__editorial-header"><div class="editorial-header"><div class="container"><p class="editorial-header__excerpt g-wide--pull-1">This demo demonstrates the events fired during monitoring a target elements visibility.</p><p class="g-wide--pull-1">Move the element around to update the table content with triggered events. Notice the behaviour of the "visible" event - it will always be triggered when transitioning from "hidden" but it wont fire when changing from "fullyvisible" to "visible" (while instead a "visibilitychange" event will be triggered).</p></div></div></section><div class="container" id="draggable-example-container"><div class=""><div class="log-container" style="margin-top: 26px;"><table class="table-3" style="margin-top: 0;"><thead><tr><th>time</th><th>event</th><th>description</th></tr></thead><tbody><tr data-ng-repeat="event in model.events | reverse" class="log alert" data-ng-class="{ \'color--danger\': event.name == \'hidden\', \'color--green\': event.name == \'fullyvisible\', \'color--yellow\': event.name == \'visible\', \'color--highlight\': event.name == \'visibilitychange\', \'color--learning\': event.name == \'percentagechange\' }"><td class="pull-right"><i class="fa fa-clock-o"></i> {{event.time | date:\'MMM d, y h:mm:ss.sss a\'}}</td><td>{{event.name}}</td><td>{{event.description}}</td></tr></tbody></table></div><div style="margin-bottom: 20px;"><div id="example1" class="default-draggable-element" data-tbk-draggable="" data-vissense-monitor="" on-visibilitychange="addEvent(\'visibilitychange\', \'Element became hidden\')" on-percentagechange="addPercentageEvent(newValue, oldValue)" on-hidden="addEvent(\'hidden\', \'Element became hidden\')" on-visible="addEvent(\'visible\', \'Element became visible\')" on-fullyvisible="addEvent(\'fullyvisible\', \'Element became fully visible\')"><div tbk-default-draggable-element="example1"></div></div></div></div><h3>Code</h3><pre data-tbk-code-prettify="">\nvar element = document.getElementById(\'example1\');\nvar visobj = new VisSense(element);\n\nvar vismon = visobj.monitor({\n  strategy: new VisSense.VisMon.Strategy.PollingStrategy(1000),\n  fullyvisible: function() { ... },\n  hidden: function() { ... },\n  visible: function() { ... },\n  update: function() { ... },\n  percentagechange: function(newValue, oldValue) { ... },\n  visibilitychange: function() { ... }\n}).start();\n</pre><div data-ng-repeat="i in [1,2,3,4,5,6]" style="height: 100px;"></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/demos/demo_percentage_time_test.html",'<section data-tbk-default-demo-navigation=""></section><header class="container"><h2>[Demo] Percentage Time Tests</h2></header><section class="styleguide__editorial-header"><div class="editorial-header"><div class="container"><p class="editorial-header__excerpt g-wide--pull-1">Percentage time tests inform you when an element has passed a viewability test. The 60/1-Test for example is passed only if at least 60% of the elements surface area is within the visible area of a viewer\'s browser window on an in focus web page for at least one second.</p><p class="g-wide--pull-1">A percentage time test will start once the target element becomes visible the first and time and restarts if the percentage falls below the percentage limit and the test has not been passed yet.</p></div></div></section><div class="container" id="draggable-example-container"><table class="table-5" style="margin-bottom: 30px;"><colgroup><col span="1"><col span="1"><col span="1"><col span="1"><col span="1"></colgroup><thead><tr><th>percentage</th><th>50/1 Test</th><th>60/1 Test</th><th>66/3 Test *</th><th>100/10 Test **</th></tr></thead><tbody><tr><td><span data-vissense-percentage="myElement"></span></td><td><span data-vissense-fifty-one-test="myElement"></span></td><td><span data-vissense-sixty-one-test="myElement"></span></td><td><span data-vissense-percentage-time-test="myElement" data-percentage-limit="0.66" ,="" data-time-limit="3000" data-interval="100"></span></td><td><span data-vissense-percentage-time-test="myElement" data-percentage-limit="1" ,="" data-time-limit="10000" data-interval="100"></span></td></tr></tbody></table><div id="myElement" class="default-draggable-element" data-tbk-draggable=""><div tbk-default-draggable-element="myElement"></div></div><section class="styleguide__editorial-header"><div class="editorial-header"><div class="container"><p class=""><small>* 66/3 Test: At least 66% visible for 3 seconds.</small><br><small>** 100/10 Test: Fully visible for 10 seconds.</small><br></p></div></div></section><h3>Code</h3><pre data-tbk-code-prettify="">\nvar element = document.getElementById(\'myElement\');\nvar visobj = VisSense(element);\n\n// 50/1 test\nvisobj.onPercentageTimeTestPassed(function() {\n  ...\n}, {\n  percentageLimit: 0.5,\n  timeLimit: 1000,\n  interval: 100\n});\n\n// 100/10 test\nvisobj.onPercentageTimeTestPassed(function() {\n  ...\n}, {\n  percentageLimit: 1,\n  timeLimit: 10000,\n  interval: 100\n});\n</pre><br data-ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]"></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/demos/demo_track_sections.html",'<section data-tbk-default-demo-navigation=""></section><style>\n\n  .section-stats-container {\n    margin: 0px;\n    padding: 9px;\n    position: fixed;\n    left: 42px;\n    bottom: 13px;\n    width: 600px;\n    height: 140px;\n    box-shadow: 3px 3px 15px 3px rgba(0, 0, 0, 0.4);\n    z-index: 99999;\n    background-color: rgba(242,242,242,0.9);\n   }\n</style><header class="container"><h2>[Demo] Track Section Demo</h2></header><div class="section-stats-container"><ul><li><a data-ng-click="scrollToElement(\'examples-section\')">section 1</a> <span data-vissense-state="examples-section"></span></li><li><a data-ng-click="scrollToElement(\'demo-section\')">section 2</a> <span data-vissense-state="demo-section"></span></li><li><a data-ng-click="scrollToElement(\'plugins-section\')">section 3</a> <span data-vissense-state="plugins-section"></span></li></ul></div><div class=""><div class="code-sample"><div class="highlight-module highlight-module--left highlight-module--learning" id="examples-section"><div class="highlight-module__container"><div class="pull-left" style="font-size: 150px; padding: 30px;"><span class="fa fa-eye"></span></div><div class="highlight-module__content g-wide--push-1 g-wide--pull-1 g-medium--push-1"><h2 class="highlight-module__title">1 Track visibility</h2><p class="highlight-module__text">immediately know when an element becomes hidden, partly visible or fully visible.</p></div></div></div></div><div class="code-sample"><div class="highlight-module highlight-module--right highlight-module--remember" id="demo-section"><div class="highlight-module__container row"><div class="pull-right" style="font-size: 150px; padding: 30px;"><span class="fa fa-paw"></span></div><div class="highlight-module__content g-wide--push-1 g-wide--pull-1 g-medium--pull-1"><h2 class="highlight-module__title">2 Observe changes</h2><p class="highlight-module__text">react on visibility changes and execute proper actions.</p></div></div></div></div><div class="code-sample"><div class="highlight-module highlight-module--left highlight-module--learning" id="plugins-section"><div class="highlight-module__container"><div class="pull-left" style="font-size: 150px; padding: 30px;"><span class="fa fa-puzzle-piece"></span></div><div class="highlight-module__content g-wide--push-1 g-wide--pull-1 g-medium--pull-1"><h2 class="highlight-module__title">3 Create extensions</h2><p class="highlight-module__text">vissense.js can be extended. checkout existing plugins or create your own extension - it\'s supereasy.</p></div></div></div></div></div><h3>Code</h3>This examples uses jQuery to fade in the sections.<pre data-tbk-code-prettify="">\nvar startOpacityMonitor = function(elementId) {\n  var sectionElement = jQuery(\'#\' + elementId);\n  var sectionMonitor = VisSense(sectionElement[0]).monitor({\n    // update when user scrolls or resizes the page\n    strategy : VisSense.VisMon.Strategy.EventStrategy({ debounce: 100 }),\n\n    percentagechange: function(newValue, oldValue) {\n      var difference = newValue - oldValue;\n      var duration = 500 * Math.max(difference, 0.5);\n      var opacity = Math.max(newValue, 0.25);\n      sectionElement.fadeTo(duration, opacity);\n    }\n  }).start();\n\n  return function stopOpacityMonitor() {\n    sectionMonitor.stop();\n  };\n};\n\nvar stop = startOpacityMonitor(\'examples-section\');\n\n...\n\nif (/* user leaves the page, etc. */) {\n  stop();\n}\n\n\n</pre><br data-ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]">')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/demos/demo_track_visibility.html",'<section data-tbk-default-demo-navigation=""></section><header class="container"><h2>[Demo] Track Viewtime Demo</h2></header><div class="container" id="draggable-example-container" style="margin-top: 30px;"><div id="example1" class="default-draggable-element" data-tbk-draggable=""><div tbk-default-draggable-element="example1"></div></div><div data-vissense-metrics-infocard="example1"></div><div class="lorem-ipsum"><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris massa. Vestibulum lacinia arcu eget nulla. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Curabitur sodales ligula in libero.</p><p>Sed dignissim lacinia nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at dolor. Maecenas mattis. Sed convallis tristique sem. Proin ut ligula vel nunc egestas porttitor. Morbi lectus risus, iaculis vel, suscipit quis, luctus non, massa. Fusce ac turpis quis ligula lacinia aliquet. Mauris ipsum. Nulla metus metus, ullamcorper vel, tincidunt sed, euismod in, nibh.</p><p>Quisque volutpat condimentum velit. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nam nec ante. Sed lacinia, urna non tincidunt mattis, tortor neque adipiscing diam, a cursus ipsum ante quis turpis. Nulla facilisi. Ut fringilla. Suspendisse potenti. Nunc feugiat mi a tellus consequat imperdiet. Vestibulum sapien. Proin quam. Etiam ultrices.</p><p>Suspendisse in justo eu magna luctus suscipit. Sed lectus. Integer euismod lacus luctus magna. Quisque cursus, metus vitae pharetra auctor, sem massa mattis sem, at interdum magna augue eget diam. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Morbi lacinia molestie dui. Praesent blandit dolor. Sed non quam. In vel mi sit amet augue congue elementum. Morbi in ipsum sit amet pede facilisis laoreet. Donec lacus nunc, viverra nec, blandit vel, egestas et, augue. Vestibulum tincidunt malesuada tellus. Ut ultrices ultrices enim.</p><p>Curabitur sit amet mauris. Morbi in dui quis est pulvinar ullamcorper. Nulla facilisi. Integer lacinia sollicitudin massa. Cras metus. Sed aliquet risus a tortor. Integer id quam. Morbi mi. Quisque nisl felis, venenatis tristique, dignissim in, ultrices sit amet, augue. Proin sodales libero eget ante. Nulla quam. Aenean laoreet. Vestibulum nisi lectus, commodo ac, facilisis ac, ultricies eu, pede. Ut orci risus, accumsan porttitor, cursus quis, aliquet eget, justo.</p><p>Praesent blandit dolor. Sed non quam. In vel mi sit amet augue congue elementum. Morbi in ipsum sit amet pede facilisis laoreet. Donec lacus nunc, viverra nec, blandit vel, egestas et, augue. Vestibulum tincidunt malesuada tellus. Ut ultrices ultrices enim. Curabitur sit amet mauris. Morbi in dui quis est pulvinar ullamcorper. Nulla facilisi. Integer lacinia sollicitudin massa. Cras metus. Sed aliquet risus a tortor. Integer id quam.</p></div><br data-ng-repeat="i in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]"></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/navs/bottom.html",'<div class="container" style="padding-top: 13px;"><div class="footer text-muted" id="footer"><div class="row"><div class="col-md-9"><p><ul class="list-unstyled"><li><strong>Vis</strong>hy</li></ul></p></div><div class="col-md-3"><ul class="pull-right list-unstyled list-inline"><li data-ui-sref-active="active"><a data-ui-sref="info.overview">Info</a></li><li data-ui-sref-active="active"><a data-ui-sref="project.home">Projects</a></li><li data-ui-sref-active="active"><a data-ui-sref="product.overview" href="#">Product</a></li><li><i class="fa fa-code"></i> tbk</li></ul></div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/navs/header.html",'<div class="navbar navbar-inverse navbar-fixed-top" role="navigation" style=""><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" data-ui-sref="home"><strong>Vis</strong>hy<sub style="font-size: 0.6em;">alpha</sub></a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav navbar-left"><li data-ui-sref-active="active"><a data-ui-sref="showcase.home">Showcase</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.home">Demo Dashboard</a></li></ul><ul class="nav navbar-nav navbar-right"><li data-ui-sref-active="active"><a data-ui-sref="app.login">Login</a></li><li style="padding-top: 15px; padding-bottom: 15px;"><span style="color:#c2ccd1; padding: 10px 15px;"><sub>v<span data-tbk-github-version="vissense/vissense"></span></sub></span></li></ul></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/product/home.html",'<style>\n\n  .landing-content {\n    background-color: #3d4a57;\n    color: #f4f4f4;\n    font-size: 0;\n    margin: 0;\n    padding: 60px 7%;\n    text-align: center;\n  }\n\n  .landing-content .block-content {\n    margin-bottom: 33px;\n  }\n\n  .landing-content h1 {\n    margin: 3px 0 47px 0;\n  }\n\n  .landing-content .block-content .block:first-of-type,\n  .landing-content .block-content .block:last-of-type {\n    margin: 0;\n  }\n\n  .landing-content .block-content .block {\n    display: inline-block;\n    font-size: 15px;\n    margin: 0 5%;\n    width: 30%;\n  }\n\n  .landing-content .block-content .fa {\n    font-size: 51px;\n  }\n\n  .landing-content .block-content h3 {\n    font-color: #ccc;\n  }\n</style><div class="container"><h3><strong>Vis</strong>hy Product Tour</h3><div class="landing-content"><h1 class="centered">How It Works</h1><div class="block-content"><div class="block"><i class="fa fa-code"></i><h3>Extensible client</h3><p>Our client library is highly extensible and provides an easy way to monitor any interesting event.</p></div><div class="block"><i class="fa fa-database"></i><h3>Complete Control</h3><p>Our server software enhances your data and gives you full control over how and where you want to store it.</p></div><div class="block"><i class="fa fa-bar-chart"></i><h3>Track &amp; Report</h3><p>Try a few of numerous data enrichment plugins and transform data into knowledge with customizable daily reports.</p></div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/product/pricing.html",'<style>\n  .price-table {\n    background: none;\n    -webkit-border-radius: 0;\n    -moz-border-radius: 0;\n    border-radius: 0;\n    border: 4px solid #dddddd;\n    -moz-transition: all .3s ease;\n    -o-transition: all .3s ease;\n    -webkit-transition: all .3s ease;\n\n    margin-bottom: 33px;\n  }\n  .price-table:hover {\n    background: rgba(0,0,0, .03);\n    border-color: #3d4a57;\n  }\n  .price-table .price-table-heading {\n    color: #333333;\n    background: #f9f9f9;\n    padding: 10px 0;\n    margin: 0;\n  }\n  .price-table .price-table-heading .title {\n    color: #333333;\n    font-weight: 900;\n    letter-spacing: 1px;\n  }\n  .price-table > .price-table-body {\n    color: #FFFFFF;\n    background: #3d4a57;\n    padding: 50px 0 30px;\n    -moz-transition: all .3s ease;\n    -o-transition: all .3s ease;\n    -webkit-transition: all .3s ease;\n  }\n  .price-table > .price-table-body .value {\n    font-size: 33px;\n    font-weight: 300;\n    color: #FFFFFF;\n    padding: 0;\n  }\n  .price-table > .price-table-body .value small {\n    font-size: 16px;\n  }\n  .price-table > .list-group {\n    color: #333;\n    font-weight: 400;\n    margin-bottom: 0;\n  }\n  .price-table > .list-group .list-group-item {\n    color: #333;\n    font-weight: 400;\n    -webkit-border-radius: 0;\n    -moz-border-radius: 0;\n    border-radius: 0;\n  }\n  .price-table .btn {\n    -webkit-border-radius: 3px;\n    -moz-border-radius: 3px;\n    border-radius: 3px;\n    font-weight: 700;\n  }\n  .price-table-footer {\n    background: #eeeeee;\n    padding: 15px 0;\n  }\n</style><div class="container"><h3><strong>Vis</strong>hy Pricing Plans</h3><div class="row"><div class="col-xs-12 col-sm-6 col-md-3" data-ng-repeat="pricing in model.pricings"><div class="price-table text-center"><div class="price-table-heading"><h4 class="title">{{pricing.title}}</h4></div><div class="price-table-body"><p class="value" data-ng-show="pricing.costPerMonth > -1">{{pricing.currencySign}}{{pricing.costPerMonth | number:0}}<small>/month</small></p><p class="value" data-ng-show="pricing.priceMessage">{{ pricing.priceMessage }}</p></div><ul class="list-group"><li class="list-group-item" data-ng-repeat="feature in pricing.features"><i class="fa fa-check"></i> {{ feature.message }}</li></ul><div class="price-table-footer"><a class="btn btn-lg btn-success" data-ui-sref="{{pricing.linkTarget}}">{{pricing.buttonText}}</a></div></div><div class="col-xs-12 col-sm-12" style="margin-bottom:20px;"></div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/home.html",'<div class="container-fluid"><style>\n    .module-dashboard-top-navigation {\n      padding-bottom: 13px;\n    }\n  </style><div class="module-dashboard-top-navigation"><div class="pull-right" tbk-vishy-dashboard-timeframe-select=""></div><ul class="nav nav-tabs"><li data-ui-sref-active="active"><a data-ui-sref="dashboard.home">Home</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.overview">Overview</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.initialRequests">Initial Requests</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.percentageTimeTest">Status Requests</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.timeReport">Summary Requests</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.rawData">Raw Data</a></li></ul></div><ui-view></ui-view></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/project/home.html",'<div class="container"><h3><strong>Vis</strong>hy Projects</h3><p class="lead">Lorem ipsum</p><div class="row"><div class="col-sm-12"><div class="panel panel-default"><div class="panel-heading">Projects <span data-ng-show="model.projectIds == null"><i class="fa fa-circle-o-notch fa-spin"></i></span></div><table class="table table-hover table-striped table-condensed" data-ng-show="model.projectIds.length > 0"><thead><tr><th></th><th>Project</th><th>Percentage Visible</th><th>Time Visible</th><th>Time Fully Visible</th><th>Average Initial Percentage</th><th></th></tr></thead><tbody><tr data-ng-repeat="project in model.projects"><td data-ng-click="toggleSelection(project)"><button class="btn btn-large"><i class="fa fa-check-square" data-ng-show="project.selected"></i> <i class="fa fa-square-o" data-ng-hide="project.selected"></i></button></td><td>{{ project.id }}</td><td><span data-ng-bind="project.passedPercentageTimeTestCount / project.initialRequestCount * 100 | number: 1"></span></td><td><span data-ng-bind="project.timeVisibleAverage / 1000 | number: 1"></span></td><td><span data-ng-bind="project.timeFullyVisibleAverage / 1000 | number: 1"></span></td><td><span data-ng-bind="project.initialPercentageAverage * 100 | number: 1"></span></td><td><ul class="list-unstyled list-inline"><li><a data-ui-sref="dashboard.home">Dashboard</a></li><li><a data-ui-sref="report.home">Report</a></li></ul></td></tr></tbody></table><div class="panel-footer"><div class="alert alert-info" data-ng-show="model.projectIds.length == 0">No projects found.</div></div></div></div></div><div class="row" data-ng-if="model.selectedProjectIds.length > 1"><div class="col-sm-6"><div class="panel panel-default"><div class="panel-heading">Visible Time <small class="text-muted">Average</small></div><div tbk-vishy-project-compare-piechart="" data-analysis-type="average" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-project-ids="model.selectedProjectIds"></div></div></div><div class="col-sm-6"><div class="panel panel-default"><div class="panel-heading">Fullyvisible Time <small class="text-muted">Average</small></div><div tbk-vishy-project-compare-piechart="" data-analysis-type="average" data-event-collection="visibility-time-report" data-target-property="report.timeFullyVisible" data-project-ids="model.selectedProjectIds"></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/report/home.html",'<div class="container"><h3><strong>Vis</strong>hy Report</h3><p class="lead">Lorem ipsum</p></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/showcase/home.html",'<style>\n  #myElement {\n    border: 2px solid #333;\n    border-radius: 25px;\n    position: relative;\n    background-color: #e5e5e5;\n    cursor: pointer;\n    padding: 40px;\n    width: 300px;\n    margin: 0 auto;\n    z-index: 9999;\n  }\n\n  #vishy-showcase .vissense-metrics-container {\n    font-size: 10px;\n    margin: 0px;\n    position: fixed;\n    right: 42px;\n    bottom: 13px;\n    width: 500px;\n    height: 130px;\n    z-index: 99999;\n    background-color: rgba(242, 242, 242, 0.9);\n  }\n\n  #vishy-showcase .vissense-metrics-container .vissense-flexbox .box {\n    font-size: 12px;\n    padding: 6px;\n    width: 120px;\n    text-align: center;\n  }\n\n  .visible-xs .vissense-metrics-container,\n  .visible-sm .vissense-metrics-container {\n    margin-top: 30px;\n    z-index: 1;\n    min-width: 600px;\n\n    position: relative !important;\n    left: initial !important;\n    bottom: initial !important;\n    width: initial !important;\n    height: initial !important;\n  }\n</style><div id="vishy-showcase" class="container"><h3><strong>Vis</strong>hy Showcase</h3><p class="lead">When the button is pressed all visibility events of an element will be monitored and recorded. Element are considered visible if more than {{model.hidden * 100 | number:1}}% of their surface area is in the viewable portion of a users browser. Elements are considered hidden when a user is idle for {{model.inactiveAfter / 1000 | number:0}} seconds. Recording will stop after {{model.autoStop}} seconds.</p><p>Navigate to the <a data-ui-sref="showcase.multi-element-showcase">multiple element showcase</a> to see more than one element monitored concurrently.</p><div style="text-align: center; margin: 20px 0 30px 0;"><button class="btn btn-primary btn-lg" data-ng-click="start([\'myElement\']);" data-ng-hide="model.running">Start recording</button> <button class="btn btn-danger btn-lg" data-ng-click="stop();" data-ng-show="model.running">Stop recording (auto-stop in {{model.autoStopCountdown}}s)</button></div><div id="myElement" data-tbk-draggable=""><div vishy-showcase-default-draggable-element="myElement"></div></div><div data-ng-if="model.running"><div class="visible-xs visible-sm" data-vissense-metrics-infocard="myElement" data-inactive-after="{{model.inactiveAfter}}" data-hidden="{{model.hidden}}"></div><div class="visible-md visible-lg" data-vissense-metrics-infocard="myElement" data-inactive-after="{{model.inactiveAfter}}" data-hidden="{{model.hidden}}"></div></div><div style="margin-top: 30px;"><table class="table table-bordered table-striped"><colgroup><col span="1"><col span="1"><col span="1"><col span="1"><col span="1"></colgroup><thead><tr><th>percentage</th><th>50/1 Test</th><th>60/1 Test</th><th>66/3 Test *</th><th>100/10 Test **</th></tr></thead><tbody><tr data-ng-if="!model.running"><td><span data-vissense-percentage="myElement"></span></td><td colspan="100"><div class="alert alert-info">Visibility Percentage Time Tests will immediately start when recording.</div></td></tr><tr data-ng-if="model.running"><td><span data-vissense-percentage="myElement"></span></td><td><span data-vissense-fifty-one-test="myElement"></span></td><td><span data-vissense-sixty-one-test="myElement"></span></td><td><span data-vissense-percentage-time-test="myElement" data-percentage-limit="0.66" data-time-limit="3000" data-interval="100"></span></td><td><span data-vissense-percentage-time-test="myElement" data-percentage-limit="1" data-time-limit="10000" data-interval="100"></span></td></tr></tbody></table><p class=""><small>* 66/3 Test: At least 66% visible for 3 seconds.</small><br><small>** 100/10 Test: Fully visible for 10 seconds.</small><br></p></div><div class="row"><div class="col-lg-4 col-md-6 col-sm-12" data-ng-repeat="request in model.requests"><h4>{{request.name}}</h4><pre style="font-size: 11px;">{{ request.data | json }}</pre></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/showcase/multi-element-showcase.html",'<style>\n  #element-728x90, #element-300x250, #element-160x600, #element-160x150 {\n    border: 2px solid #333;\n    border-radius: 25px;\n    position: relative;\n    background-color: #e5e5e5;\n    margin: 0 auto;\n    z-index: 9999;\n    padding: 10px;\n  }\n\n  #element-728x90 {\n    width: 728px;\n    height: 90px;\n  }\n\n  #element-300x250 {\n    width: 300px;\n    height: 250px;\n  }\n\n  #element-160x600 {\n    width: 160px;\n    height: 600px;\n  }\n\n  #element-160x150 {\n    width: 160px;\n    height: 150px;\n  }\n\n  #vishy-showcase .vissense-metrics-container {\n    font-size: 10px;\n    z-index: 99999;\n    background-color: rgba(242, 242, 242, 0.9);\n\n    margin-top: 30px;\n\n    min-width: 600px;\n\n    position: relative !important;\n    left: initial !important;\n    bottom: initial !important;\n    width: initial !important;\n    height: initial !important;\n  }\n\n  #vishy-showcase .vissense-metrics-container .vissense-flexbox .box {\n    font-size: 12px;\n    padding: 6px;\n    width: 120px;\n    text-align: center;\n  }\n\n  .visible-xs .vissense-metrics-container,\n  .visible-sm .vissense-metrics-container {\n    position: relative !important;\n    box-shadow: 1px 1px 1px 2px rgba(99, 99, 99, 0.4) !important;\n    margin-top: 30px;\n    z-index: 1;\n    min-width: 600px;\n  }\n</style><div id="vishy-showcase" class="container"><h3><strong>Vis</strong>hy Showcase <small class="text-muted">Multiple Elementes</small></h3><p class="lead">When the button is pressed all visibility events of an element will be monitored and recorded. Element are considered visible if more than {{model.hidden * 100 | number:1}}% of their surface area is in the viewable portion of a users browser. Elements are considered hidden when a user is idle for {{model.inactiveAfter / 1000 | number:0}} seconds. Recording will stop after {{model.autoStop}} seconds.</p><div style="text-align: center; margin: 20px 0 30px 0;"><button class="btn btn-primary btn-lg" data-ng-click="start([\'element-728x90\', \'element-160x600\', \'element-160x150\', \'element-300x250\']);" data-ng-hide="model.running">Start recording</button> <button class="btn btn-danger btn-lg" data-ng-click="stop();" data-ng-show="model.running">Stop recording (auto-stop in {{model.autoStopCountdown}}s)</button></div><div class="row"><div class="col-md-12"><p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.</p><div id="element-728x90"><span><strong>728x90</strong> <small class="text-muted" data-vissense-percentage="element-728x90"></small></span></div><div data-ng-if="model.running"><div data-vissense-metrics-infocard="element-728x90" data-inactive-after="{{model.inactiveAfter}}" data-hidden="{{model.hidden}}"></div></div><div style="margin-top: 30px;"><table class="table table-bordered table-striped"><colgroup><col span="1"><col span="1"><col span="1"><col span="1"><col span="1"></colgroup><thead><tr><th>percentage</th><th>50/1 Test</th><th>60/1 Test</th><th>66/3 Test *</th><th>100/10 Test **</th></tr></thead><tbody><tr data-ng-if="!model.running"><td><span data-vissense-percentage="element-728x90"></span></td><td colspan="100"><div class="alert alert-info">Visibility Percentage Time Tests will immediately start when recording.</div></td></tr><tr data-ng-if="model.running"><td><span data-vissense-percentage="element-728x90"></span></td><td><span data-vissense-fifty-one-test="element-728x90"></span></td><td><span data-vissense-sixty-one-test="element-728x90"></span></td><td><span data-vissense-percentage-time-test="element-728x90" data-percentage-limit="0.66" data-time-limit="3000" data-interval="100"></span></td><td><span data-vissense-percentage-time-test="element-728x90" data-percentage-limit="1" data-time-limit="10000" data-interval="100"></span></td></tr></tbody></table></div></div></div><div class="row"><div class="col-sm-5 col-md-3"><div id="element-160x600"><span><strong>160x600</strong> <small class="text-muted" data-vissense-percentage="element-160x600"></small></span></div></div><div class="col-sm-7 col-md-9"><p class="hidden-xs hidden-sm">Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.</p><p>Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi.</p><div class="row"><div class="col-sm-6 col-md-9"><p class="hidden-xs hidden-sm">Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat.</p><p>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat nulla facilisis.</p></div><div class="col-sm-6 col-md-3"><div id="element-160x150"><span><strong>160x150</strong> <small class="text-muted" data-vissense-percentage="element-160x150"></small></span></div></div></div><div class="row"><div class="col-md-12"><div data-ng-if="model.running"><div data-vissense-metrics-infocard="element-160x150" data-inactive-after="{{model.inactiveAfter}}" data-hidden="{{model.hidden}}"></div></div><div style="margin-top: 30px;"><table class="table table-bordered table-striped"><colgroup><col span="1"><col span="1"><col span="1"><col span="1"><col span="1"></colgroup><thead><tr><th>percentage</th><th>50/1 Test</th><th>60/1 Test</th><th>66/3 Test *</th><th>100/10 Test **</th></tr></thead><tbody><tr data-ng-if="!model.running"><td><span data-vissense-percentage="element-160x150"></span></td><td colspan="100"><div class="alert alert-info">Visibility Percentage Time Tests will immediately start when recording.</div></td></tr><tr data-ng-if="model.running"><td><span data-vissense-percentage="element-160x150"></span></td><td><span data-vissense-fifty-one-test="element-160x150"></span></td><td><span data-vissense-sixty-one-test="element-160x150"></span></td><td><span data-vissense-percentage-time-test="element-160x150" data-percentage-limit="0.66" data-time-limit="3000" data-interval="100"></span></td><td><span data-vissense-percentage-time-test="element-160x150" data-percentage-limit="1" data-time-limit="10000" data-interval="100"></span></td></tr></tbody></table></div></div></div><p>Consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.</p><p class="hidden-xs hidden-sm">Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus.</p></div></div><div class="row"><div class="col-md-12"><div data-ng-if="model.running"><div data-vissense-metrics-infocard="element-160x600" data-inactive-after="{{model.inactiveAfter}}" data-hidden="{{model.hidden}}"></div></div><div style="margin-top: 30px;"><table class="table table-bordered table-striped"><colgroup><col span="1"><col span="1"><col span="1"><col span="1"><col span="1"></colgroup><thead><tr><th>percentage</th><th>50/1 Test</th><th>60/1 Test</th><th>66/3 Test *</th><th>100/10 Test **</th></tr></thead><tbody><tr data-ng-if="!model.running"><td><span data-vissense-percentage="element-160x600"></span></td><td colspan="100"><div class="alert alert-info">Visibility Percentage Time Tests will immediately start when recording.</div></td></tr><tr data-ng-if="model.running"><td><span data-vissense-percentage="element-160x600"></span></td><td><span data-vissense-fifty-one-test="element-160x600"></span></td><td><span data-vissense-sixty-one-test="element-160x600"></span></td><td><span data-vissense-percentage-time-test="element-160x600" data-percentage-limit="0.66" data-time-limit="3000" data-interval="100"></span></td><td><span data-vissense-percentage-time-test="element-160x600" data-percentage-limit="1" data-time-limit="10000" data-interval="100"></span></td></tr></tbody></table></div></div></div><div class="row"><div class="col-sm-5 col-md-8"><p class="hidden-xs hidden-sm">At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, At accusam aliquyam diam diam dolore dolores duo eirmod eos erat, et nonumy sed tempor et et invidunt justo labore Stet clita ea et gubergren, kasd magna no rebum. sanctus sea sed takimata ut vero voluptua.</p><p>Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat.</p></div><div class="col-sm-7 col-md-4"><div id="element-300x250"><span><strong>300x250</strong> <small class="text-muted" data-vissense-percentage="element-300x250"></small></span></div></div></div><div class="row"><div class="col-md-12"><div data-ng-if="model.running"><div data-vissense-metrics-infocard="element-300x250" data-inactive-after="{{model.inactiveAfter}}" data-hidden="{{model.hidden}}"></div></div><div style="margin-top: 30px;"><table class="table table-bordered table-striped"><colgroup><col span="1"><col span="1"><col span="1"><col span="1"><col span="1"></colgroup><thead><tr><th>percentage</th><th>50/1 Test</th><th>60/1 Test</th><th>66/3 Test *</th><th>100/10 Test **</th></tr></thead><tbody><tr data-ng-if="!model.running"><td><span data-vissense-percentage="element-300x250"></span></td><td colspan="100"><div class="alert alert-info">Visibility Percentage Time Tests will immediately start when recording.</div></td></tr><tr data-ng-if="model.running"><td><span data-vissense-percentage="element-300x250"></span></td><td><span data-vissense-fifty-one-test="element-300x250"></span></td><td><span data-vissense-sixty-one-test="element-300x250"></span></td><td><span data-vissense-percentage-time-test="element-300x250" data-percentage-limit="0.66" data-time-limit="3000" data-interval="100"></span></td><td><span data-vissense-percentage-time-test="element-300x250" data-percentage-limit="1" data-time-limit="10000" data-interval="100"></span></td></tr></tbody></table></div></div></div><div class="row"><div class="col-md-12"><p class=""><small>* 66/3 Test: At least 66% visible for 3 seconds.</small><br><small>** 100/10 Test: Fully visible for 10 seconds.</small><br></p></div></div></div>');

}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/partials/lead-metric.html",'<div class="panel {{panelClass}}"><div class="panel-heading"><div class="row"><div class="col-xs-3"><i class="fa {{icon}} fa-5x"></i></div><div class="col-xs-9 text-right"><div data-ng-transclude=""></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/home.html",'<div class="row"><div class="col-lg-3 col-md-6"><a data-ui-sref="dashboard.initialRequests.percentiles"><tbk-dashboard-lead-metric data-panel-class="panel-primary" data-icon="fa-tachometer"><div class="huge"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="50">Here should be a metric.</div></div><div>Initial Percentage Median</div></tbk-dashboard-lead-metric></a></div><div class="col-lg-3 col-md-6"><a data-ui-sref="dashboard.percentageTimeTest.percentiles"><tbk-dashboard-lead-metric data-panel-class="panel-green" data-icon="fa-eye"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-percentage-time-test" data-query-options="{ filters: [{ \'property_name\': \'test.testConfig.timeLimit\', \'operator\': \'eq\', \'property_value\': 1000 }, { \'property_name\': \'test.testConfig.percentageLimit\', \'operator\': \'eq\', \'property_value\': 0.5 }] }">XXX</div></div><div>Passed 50/1 Tests</div></tbk-dashboard-lead-metric></a></div><div class="col-lg-3 col-md-6"><a data-ui-sref="dashboard.timeReport.percentiles"><tbk-dashboard-lead-metric data-panel-class="panel-yellow" data-icon="fa-clock-o"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="median" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-postfix="s" data-factor="0.001" data-scale="1">XXX</div></div><div>Median Time Visible</div></tbk-dashboard-lead-metric></a></div><div class="col-lg-3 col-md-6"><a data-ui-sref="dashboard.timeReport"><tbk-dashboard-lead-metric data-panel-class="panel-red" data-icon="fa-clock-o"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="median" data-event-collection="visibility-time-report" data-target-property="report.timeFullyVisible" data-postfix="s" data-factor="0.001" data-scale="1">XXX</div></div><div>Median Time Fully Visible</div></tbk-dashboard-lead-metric></a></div></div><div class="row"><div class="col-md-4"><a data-ui-sref="dashboard.overview.device"><tbk-dashboard-lead-metric data-panel-class="panel-primary" data-icon="fa-mobile"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'device.mobile\', \'operator\': \'eq\', \'property_value\': true }] }">XXX</div></div><div>Mobile</div></tbk-dashboard-lead-metric></a></div><div class="col-md-4"><a data-ui-sref="dashboard.overview.device"><tbk-dashboard-lead-metric data-panel-class="panel-green" data-icon="fa-tablet"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'device.tablet\', \'operator\': \'eq\', \'property_value\': true }] }">XXX</div></div><div>Tablet</div></tbk-dashboard-lead-metric></a></div><div class="col-md-4"><a data-ui-sref="dashboard.overview.device"><tbk-dashboard-lead-metric data-panel-class="panel-yellow" data-icon="fa-desktop"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'device.normal\', \'operator\': \'eq\', \'property_value\': true }] }">XXX</div></div><div>Desktop</div></tbk-dashboard-lead-metric></a></div></div><div class="row"><div class="col-md-8"><div class="chart-wrapper"><div class="chart-title">Requests by Visibility State (absolute)</div><div class="chart-stage"><div tbk-vishy-default-areachart="" analysis-type="count" event-collection="visibility-initial-request" is-stacked="false" group-by="state.state">Here should be a chart.</div></div><div class="chart-notes"></div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Requests by Visibility State (relative)</div><div class="chart-stage"><div tbk-vishy-request-by-state-piechart="">Here should be a chart.</div></div><div class="chart-notes">Notes go down here</div></div></div><div class="col-md-12"><div class="chart-wrapper"><div class="chart-title">Average Visible Time (in milliseconds)</div><div class="chart-stage"><div tbk-vishy-default-areachart="" analysis-type="average" event-collection="visibility-time-report" target-property="report.timeVisible">Here should be a chart.</div></div><div class="chart-notes"></div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/initial-requests.html",'<div class="row"><div class="col-sm-3"><h4>Initial Requests</h4><ul class="nav nav-pills nav-stacked"><li data-ui-sref-active="active"><a data-ui-sref="dashboard.initialRequests.home"><i class="fa fa-fw fa-line-chart"></i> Overview</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.initialRequests.percentiles"><i class="fa fa-fw fa-bar-chart-o"></i> Percentiles</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.initialRequests.rawData"><i class="fa fa-fw fa-database"></i> Raw Data</a></li></ul></div><div class="col-sm-9"><ui-view></ui-view></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/overview.html",'<div class="row"><div class="col-sm-3"><h4>Overview</h4><ul class="nav nav-pills nav-stacked"><li data-ui-sref-active="active"><a data-ui-sref="dashboard.overview.home"><i class="fa fa-fw fa-line-chart"></i> Overview</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.overview.geolocation"><i class="fa fa-fw fa-map-marker"></i> Geolocation</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.overview.device"><i class="fa fa-fw fa-desktop"></i> Device</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.overview.browser"><i class="fa fa-fw fa-user-secret"></i> Browser</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.overview.operatingsystem"><i class="fa fa-fw fa-windows"></i> Operating System</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.overview.language"><i class="fa fa-fw fa-language"></i> Language</a></li></ul></div><div class="col-sm-9"><ui-view></ui-view></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/percentage-time-test.html",'<div class="row"><div class="col-sm-3"><h4>Percentage Time Tests</h4><ul class="nav nav-pills nav-stacked"><li data-ui-sref-active="active"><a data-ui-sref="dashboard.percentageTimeTest.home"><i class="fa fa-fw fa-line-chart"></i> Overview</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.percentageTimeTest.percentiles"><i class="fa fa-fw fa-bar-chart-o"></i> Percentiles</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.percentageTimeTest.rawData"><i class="fa fa-fw fa-database"></i> Raw Data</a></li></ul></div><div class="col-sm-9"><ui-view></ui-view></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/time-report.html",'<div class="row"><div class="col-sm-3"><h4>Time Reports</h4><ul class="nav nav-pills nav-stacked"><li data-ui-sref-active="active"><a data-ui-sref="dashboard.timeReport.home"><i class="fa fa-fw fa-line-chart"></i> Overview</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.timeReport.percentiles"><i class="fa fa-fw fa-bar-chart-o"></i> Percentiles</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.timeReport.browser"><i class="fa fa-fw fa-pie-chart"></i> Browser</a></li><li data-ui-sref-active="active"><a data-ui-sref="dashboard.timeReport.rawData"><i class="fa fa-fw fa-database"></i> Raw Data</a></li></ul></div><div class="col-sm-9"><ui-view></ui-view></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/showcase/directives/default-draggable-element.html",'<div style="text-align: center"><i class="fa fa-fw fa-bullseye fa-lg"></i><br><span>Drag me!</span><br><span data-vissense-percentage="{{ elementId }}"></span></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/initial-requests/home.html",'<div class="row"><div class="col-sm-4"><tbk-dashboard-lead-metric data-panel-class="panel-primary" data-icon="fa-users"><div class="huge"><div tbk-vishy-initial-request-count-metric="">Here should be a metric.</div></div><div>Initial Request Count</div></tbk-dashboard-lead-metric></div><div class="col-sm-4"><tbk-dashboard-lead-metric data-panel-class="panel-green" data-icon="fa-line-chart"><div class="huge"><div tbk-vishy-initial-request-percentage-average-metric="">Here should be a metric.</div></div><div>Percentage Average</div></tbk-dashboard-lead-metric></div><div class="col-sm-4"><tbk-dashboard-lead-metric data-panel-class="panel-red" data-icon="fa-tachometer"><div class="huge"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="50">Here should be a metric.</div></div><div>Percentage Median</div></tbk-dashboard-lead-metric></div></div><div class="row"><div class="col-md-8"><div class="chart-wrapper"><div class="chart-title">Requests by Visibility State (absolute)</div><div class="chart-stage"><div tbk-vishy-default-areachart="" analysis-type="count" event-collection="visibility-initial-request" is-stacked="false" group-by="state.state">Here should be a chart.</div></div><div class="chart-notes"></div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Initial Requests by Visibility State (relative)</div><div class="chart-stage"><div tbk-vishy-initial-request-visibility-piechart="">Here should be a chart.</div></div><div class="chart-notes">Tells the visibility state in which your element had been when recording began.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/initial-requests/percentiles.html",'<div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 99% Percentile</div><div class="chart-stage"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="99">Here should be a metric.</div></div><div class="chart-notes">This means that 1% of the time your element had a an initial visibility equal to or greather than <span tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="99"></span>.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 95% Percentile</div><div class="chart-stage"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="95">Here should be a metric.</div></div><div class="chart-notes">This means that 5% of the time your element had a an initial visibility equal to or greather than <span tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="95"></span>.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 90% Percentile</div><div class="chart-stage"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="90">Here should be a metric.</div></div><div class="chart-notes">This means that 10% of the time your element had a an initial visibility equal to or greather than <span tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="90"></span>.</div></div></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 75% Percentile</div><div class="chart-stage"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="75">Here should be a metric.</div></div><div class="chart-notes">This means that 25% of the time your element had a an initial visibility equal to or greather than <span tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="75"></span>.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 66% Percentile</div><div class="chart-stage"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="66">Here should be a metric.</div></div><div class="chart-notes">This means that 33% of the time your element had a an initial visibility equal to or greather than <span tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="66"></span>.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 50% Percentile</div><div class="chart-stage"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="50">Here should be a metric.</div></div><div class="chart-notes">This means that 50% of the time your element had a an initial visibility equal to or greather than <span tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="50"></span>.</div></div></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 33% Percentile</div><div class="chart-stage"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="33">Here should be a metric.</div></div><div class="chart-notes">This means that 66% of the time your element had a an initial visibility equal to or greather than <span tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="33"></span>.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 25% Percentile</div><div class="chart-stage"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="25">Here should be a metric.</div></div><div class="chart-notes">This means that 75% of the time your element had a an initial visibility equal to or greather than <span tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="25"></span>.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 10% Percentile</div><div class="chart-stage"><div tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="10">Here should be a metric.</div></div><div class="chart-notes">This means that 90% of the time your element had a an initial visibility equal to or greather than <span tbk-vishy-initial-request-percentage-percentile-metric="" data-percentile="10"></span>.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/initial-requests/raw-data.html",'<div class="row"><div class="col-sm-12"><div class="chart-wrapper"><div class="chart-title">Raw Data</div><div class="chart-stage"><div><div tbk-vishy-initial-request-raw-data-table=""></div></div></div><div class="chart-notes">This is the raw data of received visibility events. All data for visualisation is taken from this data source.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/overview/browser.html",'<div class="row"><div class="col-sm-8"><div class="chart-wrapper"><div class="chart-title">Requests by Browser (hourly)</div><div class="chart-stage"><div tbk-vishy-browser-hourly-areachart="">Here should be an areachart.</div></div><div class="chart-notes">This is a sample text region to describe this chart.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Requests by Browser</div><div class="chart-stage"><div tbk-vishy-default-piechart="" data-group-by="browser.name">Here should be a chart.</div></div><div class="chart-notes">Notes go down here</div></div></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Initial Requests by Browser (monthly)</div><div class="chart-stage"><div tbk-vishy-initial-browser-monthly-columnchart="">Here should be a chart.</div></div><div class="chart-notes">Notes go down here</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Initial Requests by Browser (daily)</div><div class="chart-stage"><div tbk-vishy-initial-browser-daily-columnchart="">Here should be a chart.</div></div><div class="chart-notes">Notes go down here</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Initial Requests by Browser (hourly)</div><div class="chart-stage"><div tbk-vishy-initial-browser-hourly-columnchart="">Here should be a chart.</div></div><div class="chart-notes">Notes go down here</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/overview/device.html",'<div class="row"><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-primary" data-icon="fa-mobile"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'device.mobile\', \'operator\': \'eq\', \'property_value\': true }] }">XXX</div></div><div>Mobile</div></tbk-dashboard-lead-metric></div><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-green" data-icon="fa-tablet"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'device.tablet\', \'operator\': \'eq\', \'property_value\': true }] }">XXX</div></div><div>Tablet</div></tbk-dashboard-lead-metric></div><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-yellow" data-icon="fa-desktop"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'device.normal\', \'operator\': \'eq\', \'property_value\': true }] }">XXX</div></div><div>Desktop</div></tbk-dashboard-lead-metric></div></div><div class="row"><div class="col-md-4"><div class="chart-wrapper"><div class="chart-title">Initial Requests by Device</div><div class="chart-stage"><div tbk-vishy-device-piechart="">Here should be a chart.</div></div><div class="chart-notes">Tells the visibility state in which your element had been when recording began.</div></div></div><div class="col-md-8"><div class="chart-wrapper"><div class="chart-title">Initial Requests by Device (daily)</div><div class="chart-stage"><div tbk-vishy-initial-device-daily-columnchart="">Here should be a chart.</div></div><div class="chart-notes">Tells the visibility state in which your element had been when recording began.</div></div></div><div class="col-md-12"><div class="chart-wrapper"><div class="chart-title">Device Table</div><div class="chart-stage"><div tbk-vishy-default-table="" data-title="Device Table" data-analysis-type="count" data-event-collection="visibility-initial-request" data-group-by="device.name">Here should be a chart.</div></div><div class="chart-notes"></div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/overview/geolocation.html",'<div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Geolocation (absolute)</div><div class="chart-stage"><div><div tbk-vishy-geolocation-table="" style="min-height: 100px"></div></div></div><div class="chart-notes">Absolute count of requests grouped by locale settings.</div></div></div><div class="col-sm-8"><div class="chart-wrapper"><div class="chart-title">Geolocation (relative)</div><div class="chart-stage"><div tbk-vishy-geolocation-piechart="">Here should be a chart.</div></div><div class="chart-notes">Relative count of requests grouped by locale settings.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/overview/home.html",'<div class="row"><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-primary" data-icon="fa-users"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count_unique" data-target-property="sessionId" data-event-collection="visibility-initial-request">Here should be a metric.</div></div><div>Sessions</div></tbk-dashboard-lead-metric></div><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-green" data-icon="fa-sliders"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count_unique" data-target-property="monitorId" data-event-collection="visibility-initial-request">Here should be a metric.</div></div><div>Monitors</div></tbk-dashboard-lead-metric></div><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-red" data-icon="fa-check-square-o"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count_unique" data-target-property="keen.id" data-event-collection="visibility-initial-request">Here should be a metric.</div></div><div>Events</div></tbk-dashboard-lead-metric></div></div><div class="row"><div class="col-md-4"><div class="chart-wrapper"><div class="chart-title">Requests by Visibility State (relative)</div><div class="chart-stage"><div tbk-vishy-request-by-state-piechart="">Here should be a chart.</div></div><div class="chart-notes">Notes go down here</div></div></div><div class="col-sm-8"><div class="chart-wrapper"><div class="chart-title">Sessions</div><div class="chart-stage"><div tbk-vishy-session-areachart="">Here should be an areachart.</div></div><div class="chart-notes">This is a sample text region to describe this chart.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/overview/language.html",'<div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Language (absolute)</div><div class="chart-stage"><div><div tbk-vishy-language-table="" style="min-height: 100px"></div></div></div><div class="chart-notes">Absolute count of requests grouped by locale settings.</div></div></div><div class="col-sm-8"><div class="chart-wrapper"><div class="chart-title">Language (relative)</div><div class="chart-stage"><div tbk-vishy-language-piechart="">Here should be a chart.</div></div><div class="chart-notes">Relative count of requests grouped by locale settings.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/overview/operatingsystem.html",'<div class="row"><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-primary" data-icon="fa-apple"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'os.groupName\', \'operator\': \'eq\', \'property_value\': \'iOS\' }] }">XXX</div></div><div><i class="fa fa-mobile"></i> <i class="fa fa-tablet"></i> iOS</div></tbk-dashboard-lead-metric></div><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-green" data-icon="fa-android"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'os.groupName\', \'operator\': \'eq\', \'property_value\': \'Android\' }] }">XXX</div></div><div><i class="fa fa-mobile"></i> <i class="fa fa-tablet"></i> Android</div></tbk-dashboard-lead-metric></div><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-yellow" data-icon="fa-windows"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'os.groupName\', \'operator\': \'eq\', \'property_value\': \'Windows\' }] }">XXX</div></div><div><i class="fa fa-mobile"></i> <i class="fa fa-tablet"></i> <i class="fa fa-laptop"></i> <i class="fa fa-desktop"></i> Windows</div></tbk-dashboard-lead-metric></div><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-primary" data-icon="fa-apple"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'os.groupName\', \'operator\': \'eq\', \'property_value\': \'Mac OS X\' }] }">XXX</div></div><div><i class="fa fa-laptop"></i> <i class="fa fa-desktop"></i> Mac OS X</div></tbk-dashboard-lead-metric></div><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel-red" data-icon="fa-linux"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'os.groupName\', \'operator\': \'eq\', \'property_value\': \'Linux\' }] }">XXX</div></div><div><i class="fa fa-laptop"></i> <i class="fa fa-desktop"></i> Linux</div></tbk-dashboard-lead-metric></div><div class="col-md-4"><tbk-dashboard-lead-metric data-panel-class="panel panel-warning" data-icon="fa-question"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-initial-request" data-query-options="{ filters: [{ \'property_name\': \'os.groupName\', \'operator\': \'in\', \'property_value\': [\'Other\', \'Unknown\'] }] }">XXX</div></div><div><i class="fa fa-gamepad"></i> <i class="fa fa-mobile"></i> <i class="fa fa-tablet"></i> <i class="fa fa-laptop"></i> <i class="fa fa-desktop"></i> Other</div></tbk-dashboard-lead-metric></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Operating System (absolute)</div><div class="chart-stage"><div><div tbk-vishy-operating-system-table="" style="min-height: 100px"></div></div></div><div class="chart-notes">Absolute count of requests grouped by locale settings.</div></div></div><div class="col-sm-8"><div class="chart-wrapper"><div class="chart-title">Operating System (relative)</div><div class="chart-stage"><div tbk-vishy-operating-system-piechart="">Here should be a chart.</div></div><div class="chart-notes">Relative count of requests grouped by locale settings.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/percentage-time-test/home.html",'<div class="row"><div class="col-sm-4"><tbk-dashboard-lead-metric data-panel-class="panel-primary" data-icon="fa-check-square-o"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-percentage-time-test" data-query-options="{ filters: [{ \'property_name\': \'test.testConfig.timeLimit\', \'operator\': \'eq\', \'property_value\': 1000 }, { \'property_name\': \'test.testConfig.percentageLimit\', \'operator\': \'eq\', \'property_value\': 0.5 }] }">Here should be a metric.</div></div><div>Total Count Of Passed 50/1 Tests</div></tbk-dashboard-lead-metric></div><div class="col-sm-4"><tbk-dashboard-lead-metric data-panel-class="panel-green" data-icon="fa-clock-o"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="average" data-event-collection="visibility-percentage-time-test" data-target-property="test.timeReport.timeVisible" data-query-options="{ filters: [{ \'property_name\': \'test.testConfig.timeLimit\', \'operator\': \'eq\', \'property_value\': 1000 }, { \'property_name\': \'test.testConfig.percentageLimit\', \'operator\': \'eq\', \'property_value\': 0.5 }] }" data-postfix="s" data-factor="0.001" data-scale="1">Here should be a metric.</div></div><div>Average Time Visible of a 50/1 Test</div></tbk-dashboard-lead-metric></div><div class="col-sm-4"><tbk-dashboard-lead-metric data-panel-class="panel-red" data-icon="fa-clock-o"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="average" data-event-collection="visibility-percentage-time-test" data-target-property="test.timeReport.duration" data-query-options="{ filters: [{ \'property_name\': \'test.testConfig.timeLimit\', \'operator\': \'eq\', \'property_value\': 1000 }, { \'property_name\': \'test.testConfig.percentageLimit\', \'operator\': \'eq\', \'property_value\': 0.5 }] }" data-postfix="s" data-factor="0.001" data-scale="1">Here should be a metric.</div></div><div>Average Time Duration of a 50/1 Test</div></tbk-dashboard-lead-metric></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Total Count Of Passed 100/3 Tests</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="count" data-event-collection="visibility-percentage-time-test" data-query-options="{ filters: [{ \'property_name\': \'test.testConfig.timeLimit\', \'operator\': \'eq\', \'property_value\': 3000 }, { \'property_name\': \'test.testConfig.percentageLimit\', \'operator\': \'eq\', \'property_value\': 1 }] }">Here should be a metric.</div></div><div class="chart-notes"></div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Average Time Visible of a 100/3 Test</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="average" data-event-collection="visibility-percentage-time-test" data-target-property="test.timeReport.timeVisible" data-query-options="{ filters: [{ \'property_name\': \'test.testConfig.timeLimit\', \'operator\': \'eq\', \'property_value\': 3000 }, { \'property_name\': \'test.testConfig.percentageLimit\', \'operator\': \'eq\', \'property_value\': 1 }] }" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div class="chart-notes"></div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Average Time Duration of a 100/3 Test</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="average" data-event-collection="visibility-percentage-time-test" data-target-property="test.timeReport.duration" data-query-options="{ filters: [{ \'property_name\': \'test.testConfig.timeLimit\', \'operator\': \'eq\', \'property_value\': 3000 }, { \'property_name\': \'test.testConfig.percentageLimit\', \'operator\': \'eq\', \'property_value\': 1 }] }" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div class="chart-notes">The average time a 100/3 test took to pass. This means that your element has the oppertunity to be seen after this amount of time after a page has been loaded.</div></div></div></div>');

}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/percentage-time-test/percentiles.html",'<div class="row"><div class="col-sm-4"><div data-tbk-vishy-percentage-time-test-percentile-metric-chart="" data-target-property="test.timeReport.duration" data-percentage-limit="0.5" data-time-limit="1000" data-percentile="99"></div></div><div class="col-sm-4"><div data-tbk-vishy-percentage-time-test-percentile-metric-chart="" data-target-property="test.timeReport.duration" data-percentage-limit="0.5" data-time-limit="1000" data-percentile="95"></div></div><div class="col-sm-4"><div data-tbk-vishy-percentage-time-test-percentile-metric-chart="" data-target-property="test.timeReport.duration" data-percentage-limit="0.5" data-time-limit="1000" data-percentile="90"></div></div></div><div class="row"><div class="col-sm-4"><div data-tbk-vishy-percentage-time-test-percentile-metric-chart="" data-target-property="test.timeReport.duration" data-percentage-limit="0.5" data-time-limit="1000" data-percentile="75"></div></div><div class="col-sm-4"><div data-tbk-vishy-percentage-time-test-percentile-metric-chart="" data-target-property="test.timeReport.duration" data-percentage-limit="0.5" data-time-limit="1000" data-percentile="66"></div></div><div class="col-sm-4"><div data-tbk-vishy-percentage-time-test-percentile-metric-chart="" data-target-property="test.timeReport.duration" data-percentage-limit="0.5" data-time-limit="1000" data-percentile="50"></div></div></div><div class="row"><div class="col-sm-4"><div data-tbk-vishy-percentage-time-test-percentile-metric-chart="" data-target-property="test.timeReport.duration" data-percentage-limit="0.5" data-time-limit="1000" data-percentile="33"></div></div><div class="col-sm-4"><div data-tbk-vishy-percentage-time-test-percentile-metric-chart="" data-target-property="test.timeReport.duration" data-percentage-limit="0.5" data-time-limit="1000" data-percentile="25"></div></div><div class="col-sm-4"><div data-tbk-vishy-percentage-time-test-percentile-metric-chart="" data-target-property="test.timeReport.duration" data-percentage-limit="0.5" data-time-limit="1000" data-percentile="10"></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/percentage-time-test/raw-data.html",'<div class="row"><div class="col-sm-12"><div class="chart-wrapper"><div class="chart-title">Raw Data</div><div class="chart-stage"><div><div tbk-vishy-visibility-percentage-time-test-raw-data-table=""></div></div></div><div class="chart-notes">This is the raw data of received visibility percentage time test events.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/raw-data/home.html",'<div class="row"><div class="col-sm-12"><div class="chart-wrapper"><div class="chart-title">Raw Data</div><div class="chart-stage"><div><div tbk-vishy-visibility-time-report-raw-data-table=""></div></div></div><div class="chart-notes">This is the raw data of received visibility events. All data for visualisation is taken from this data source.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/time-report/browser.html",'<div class="row"><div class="col-sm-12"><div class="chart-wrapper"><div class="chart-title">Average Time Visible By Browser</div><div class="chart-stage"><div tbk-vishy-default-areachart="" data-interval="hourly" data-timeframe="today" data-group-by="browser.name" data-target-property="report.timeVisible" data-event-collection="visibility-time-report" data-analysis-type="average"></div></div><div class="chart-notes">The average time the element was visible grouped by browser.</div></div></div></div><div class="row"><div class="col-sm-12"><div class="chart-wrapper"><div class="chart-title">Median Time Visible By Browser</div><div class="chart-stage"><div tbk-vishy-default-areachart="" data-interval="hourly" data-timeframe="today" data-group-by="browser.name" data-target-property="report.timeVisible" data-event-collection="visibility-time-report" data-analysis-type="median"></div></div><div class="chart-notes">The median time the element was visible grouped by browser.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/time-report/home.html",'<div class="row"><div class="col-md-12"><div class="chart-wrapper"><div class="chart-title">Average Visible Time (in milliseconds)</div><div class="chart-stage"><div tbk-vishy-default-areachart="" analysis-type="average" event-collection="visibility-time-report" target-property="report.timeVisible">Here should be a chart.</div></div><div class="chart-notes"></div></div></div><div class="col-sm-12"><tbk-dashboard-lead-metric data-panel-class="panel-primary" data-icon="fa-clock-o"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="average" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div>Average Time Visible</div></tbk-dashboard-lead-metric></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Average Time Fully Visible</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="average" data-event-collection="visibility-time-report" data-target-property="report.timeFullyVisible" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div class="chart-notes">The average time the element was fully visible.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Average Time Hidden</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="average" data-event-collection="visibility-time-report" data-target-property="report.timeHidden" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div class="chart-notes">The average time the element was hidden.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Average Time Duration</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="average" data-event-collection="visibility-time-report" data-target-property="report.duration" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div class="chart-notes">The average time the element was monitored.</div></div></div></div><div class="row"><div class="col-sm-12"><tbk-dashboard-lead-metric data-panel-class="panel-green" data-icon="fa-clock-o"><div class="huge"><div tbk-keen-default-metric="" data-analysis-type="median" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div>Median Time Visible</div></tbk-dashboard-lead-metric></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Median Time Fully Visible</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="median" data-event-collection="visibility-time-report" data-target-property="report.timeFullyVisible" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div class="chart-notes">The median time the element was fully visible.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Median Time Hidden</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="median" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div class="chart-notes">The median time the element was hidden.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Median Time Duration</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="median" data-event-collection="visibility-time-report" data-target-property="report.duration" data-filter="tbkReadableTime" data-scale="1">Here should be a metric.</div></div><div class="chart-notes">The median time the element was monitored.</div></div></div></div><div class="row"><div class="col-sm-12"><tbk-dashboard-lead-metric data-panel-class="panel-yellow" data-icon="fa-clock-o"><div class="huge"><div tbk-vishy-time-report-visible-recursive="">Here should be a metric.</div></div><div>Total Time Visible</div></tbk-dashboard-lead-metric></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Total Time Visible</div><div class="chart-stage"><div tbk-vishy-time-report-visible-seconds-sum-metric="" data-project-id="myElement" data-id="42">Here should be a metric.</div></div><div class="chart-notes">The total sum of seconds the element was visible.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Total Time Fullyvisible</div><div class="chart-stage"><div tbk-vishy-time-report-fullyvisible-seconds-sum-metric="">Here should be a metric.</div></div><div class="chart-notes">The total sum of seconds the element was fully visible.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Total Time Hidden</div><div class="chart-stage"><div tbk-vishy-time-report-hidden-seconds-sum-metric="">Here should be a metric.</div></div><div class="chart-notes">The total sum of seconds the element was hidden.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/time-report/percentiles.html",'<div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 99% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-query-options="{ percentile: 99 }" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that 1% of the time the element had been visible more or equal to this value.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 95% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-query-options="{ percentile: 95 }" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that 5% of the time the element had been visible more or equal to this value.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 90% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-query-options="{ percentile: 90 }" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that 10% of the time the element had been visible more or equal to this value.</div></div></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 75% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-query-options="{ percentile: 75 }" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that 25% of the time the element had been visible more or equal to this value.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 66% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-query-options="{ percentile: 66 }" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that 33% of the time the element had been visible more or equal to this value.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 50% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-query-options="{ percentile: 50 }" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that 50% of the time the element had been visible more or equal to this value.</div></div></div></div><div class="row"><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 33% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-query-options="{ percentile: 33 }" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that 66% of the time the element had been visible more or equal to this value.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 25% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-query-options="{ percentile: 25 }" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that 75% of the time the element had been visible more or equal to this value.</div></div></div><div class="col-sm-4"><div class="chart-wrapper"><div class="chart-title">Percentage 10% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-time-report" data-target-property="report.timeVisible" data-query-options="{ percentile: 10 }" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that 90% of the time the element had been visible more or equal to this value.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/time-report/raw-data.html",'<div class="row"><div class="col-sm-12"><div class="chart-wrapper"><div class="chart-title">Raw Data</div><div class="chart-stage"><div><div tbk-vishy-visibility-time-report-raw-data-table=""></div></div></div><div class="chart-notes">This is the raw data of received visibility events. All data for visualisation is taken from this data source.</div></div></div></div>')}])}(),function(e){try{e=angular.module("tbk.vishy-ui")}catch(t){e=angular.module("tbk.vishy-ui",[])}e.run(["$templateCache",function(e){e.put("partials/modules/dashboard/sections/percentage-time-test/directives/tbk-vishy-percentage-time-test-percentile-metric-chart.html",'<div class="chart-wrapper"><div class="chart-title">{{percentageLimit*100}}/{{timeLimit / 1000 | number:0}} Test Duration {{percentile}}% Percentile</div><div class="chart-stage"><div tbk-keen-default-metric="" data-analysis-type="percentile" data-event-collection="visibility-percentage-time-test" data-target-property="{{targetProperty}}" data-query-options="queryOptions" data-filter="tbkReadableTime">Here should be a metric.</div></div><div class="chart-notes">This means that {{100-percentile}}% of the time the element had passed the test after this value.</div></div>')}])}();