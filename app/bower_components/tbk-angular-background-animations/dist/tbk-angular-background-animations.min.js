!function(t){t.module("tbkBackgroundAnimations.config",[]).value("tbkBackgroundAnimations.config",{debug:!0}),t.module("tbkBackgroundAnimations.directives",[]),t.module("tbkBackgroundAnimations.services",[]),t.module("tbkBackgroundAnimations.core",["tbkBackgroundAnimations.config","tbkBackgroundAnimations.directives","tbkBackgroundAnimations.services"]),t.module("tbkBackgroundAnimations.animations",["tbkBackgroundAnimations.core"]),t.module("tbkBackgroundAnimations",["tbkBackgroundAnimations.core","tbkBackgroundAnimations.animations"])}(angular),angular.module("tbkBackgroundAnimations.services").factory("tbkAnimationFrame",["$window",function(t){"use strict";var n=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(n){t.setTimeout(n,1e3/60)}}(),o=function(){return t.cancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.clearTimeout}();return{request:function(o){return n.call(t,o)},cancel:function(n){return o.call(t,n)}}}]),angular.module("tbkBackgroundAnimations.services").factory("tbkColors",["$window",function(){"use strict";var t=function o(t,n){var i=n||"#000",a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(a,function(t,n,o,i){return n+n+o+o+i+i});var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return r?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:o(i,"#000")},n=function(t,n,o){return"#"+((1<<24)+(t<<16)+(n<<8)+o).toString(16).slice(1)};return{rgbToHex:n,hexToRgb:t}}]),function(t){"use strict";var n=function(t,n){return function(o,i){function a(){v.fillStyle=d.backgroundColor,v.fillRect(0,0,m,f)}function r(){this.x=Math.random()*m,this.y=Math.random()*f,this.vx=-1+2*Math.random(),this.vy=-1+2*Math.random(),this.radius=d.particleSize,this.draw=function(){v.fillStyle=d.particleColor,v.beginPath(),v.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),v.fill()}}function e(){a();for(var t=0,n=k.length;n>t;t++)k[t].draw();c()}function c(){for(var t=d.minDistance,n=0,o=k.length;o>n;n++){var i=k[n];i.x+=i.vx,i.y+=i.vy,i.x+i.radius>m?i.x=i.radius:i.x-i.radius<0&&(i.x=m-i.radius),i.y+i.radius>f?i.y=i.radius:i.y-i.radius<0&&(i.y=f-i.radius);for(var a=n+1;o>a;a++){var r=k[a],e=l(i,r);t>=e&&(s(i,r,e/t),u(i,r,d.accelerate))}}}function u(t,n,o){var i=t.x-n.x,a=t.y-n.y,r=i*o,e=a*o;t.vx-=r,t.vy-=e,n.vx+=r,n.vy+=e}function s(t,n,o){v.beginPath(),v.strokeStyle="rgba("+h+","+(1.2-o)+")",v.moveTo(t.x,t.y),v.lineTo(n.x,n.y),v.stroke(),v.closePath()}function l(t,n){var o=t.x-n.x,i=t.y-n.y;return Math.sqrt(o*o+i*i)}var m=o.width,f=o.height,d=i||{};if(d.backgroundColor||(d.backgroundColor="rgba(0,0,0,1)"),d.particleColor||(d.particleColor="#fff"),d.particleSize||(d.particleSize=3),!d.particleCount){var b=Math.round(m*f/600);d.particleCount=Math.max(50,b)}d.minDistance||(d.minDistance=100),d.accelerate||(d.accelerate=1/3e3),d.strokeColor||(d.strokeColor="#fff");for(var h=n.hexToRgb(d.strokeColor,"#fff").join(","),v=o.getContext("2d"),k=[],g=0,p=d.particleCount;p>g;g++)k.push(new r);var y;return function A(){e(),y=t.request(A)}(),function(){t.cancel(y)}}};t.module("tbkBackgroundAnimations.animations.ParticleGravity",["tbkBackgroundAnimations.animations"]).factory("tbkParticleGravityAnimationService",["tbkAnimationFrame","tbkColors",function(t,o){return n(t,o)}]).directive("tbkParticleGravityAnimation",["tbkParticleGravityAnimationService",function(n){return{scope:{width:"@",height:"@",style:"=?",options:"=?"},template:"<canvas></canvas>",controller:[function(){}],compile:function(o){var i=o.children()[0];return function(o){o.options=o.options||{},o.style=o.style||[],i.width=o.width||i.width,i.height=o.height||i.height;var a=t.element(i);t.forEach(o.style,function(t,n){a.css(n,t)});var r=n(i,o.options);o.$on("$destroy",function(){r()})}}}}])}(angular),function(t){"use strict";function n(t){var n=this,i=t||{},a=(i.colorRgbArray||[0,0,0]).join(",");this.draw=function(t,r,e){(!n.options||n.options.alpha<=0)&&(n.options=o(r,e,i)),n.options.pos.y-=n.options.velocity,n.options.alpha-=5e-4,t.beginPath(),t.arc(n.options.pos.x,n.options.pos.y,10*n.options.scale,0,2*Math.PI,!1),t.fillStyle="rgba("+a+","+n.options.alpha+")",t.fill()}}var o=function(t,n,o){var i=o||{},a=i.alphaFactor||.5,r=i.scaleFactor||.5,e=i.velocityFactor||1;return{pos:{x:Math.random()*t,y:n+100*Math.random()},alpha:.1+Math.random()*a,scale:.1+Math.random()*r,velocity:.1+Math.random()*e}},i=function(t,o){return function(i,a){function r(){l.fillStyle=s.backgroundColor,l.fillRect(0,0,c,u)}function e(){r();for(var t=0,n=m.length;n>t;t++)m[t].draw(l,c,u)}var c=i.width,u=i.height,s=a||{};s.bubbleCount||(s.bubbleCount=.5*c),s.bubbleColor||(s.bubbleColor="#000"),s.backgroundColor||(s.backgroundColor="#fff");for(var l=i.getContext("2d"),m=[],f={colorRgbArray:o.hexToRgb(s.bubbleColor,"#000"),alphaFactor:s.alphaFactor||.5,scaleFactor:s.scaleFactor||.5,velocityFactor:s.velocityFactor||1},d=0;d<s.bubbleCount;d++)m.push(new n(f));var b;return function h(){e(),b=t.request(h)}(),function(){t.cancel(b)}}};t.module("tbkBackgroundAnimations.animations.Bubbles",["tbkBackgroundAnimations.animations"]).factory("tbkBubblesAnimationService",["tbkAnimationFrame","tbkColors",function(t,n){return i(t,n)}]).directive("tbkBubblesAnimation",["tbkBubblesAnimationService",function(n){return{scope:{width:"@",height:"@",style:"=?",options:"=?"},template:"<canvas></canvas>",controller:[function(){}],compile:function(o){var i=o.children()[0];return function(o){o.options=o.options||{},o.style=o.style||[],i.width=o.width||i.width,i.height=o.height||i.height;var a=t.element(i);t.forEach(o.style,function(t,n){a.css(n,t)});var r=n(i,o.options);o.$on("$destroy",function(){r()})}}}}])}(angular);